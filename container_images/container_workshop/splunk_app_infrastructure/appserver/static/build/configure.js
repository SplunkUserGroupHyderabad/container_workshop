!function(modules){function webpackJsonpCallback(data){for(var moduleId,chunkId,chunkIds=data[0],moreModules=data[1],executeModules=data[2],i=0,resolves=[];i<chunkIds.length;i++)chunkId=chunkIds[i],installedChunks[chunkId]&&resolves.push(installedChunks[chunkId][0]),installedChunks[chunkId]=0;for(moduleId in moreModules)Object.prototype.hasOwnProperty.call(moreModules,moduleId)&&(modules[moduleId]=moreModules[moduleId]);for(parentJsonpFunction&&parentJsonpFunction(data);resolves.length;)resolves.shift()();return deferredModules.push.apply(deferredModules,executeModules||[]),checkDeferredModules()}function checkDeferredModules(){for(var result,i=0;i<deferredModules.length;i++){for(var deferredModule=deferredModules[i],fulfilled=!0,j=1;j<deferredModule.length;j++){var depId=deferredModule[j];0!==installedChunks[depId]&&(fulfilled=!1)}fulfilled&&(deferredModules.splice(i--,1),result=__webpack_require__(__webpack_require__.s=deferredModule[0]))}return result}var installedModules={},installedChunks={3:0},deferredModules=[];function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}__webpack_require__.e=function(chunkId){var promises=[],installedChunkData=installedChunks[chunkId];if(0!==installedChunkData)if(installedChunkData)promises.push(installedChunkData[2]);else{var promise=new Promise(function(resolve,reject){installedChunkData=installedChunks[chunkId]=[resolve,reject]});promises.push(installedChunkData[2]=promise);var onScriptComplete,script=document.createElement("script");script.charset="utf-8",script.timeout=120,__webpack_require__.nc&&script.setAttribute("nonce",__webpack_require__.nc),script.src=function(chunkId){return __webpack_require__.p+""+({}[chunkId]||chunkId)+".js"}(chunkId),onScriptComplete=function(event){script.onerror=script.onload=null,clearTimeout(timeout);var chunk=installedChunks[chunkId];if(0!==chunk){if(chunk){var errorType=event&&("load"===event.type?"missing":event.type),realSrc=event&&event.target&&event.target.src,error=new Error("Loading chunk "+chunkId+" failed.\n("+errorType+": "+realSrc+")");error.type=errorType,error.request=realSrc,chunk[1](error)}installedChunks[chunkId]=void 0}};var timeout=setTimeout(function(){onScriptComplete({type:"timeout",target:script})},12e4);script.onerror=script.onload=onScriptComplete,document.head.appendChild(script)}return Promise.all(promises)},__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__.oe=function(err){throw console.error(err),err};var jsonpArray=window.webpackJsonp=window.webpackJsonp||[],oldJsonpFunction=jsonpArray.push.bind(jsonpArray);jsonpArray.push=webpackJsonpCallback,jsonpArray=jsonpArray.slice();for(var i=0;i<jsonpArray.length;i++)webpackJsonpCallback(jsonpArray[i]);var parentJsonpFunction=oldJsonpFunction;deferredModules.push([1967,0]),checkDeferredModules()}({1967:function(module,exports,__webpack_require__){__webpack_require__(153),__webpack_require__(157),__webpack_require__(0),__webpack_require__(20),module.exports=__webpack_require__(1968)},1968:function(module,exports,__webpack_require__){__webpack_require__.p=function(){function getConfigValue(key,defaultValue){if(window.$C&&window.$C.hasOwnProperty(key))return window.$C[key];if(void 0!==defaultValue)return defaultValue;throw new Error("getConfigValue - "+key+" not set, no default provided")}return function(){for(var seg,len,output="",i=0,l=arguments.length;i<l;i++)1<(len=(seg=arguments[i].toString()).length)&&"/"==seg.charAt(len-1)&&(seg=seg.substring(0,len-1)),"/"!=seg.charAt(0)?output+="/"+seg:output+=seg;if("/"!=output){var segments=output.split("/"),firstseg=segments[1];if("static"==firstseg||"modules"==firstseg){var postfix=output.substring(firstseg.length+2,output.length);output="/"+firstseg,window.$C.BUILD_NUMBER&&(output+="/@"+window.$C.BUILD_NUMBER),window.$C.BUILD_PUSH_NUMBER&&(output+="."+window.$C.BUILD_PUSH_NUMBER),"app"==segments[2]&&(output+=":"+getConfigValue("APP_BUILD",0)),output+="/"+postfix}}var root=getConfigValue("MRSPARKLE_ROOT_PATH","/"),combinedPath="/"+getConfigValue("LOCALE","en-US")+output;return""==root||"/"==root?combinedPath:root+combinedPath}("/static/app/splunk_app_infrastructure/build")+"/"}(),__webpack_require__("util/csrf_protection");var _react2=_interopRequireDefault(__webpack_require__(0)),_reactRedux=__webpack_require__(35),_i18n=__webpack_require__(2),_PageLoadProfiler2=_interopRequireDefault(__webpack_require__(289)),_ErrorBoundarySai2=_interopRequireDefault(__webpack_require__(250)),_sagas=__webpack_require__(233),_userRoles=__webpack_require__(82),_layoutWrapper2=_interopRequireDefault(__webpack_require__(220)),_configureStore2=_interopRequireDefault(__webpack_require__(1969)),_sagas3=_interopRequireDefault(__webpack_require__(1975)),_sagas5=_interopRequireDefault(__webpack_require__(1979)),_sagas7=_interopRequireDefault(__webpack_require__(1981)),_ConfigureThemeContainer2=_interopRequireDefault(__webpack_require__(1984)),_utils=__webpack_require__(234),_commonUtils=__webpack_require__(73),config=function(obj){{if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}}(__webpack_require__(409));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var pageLayoutOptions=(0,_utils.getPageLayoutOptions)({pageTitle:(0,_i18n._)("Add Data")+" | "+(0,_commonUtils.getPackageName)()}),store=(0,_configureStore2.default)(window.__INITIAL_STATE__);store.runSaga(_sagas.dimensionSaga),store.runSaga(_sagas3.default),store.runSaga(config.isMultiCloudEnabled()?_sagas7.default:_sagas5.default),store.runSaga(_userRoles.userRolesSagas.rootSaga),(0,_layoutWrapper2.default)(_react2.default.createElement(_reactRedux.Provider,{store:store,key:"configure"},_react2.default.createElement(_ErrorBoundarySai2.default,null,_react2.default.createElement(_PageLoadProfiler2.default,{idToLookFor:"addDataPageProfilerMarker"},_react2.default.createElement(_ConfigureThemeContainer2.default,null)))),pageLayoutOptions)},1969:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _toConsumableArray3=_interopRequireDefault(__webpack_require__(61));exports.default=function(initialState){var sagaMiddleware=(0,_reduxSaga2.default)(),middleware=(0,_util.addReduxLogger)([sagaMiddleware]),reducers={themeReducer:_reducer2.default,configurationStatusReducer:_reducers5.configurationStatusReducer,k8sConfigurationReducer:_reducers6.k8sConfigurationReducer,openShiftConfigurationReducer:_reducers6.openShiftConfigurationReducer,hecConfigurationReducer:_reducers5.hecConfigurationReducer,unixConfigurationReducer:_reducers6.unixConfigurationReducer,windowsConfigurationReducer:_reducers6.windowsConfigurationReducer,osxConfigurationReducer:_reducers6.osxConfigurationReducer,awsConfigurationReducer:_reducers4.default,dimensionMultiselectReducer:_reducer4.default,userRolesReducer:_userRoles.userRolesReducer};config.isMultiCloudEnabled()&&(reducers.awsConfig=_reducers2.default);var store=(0,_redux.createStore)((0,_redux.combineReducers)(reducers),initialState,_redux.applyMiddleware.apply(void 0,(0,_toConsumableArray3.default)(middleware)));return store.runSaga=sagaMiddleware.run,store.close=function(){return store.dispatch(_reduxSaga.END)},store};var _redux=__webpack_require__(25),_reduxSaga=__webpack_require__(207),_reduxSaga2=_interopRequireDefault(_reduxSaga),_reducer2=_interopRequireDefault(__webpack_require__(274)),_reducer4=_interopRequireDefault(__webpack_require__(580)),_userRoles=__webpack_require__(82),_reducers2=_interopRequireDefault(__webpack_require__(1970)),_reducers4=_interopRequireDefault(__webpack_require__(1971)),_reducers5=__webpack_require__(1972),_reducers6=__webpack_require__(1973),_util=__webpack_require__(275),config=function(obj){{if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}}(__webpack_require__(409));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}module.exports=exports.default},1970:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var obj,_extends2=__webpack_require__(6),_extends3=(obj=_extends2)&&obj.__esModule?obj:{default:obj},_stateConstants=__webpack_require__(15),_actions=__webpack_require__(407),_actionTypes=__webpack_require__(583);var awsConfigDefaultState={allRegions:[],allServices:[],accounts:[{id:"",externalID:"",disabled:!1,cloudProvider:"aws",iamArn:"",services:[],regions:[],metricConfig:{},cwLogsConfig:{},s3LogsConfig:{queues:[""]}}],isFetchingRegions:_stateConstants.FETCH_OBJECT_STATE.READY,isFetchingServices:_stateConstants.FETCH_OBJECT_STATE.READY};exports.default=function(){var state=0<arguments.length&&void 0!==arguments[0]?arguments[0]:awsConfigDefaultState,action=arguments[1],newState=(0,_extends3.default)({},state);switch(action.type){case _actions.AWS_FETCH_ALL_SERVICES_TRACKER.START:newState.isFetchingServices=_stateConstants.FETCH_OBJECT_STATE.IN_PROGRESS;break;case _actions.AWS_FETCH_ALL_SERVICES_TRACKER.SUCCESS:newState.isFetchingServices=_stateConstants.FETCH_OBJECT_STATE.SUCCESS,newState.allServices=action.response;break;case _actions.AWS_FETCH_ALL_SERVICES_TRACKER.FAILURE:newState.allServices=[],newState.isFetchingServices=_stateConstants.FETCH_OBJECT_STATE.ERROR;break;case _actions.AWS_FETCH_ALL_REGIONS_TRACKER.START:newState.isFetchingRegions=_stateConstants.FETCH_OBJECT_STATE.IN_PROGRESS;break;case _actions.AWS_FETCH_ALL_REGIONS_TRACKER.SUCCESS:newState.isFetchingRegions=_stateConstants.FETCH_OBJECT_STATE.SUCCESS,newState.allRegions=action.response;break;case _actions.AWS_FETCH_ALL_REGIONS_TRACKER.FAILURE:newState.allRegions=[],newState.isFetchingRegions=_stateConstants.FETCH_OBJECT_STATE.ERROR;break;case _actionTypes.AWS_ACCOUNT_CONFIG_CHANGE:newState.accounts=[action.payload]}return newState},module.exports=exports.default},1971:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _keys2=_interopRequireDefault(__webpack_require__(29)),_extends3=_interopRequireDefault(__webpack_require__(6)),_lodash2=_interopRequireDefault(__webpack_require__(16)),_stateConstants=__webpack_require__(15),_actions=__webpack_require__(235),_actionTypes=__webpack_require__(584);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var awsConfigurationInitialState={allRegions:[],isFetchingRegions:!1,isFetchingAccountInfo:_stateConstants.FETCH_OBJECT_STATE.READY,isFetchingInput:_stateConstants.FETCH_OBJECT_STATE.READY,isFetchingLogsInput:_stateConstants.FETCH_OBJECT_STATE.READY,initialInputName:"",cloudwatchLogsAccountName:"",initialSelectedRegions:[],initialSelectedEntityTypes:[],inputAccountName:"",initialAccountRegionCategory:"1",initialName:"",initialKeyId:"",inputModifyState:_stateConstants.INPUT_MODIFY.READY,awsAccountStatus:_stateConstants.AWS_ACCOUNT_STATUS.READY,initialLogInputsInfo:[],cloudWatchLogsInputBulkEditState:_stateConstants.BULK_EDIT_STATE.READY,cloudWatchLogsInputModifyResult:{},accountDeletionState:_stateConstants.DELETE_OBJECT_STATE.READY,awsTaVersionFetchState:_stateConstants.FETCH_OBJECT_STATE.READY,deploymentEnv:null,awsTaVersion:"",awsTaEnabled:!1};exports.default=function(){var state=0<arguments.length&&void 0!==arguments[0]?arguments[0]:awsConfigurationInitialState,action=arguments[1],newState=(0,_extends3.default)({},state);switch(action.type){case _actions.DEPLOYMENT_ENV_RETRIEVE_TRACKER.START:newState.deploymentEnvLoadStatus=_stateConstants.FETCH_OBJECT_STATE.IN_PROGRESS;break;case _actions.DEPLOYMENT_ENV_RETRIEVE_TRACKER.SUCCESS:newState.deploymentEnvLoadStatus=_stateConstants.FETCH_OBJECT_STATE.SUCCESS,newState.deploymentEnv=action.response;break;case _actions.DEPLOYMENT_ENV_RETRIEVE_TRACKER.FAILURE:newState.deploymentEnvLoadStatus=_stateConstants.FETCH_OBJECT_STATE.FAILURE;break;case _actions.AWS_ACCOUNT_CREATE_TRACKER.START:case _actions.AWS_ACCOUNT_UPDATE_TRACKER.START:newState.awsAccountStatus=_stateConstants.AWS_ACCOUNT_STATUS.IN_PROGRESS;break;case _actions.AWS_ACCOUNT_CREATE_TRACKER.SUCCESS:case _actions.AWS_ACCOUNT_UPDATE_TRACKER.SUCCESS:newState.awsAccountStatus=_stateConstants.AWS_ACCOUNT_STATUS.SUCCESS,action.response&&(newState.initialName=action.response.name,newState.initialKeyId=action.response.keyId,newState.initialAccountRegionCategory=action.response.category);break;case _actions.AWS_ACCOUNT_CREATE_TRACKER.FAILURE:case _actions.AWS_ACCOUNT_UPDATE_TRACKER.FAILURE:newState.awsAccountStatus=_stateConstants.AWS_ACCOUNT_STATUS.ERROR;break;case _actions.AWS_ACCOUNT_RETRIEVE_TRACKER.START:newState.isFetchingAccountInfo=_stateConstants.FETCH_OBJECT_STATE.IN_PROGRESS;break;case _actions.AWS_ACCOUNT_RETRIEVE_TRACKER.SUCCESS:newState.isFetchingAccountInfo=_stateConstants.FETCH_OBJECT_STATE.SUCCESS,action.response&&(newState.initialName=action.response.name,newState.initialKeyId=action.response.keyId,newState.initialAccountRegionCategory=action.response.category);break;case _actions.AWS_ACCOUNT_RETRIEVE_TRACKER.FAILURE:newState.isFetchingAccountInfo=_stateConstants.FETCH_OBJECT_STATE.ERROR;break;case _actions.CLOUDWATCH_REGIONS_RETRIEVE_TRACKER.START:newState.isFetchingRegions=!0;break;case _actions.CLOUDWATCH_REGIONS_RETRIEVE_TRACKER.SUCCESS:newState.isFetchingRegions=!1,newState.allRegions=action.response;break;case _actions.CLOUDWATCH_REGIONS_RETRIEVE_TRACKER.FAILURE:newState.isFetchingRegions=!1;break;case _actions.CLOUDWATCH_INPUT_CREATION_TRACKER.START:case _actions.CLOUDWATCH_INPUT_UPDATE_TRACKER.START:newState.inputModifyState=_stateConstants.INPUT_MODIFY.IN_PROGRESS;break;case _actions.CLOUDWATCH_INPUT_CREATION_TRACKER.SUCCESS:case _actions.CLOUDWATCH_INPUT_UPDATE_TRACKER.SUCCESS:if(0<action.response.length){var input=action.response[0];newState.initialSelectedRegions=input.awsRegion,newState.initialSelectedEntityTypes=input.metricNamespace,newState.initialInputName=input.inputName,newState.inputAccountName=input.awsAccount}else newState.initialSelectedRegions=[],newState.initialSelectedEntityTypes=[],newState.initialInputName="",newState.inputAccountName="";newState.inputModifyState=_stateConstants.INPUT_MODIFY.SUCCESS;break;case _actions.CLOUDWATCH_INPUT_CREATION_TRACKER.FAILURE:case _actions.CLOUDWATCH_INPUT_UPDATE_TRACKER.FAILURE:newState.inputModifyState=_stateConstants.INPUT_MODIFY.ERROR;break;case _actions.CLOUDWATCH_INPUT_RETRIEVE_TRACKER.START:newState.isFetchingInput=_stateConstants.FETCH_OBJECT_STATE.IN_PROGRESS;break;case _actions.CLOUDWATCH_INPUT_RETRIEVE_TRACKER.SUCCESS:if(newState.isFetchingInput=_stateConstants.FETCH_OBJECT_STATE.SUCCESS,0<action.response.length){var _input=action.response[0];newState.initialSelectedRegions=_input.awsRegion,newState.initialSelectedEntityTypes=_input.metricNamespace,newState.initialInputName=_input.inputName,newState.inputAccountName=_input.awsAccount}break;case _actions.CLOUDWATCH_INPUT_RETRIEVE_TRACKER.FAILURE:newState.isFetchingInput=_stateConstants.FETCH_OBJECT_STATE.ERROR;break;case _actions.CLOUDWATCH_LOGS_INPUT_RETRIEVE_TRACKER.START:newState.isFetchingLogsInput=_stateConstants.FETCH_OBJECT_STATE.IN_PROGRESS;break;case _actions.CLOUDWATCH_LOGS_INPUT_RETRIEVE_TRACKER.SUCCESS:newState.isFetchingLogsInput=_stateConstants.FETCH_OBJECT_STATE.SUCCESS,newState.initialLogInputsInfo=action.response,newState.cloudwatchLogsAccountName=action.response&&action.response[0]?action.response[0].account:void 0;break;case _actions.CLOUDWATCH_LOGS_INPUT_RETRIEVE_TRACKER.FAILURE:newState.isFetchingLogsInput=_stateConstants.FETCH_OBJECT_STATE.ERROR;break;case _actions.CLOUDWATCH_LOGS_INPUT_BULK_EDIT_TRACKER.BULK_START:newState.cloudWatchLogsInputBulkEditState=_stateConstants.BULK_EDIT_STATE.IN_PROGRESS;break;case _actions.CLOUDWATCH_LOGS_INPUT_BULK_EDIT_TRACKER.BULK_COMPLETE:newState.cloudWatchLogsInputBulkEditState=_stateConstants.BULK_EDIT_STATE.COMPLETE,newState.cloudWatchLogsInputModifyResult=action.response,newState.cloudwatchLogsAccountName=action.response&&!_lodash2.default.isEmpty(action.response)?action.response[(0,_keys2.default)(action.response)[0]].account:void 0;var newLogInputs=[];_lodash2.default.forEach(action.response,function(inputResult){var input=_lodash2.default.pick(inputResult,["account","name","region","group"]),status=inputResult.status;"CREATE_SUCCESS"===status||"UPDATE_SUCCESS"===status||"DELETE_FAILURE"===status?newLogInputs.push(input):"UPDATE_FAILURE"===status&&newLogInputs.push(_lodash2.default.find(state.initialLogInputsInfo,{name:input.name}))}),newLogInputs=newLogInputs.concat(state.initialLogInputsInfo.filter(function(input){return!_lodash2.default.has(action.response,input.name)})),newState.initialLogInputsInfo=_lodash2.default.orderBy(newLogInputs,"name","asc");break;case _actionTypes.AWS_ACCOUNT_DELETION_CONFIRM:newState.accountDeletionState=_stateConstants.DELETE_OBJECT_STATE.CONFIRM;break;case _actionTypes.AWS_ACCOUNT_DELETION_READY:newState.accountDeletionState=_stateConstants.DELETE_OBJECT_STATE.READY;break;case _actions.AWS_ACCOUNT_DELETE_TRACKER.START:newState.accountDeletionState=_stateConstants.DELETE_OBJECT_STATE.IN_PROGRESS;break;case _actions.AWS_ACCOUNT_DELETE_TRACKER.SUCCESS:newState.accountDeletionState=_stateConstants.DELETE_OBJECT_STATE.SUCCESS,newState.initialName="",newState.initialKeyId="";break;case _actions.AWS_ACCOUNT_DELETE_TRACKER.FAILURE:newState.accountDeletionState=_stateConstants.DELETE_OBJECT_STATE.ERROR;break;case _actions.AWS_CHECK_TA_PRESENCE_TRACKER.START:newState.awsTaVersionFetchState=_stateConstants.FETCH_OBJECT_STATE.IN_PROGRESS;break;case _actions.AWS_CHECK_TA_PRESENCE_TRACKER.SUCCESS:newState.awsTaVersionFetchState=_stateConstants.FETCH_OBJECT_STATE.SUCCESS,action.response&&(newState.awsTaVersion=action.response.awsTaVersion,newState.awsTaEnabled=action.response.awsTaEnabled);break;case _actions.AWS_CHECK_TA_PRESENCE_TRACKER.FAILURE:newState.awsTaVersionFetchState=_stateConstants.FETCH_OBJECT_STATE.ERROR}return newState},module.exports=exports.default},1972:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hecConfigurationReducer=exports.configurationStatusReducer=void 0;var obj,_extends2=__webpack_require__(6),_extends3=(obj=_extends2)&&obj.__esModule?obj:{default:obj},_actions=__webpack_require__(408),actions=function(obj){{if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}}(__webpack_require__(585));var configurationStatusInitialState={connectedCount:0,newCount:0,initialFetchDone:!1},hecConfigurationInitialState={isFetchingToken:!1,isHttpInputEnabled:!1,hecToken:"",hecPort:"",errorStatusText:null,packageLink:"",sourceTypes:[]};exports.configurationStatusReducer=function(){var state=0<arguments.length&&void 0!==arguments[0]?arguments[0]:configurationStatusInitialState,action=arguments[1],newState=(0,_extends3.default)({},state);switch(action.type){case actions.UPDATE_COUNT:newState.initialFetchDone||(newState.initialFetchDone=!0,newState.connectedCount=action.count),newState.newCount=action.count-newState.connectedCount;break;case actions.RESET_INITIAL_FETCH:newState.initialFetchDone=!1,newState.connectedCount=0,newState.newCount=0}return newState},exports.hecConfigurationReducer=function(){var state=0<arguments.length&&void 0!==arguments[0]?arguments[0]:hecConfigurationInitialState,action=arguments[1],newState=(0,_extends3.default)({},state);switch(action.type){case actions.FETCH_AGENT_URL:newState.packageLink=action.agent_url;break;case _actions.SOURCETYPES_RETRIEVE_TRACKER.SUCCESS:newState.sourceTypes=action.response;break;case actions.FETCH_HEC_TOKEN:switch(action.status){case"start":newState.isFetchingToken=!0;break;case"error":newState.isFetchingToken=!1,newState.hecToken="",newState.errorStatusText=action.response.statusText;break;case"success":newState.isFetchingToken=!1,newState.hecToken=action.response.hecToken}break;case actions.ENABLE_HEC:switch(action.status){case"start":newState.isFetchingToken=!0;break;case"error":newState.isFetchingToken=!1,newState.isHttpInputEnabled=!1,newState.hecPort=null;break;case"success":newState.isFetchingToken=!1,newState.isHttpInputEnabled=action.settings.splunkHttpInputEnabled,newState.hecPort=action.settings.hecPort}}return newState}},1973:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.openShiftConfigurationReducer=exports.k8sConfigurationReducer=exports.windowsConfigurationReducer=exports.unixConfigurationReducer=exports.osxConfigurationReducer=void 0;var _extends3=_interopRequireDefault(__webpack_require__(6)),_lodash2=_interopRequireDefault(__webpack_require__(16)),_actionTypes=__webpack_require__(915);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.osxConfigurationReducer=function(state,action){var newState=(0,_extends3.default)({},state),customLogsAndSources={};switch(action.type){case _actionTypes.UPDATE_OSX_CUSTOM_METRICS_AND_LOGS:_lodash2.default.each(action.customLogs,function(log){return customLogsAndSources[log.path]=log.sourceType}),newState.selectedOSXMetrics=action.selectedOSXMetrics,newState.selectedOSXLogs=(0,_extends3.default)({},action.selectedOSXLogs,customLogsAndSources)}return newState},exports.unixConfigurationReducer=function(state,action){var newState=(0,_extends3.default)({},state),customLogsAndSources={};switch(action.type){case _actionTypes.UPDATE_UNIX_CUSTOM_METRICS_AND_LOGS:_lodash2.default.each(action.customLogs,function(log){return customLogsAndSources[log.path]=log.sourceType}),newState.selectedMetrics=action.selectedMetrics,newState.selectedLogs=(0,_extends3.default)({},action.selectedLogs,customLogsAndSources)}return newState},exports.windowsConfigurationReducer=function(state,action){var newState=(0,_extends3.default)({},state),customLogsAndSources={};switch(action.type){case _actionTypes.UPDATE_WINDOWS_CUSTOM_METRICS_AND_LOGS:_lodash2.default.each(action.customLogs,function(log){return customLogsAndSources[log.path]=log.sourceType}),newState.selectedWindowsMetrics=action.selectedWindowsMetrics,newState.selectedWindowsLogs=(0,_extends3.default)({},action.selectedWindowsLogs,customLogsAndSources)}return newState},exports.k8sConfigurationReducer=function(state,action){var newState=(0,_extends3.default)({},state);switch(action.type){case _actionTypes.UPDATE_K8S_OBJECTS:newState.selectedK8sObjects=action.selectedK8sObjects}return newState},exports.openShiftConfigurationReducer=function(state,action){var newState=(0,_extends3.default)({},state);switch(action.type){case _actionTypes.UPDATE_OPENSHIFT_OBJECTS:newState.selectedOpenShiftObjects=action.selectedOpenShiftObjects}return newState}},1975:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _regenerator2=_interopRequireDefault(__webpack_require__(65));exports.enableHttpInput=enableHttpInput,exports.fetchHECToken=fetchHECToken,exports.fetchCollectorInstallLink=fetchCollectorInstallLink,exports.loadAllSourceTypes=loadAllSourceTypes,exports.default=configureSaga;var _effects=__webpack_require__(60),_boolean=__webpack_require__(1976),_i18n=__webpack_require__(2),_format=__webpack_require__(39),_lodash=__webpack_require__(16),_servicesUtils=__webpack_require__(48),_stateConstants=__webpack_require__(15),_sourcetypes2=_interopRequireDefault(__webpack_require__(1977)),configureActions=_interopRequireWildcard(__webpack_require__(408)),actionTypes=_interopRequireWildcard(__webpack_require__(585)),hec=_interopRequireWildcard(__webpack_require__(1978));function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _marked=_regenerator2.default.mark(enableHttpInput),_marked2=_regenerator2.default.mark(fetchHECToken),_marked3=_regenerator2.default.mark(fetchCollectorInstallLink),_marked4=_regenerator2.default.mark(loadAllSourceTypes),_marked5=_regenerator2.default.mark(configureSaga);function enableHttpInput(){var hecSettings,_ref,response,entry,enableResponse;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return hecSettings={splunkHttpInputEnabled:!1,hecPort:null,statusText:null},_context.next=3,(0,_effects.put)(configureActions.enableHecStatus("start",{}));case 3:return _context.next=5,(0,_effects.call)(hec.getHttpInputXhr);case 5:if(_ref=_context.sent,response=_ref.response,(entry=response.entry.find(function(el){return el.acl.app===_stateConstants.HEC_SETTINGS_DEFAULT_APP_CONTEXT}))&&entry.content&&(hecSettings.splunkHttpInputEnabled=!(0,_boolean.normalizeBoolean)(entry.content.disabled)||!1,hecSettings.hecPort=entry.content.port),hecSettings.splunkHttpInputEnabled){_context.next=24;break}return _context.next=12,(0,_effects.call)(hec.enableHec);case 12:if(!(enableResponse=_context.sent).response){_context.next=18;break}hecSettings.splunkHttpInputEnabled=!0,hecSettings.statusText=(0,_i18n._)("Successfully enabled Http Event Collector."),_context.next=22;break;case 18:return hecSettings.statusText=(0,_format.sprintf)((0,_i18n._)("Unable to enable Http Event Collector: %(message)s"),{message:enableResponse.error}),_context.next=21,(0,_effects.put)(configureActions.enableHecStatus("error",hecSettings));case 21:return _context.abrupt("return");case 22:_context.next=25;break;case 24:hecSettings.statusText=(0,_i18n._)("Http Event Collector already enabled.");case 25:return _context.next=27,(0,_effects.put)(configureActions.enableHecStatus("success",hecSettings));case 27:return _context.next=29,(0,_effects.put)(configureActions.fetchHECToken());case 29:case"end":return _context.stop()}},_marked,this)}function fetchHECToken(action){var status,_ref2,response,token,updateTokenResults,newTokenResults;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,(0,_effects.put)(configureActions.fetchHECTokenStatus("start",{}));case 2:return status={hecToken:"",sourcetype:action.sourcetype,index:action.index,statusText:null},_context2.prev=3,_context2.next=6,(0,_effects.call)(hec.getEntityMonitoringHecTokensXhr);case 6:if(_ref2=_context2.sent,response=_ref2.response,"index"in(token=response.entry[0].content)&&"sourcetype"in token&&(token.index!==action.index||token.sourcetype!==action.sourcetype||(0,_boolean.normalizeBoolean)(token.disabled)))return _context2.prev=10,_context2.next=13,(0,_effects.call)(hec.updateExistingTokenXhr,action.tokenName,action.sourcetype,action.index);_context2.next=26;break;case 13:updateTokenResults=_context2.sent,status.hecToken=updateTokenResults.response.entry[0].content.token,status.statusText=(0,_i18n._)("Successfully fetched HEC token."),_context2.next=24;break;case 18:return _context2.prev=18,_context2.t0=_context2.catch(10),status.statusText=(0,_format.sprintf)((0,_i18n._)("Failed to update HEC token: %(message)s"),{message:_context2.t0.error}),_context2.next=23,(0,_effects.put)(configureActions.fetchHECTokenStatus("error",status));case 23:return _context2.abrupt("return");case 24:_context2.next=28;break;case 26:status.hecToken=token.token,status.statusText=(0,_i18n._)("Successfully fetched HEC token.");case 28:_context2.next=53;break;case 30:if(_context2.prev=30,_context2.t1=_context2.catch(3),404===_context2.t1.status)return _context2.prev=33,_context2.next=36,(0,_effects.call)(hec.createNewTokenXhr,action.tokenName,action.sourcetype,action.index);_context2.next=49;break;case 36:newTokenResults=_context2.sent,status.hecToken=newTokenResults.response.entry[0].content.token,status.statusText=(0,_i18n._)("Successfully created HEC token."),_context2.next=47;break;case 41:return _context2.prev=41,_context2.t2=_context2.catch(33),status.statusText=(0,_format.sprintf)((0,_i18n._)("Failed to create HEC token: %(message)s"),{message:_context2.t2.error}),_context2.next=46,(0,_effects.put)(configureActions.fetchHECTokenStatus("error",status));case 46:return _context2.abrupt("return");case 47:_context2.next=53;break;case 49:return status.statusText=(0,_format.sprintf)((0,_i18n._)("Failed to fetch HEC token: %(message)s"),{message:_context2.t1.message}),_context2.next=52,(0,_effects.put)(configureActions.fetchHECTokenStatus("error",status));case 52:return _context2.abrupt("return");case 53:return _context2.next=55,(0,_effects.put)(configureActions.fetchHECTokenStatus("success",status));case 55:return _context2.next=57,(0,_effects.put)(configureActions.fetchAgentUrl());case 57:case"end":return _context2.stop()}},_marked2,this,[[3,30],[10,18],[33,41]])}function fetchCollectorInstallLink(action){var _ref3,response,agentUrl;return _regenerator2.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,(0,_effects.call)(hec.getCollectorUrl,action.collector);case 2:return _ref3=_context3.sent,response=_ref3.response,agentUrl=response.entry[0].content.agent_url,_context3.next=7,(0,_effects.put)(configureActions.fetchAgentUrlStatus(agentUrl));case 7:case"end":return _context3.stop()}},_marked3,this)}function loadAllSourceTypes(){var _ref4,response,parsedResponse;return _regenerator2.default.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,(0,_effects.put)(configureActions.sourcetypesRetrieveStatusDispatcher.start());case 2:return _context4.prev=2,_context4.next=5,(0,_effects.call)(_sourcetypes2.default);case 5:return _ref4=_context4.sent,response=_ref4.response,parsedResponse=(0,_lodash.map)((0,_lodash.filter)(response.entry,function(eachEntry){return eachEntry.content.category}),function(filteredEntry){return filteredEntry.name}),_context4.next=10,(0,_effects.put)(configureActions.sourcetypesRetrieveStatusDispatcher.success(parsedResponse));case 10:_context4.next=16;break;case 12:return _context4.prev=12,_context4.t0=_context4.catch(2),_context4.next=16,(0,_effects.put)(configureActions.sourcetypesRetrieveStatusDispatcher.failure((0,_servicesUtils.formatErrorResponse)(_context4.t0)));case 16:case"end":return _context4.stop()}},_marked4,this,[[2,12]])}function configureSaga(){return _regenerator2.default.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.next=2,(0,_effects.takeLatest)(actionTypes.ENABLE_HEC_INITIATE,enableHttpInput);case 2:return _context5.next=4,(0,_effects.takeLatest)(actionTypes.FETCH_HEC_TOKEN_INITIATE,fetchHECToken);case 4:return _context5.next=6,(0,_effects.takeLatest)(actionTypes.FETCH_AGENT_URL_INITIATE,fetchCollectorInstallLink);case 6:return _context5.next=8,(0,_effects.takeLatest)(actionTypes.SOURCETYPES_RETRIEVE,loadAllSourceTypes);case 8:case"end":return _context5.stop()}},_marked5,this)}},1976:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.normalizeBoolean=function(value){switch("string"==typeof value?value.toLowerCase():value){case!0:case 1:case"1":case"yes":case"on":case"true":return!0;case!1:case 0:case"0":case"no":case"off":case"false":return!1;default:return}}},1977:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _url=__webpack_require__(122),_servicesUtils=__webpack_require__(48),SOURCETYPES_URL=(0,_url.createRESTURL)("saved/sourcetypes",{owner:"nobody",app:"splunk_app_infrastructure"});exports.default=function(){return(0,_servicesUtils.requestAPI)(SOURCETYPES_URL,"","GET",{count:-1})},module.exports=exports.default},1978:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getHttpInputXhr=function(){return(0,_servicesUtils.requestAPI)(globalBaseUrl,"http","GET",{output_mode:"json"},(0,_i18n._)("Failed to get HTTP Input settings"))},exports.getEntityMonitoringHecTokensXhr=function(){return(0,_servicesUtils.requestAPI)(globalBaseUrl,encodeURIComponent("http://splunk_app_infrastructure"),"GET",{output_mode:"json"},(0,_i18n._)("Failed to fetch existing HEC tokens"))},exports.createNewTokenXhr=function(tokenName,sourcetype,index){return(0,_servicesUtils.requestAPI)(baseUrl,"","POST",{name:tokenName,index:index,sourcetype:sourcetype,output_mode:"json"},(0,_i18n._)("Failed to create HEC token"))},exports.updateExistingTokenXhr=function(tokenName,sourcetype,index){return(0,_servicesUtils.requestAPI)(baseUrl,encodeURIComponent(tokenName),"POST",{index:index,sourcetype:sourcetype,disabled:"0",output_mode:"json"},(0,_i18n._)("Failed to update existing token information"))},exports.enableHec=function(){return(0,_servicesUtils.requestAPI)(baseUrl,"http/enable","POST",{output_mode:"json"},(0,_i18n._)("Failed to enable HEC."))},exports.getCollectorUrl=function(){var collector=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"collectd";return(0,_servicesUtils.requestAPI)(confBaseUrl,"conf-agents/"+collector,"GET",{output_mode:"json",count:-1},(0,_i18n._)("Unable to fetch collector URL."))};var _url=__webpack_require__(122),_i18n=__webpack_require__(2),_emUtils=__webpack_require__(26),_servicesUtils=__webpack_require__(48),baseUrl=(0,_emUtils.getAppSplunkdUrl)("data/inputs/http"),globalBaseUrl=(0,_url.createRESTURL)("data/inputs/http",{owner:"-",app:"-"});var confBaseUrl=(0,_emUtils.getAppSplunkdUrl)("configs")},1979:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getCloudWatchLogsInputBulkActionItems=exports.getDeploymentEnv=void 0;var _toConsumableArray3=_interopRequireDefault(__webpack_require__(61)),_slicedToArray3=_interopRequireDefault(__webpack_require__(92)),_extends3=_interopRequireDefault(__webpack_require__(6)),_regenerator2=_interopRequireDefault(__webpack_require__(65));exports.createCloudWatchInput=createCloudWatchInput,exports.updateCloudWatchInput=updateCloudWatchInput,exports.loadCloudWatchInputs=loadCloudWatchInputs,exports.loadCloudWatchRegions=loadCloudWatchRegions,exports.createAwsAccount=createAwsAccount,exports.updateAwsAccount=updateAwsAccount,exports.deleteAwsAccount=deleteAwsAccount,exports.loadDeploymentEnv=loadDeploymentEnv,exports.deleteNonIAMAccounts=deleteNonIAMAccounts,exports.loadAwsAccountInfo=loadAwsAccountInfo,exports.loadCloudWatchLogsInput=loadCloudWatchLogsInput,exports.modifyCloudWatchLogsInput=modifyCloudWatchLogsInput,exports.bulkModifyCloudWatchLogsInput=bulkModifyCloudWatchLogsInput,exports.bulkProcessCloudWatchLogsInput=bulkProcessCloudWatchLogsInput,exports.deleteInputsLogInputsAccount=deleteInputsLogInputsAccount,exports.retrieveAwsTaPresenceInfo=retrieveAwsTaPresenceInfo,exports.default=awsSaga;var _effects=__webpack_require__(60),_lodash2=_interopRequireDefault(__webpack_require__(16)),_commonUtils=__webpack_require__(24),_servicesUtils=__webpack_require__(48),_stateConstants=__webpack_require__(15),_searchConstants=__webpack_require__(536),_actions=__webpack_require__(235),actionTypes=_interopRequireWildcard(__webpack_require__(584)),awsAPI=_interopRequireWildcard(__webpack_require__(1980));function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _marked=_regenerator2.default.mark(createCloudWatchInput),_marked2=_regenerator2.default.mark(updateCloudWatchInput),_marked3=_regenerator2.default.mark(loadCloudWatchInputs),_marked4=_regenerator2.default.mark(loadCloudWatchRegions),_marked5=_regenerator2.default.mark(createAwsAccount),_marked6=_regenerator2.default.mark(updateAwsAccount),_marked7=_regenerator2.default.mark(deleteAwsAccount),_marked8=_regenerator2.default.mark(loadDeploymentEnv),_marked9=_regenerator2.default.mark(deleteNonIAMAccounts),_marked10=_regenerator2.default.mark(loadAwsAccountInfo),_marked11=_regenerator2.default.mark(loadCloudWatchLogsInput),_marked12=_regenerator2.default.mark(modifyCloudWatchLogsInput),_marked13=_regenerator2.default.mark(bulkModifyCloudWatchLogsInput),_marked14=_regenerator2.default.mark(bulkProcessCloudWatchLogsInput),_marked15=_regenerator2.default.mark(deleteInputsLogInputsAccount),_marked16=_regenerator2.default.mark(retrieveAwsTaPresenceInfo),_marked17=_regenerator2.default.mark(awsSaga);function FailedParseResponseException(message){this.message=message,this.name="FailedParseResponseException"}function parseCloudWatchInputResponse(response){return response.entry.map(function(e){var name=e.name,awsAccount=e.content.aws_account,awsRegion=e.content.aws_region,metricNamespace=e.content.metric_namespace;return{inputName:name,awsAccount:awsAccount,awsRegion:awsRegion.split(","),metricNamespace:_lodash2.default.uniq(JSON.parse(metricNamespace)).map(function(n){return n.replace("AWS/","")})}})}function createCloudWatchInput(action){var data,_ref,response,parsedResponse;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return data=action,_context.next=3,(0,_effects.put)(_actions.addNewCloudWatchInput.start());case 3:return _context.prev=3,_context.next=6,(0,_effects.call)(awsAPI.addCloudWatchInput,data);case 6:return _ref=_context.sent,response=_ref.response,parsedResponse=parseCloudWatchInputResponse(response),_context.next=11,(0,_effects.put)(_actions.addNewCloudWatchInput.success(parsedResponse));case 11:_context.next=17;break;case 13:return _context.prev=13,_context.t0=_context.catch(3),_context.next=17,(0,_effects.put)(_actions.addNewCloudWatchInput.failure((0,_servicesUtils.formatErrorResponse)(_context.t0)));case 17:case"end":return _context.stop()}},_marked,this,[[3,13]])}function updateCloudWatchInput(action){var data,_ref2,response,parsedResponse;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return data=action,_context2.next=3,(0,_effects.put)(_actions.updateCloudWatchInputStatusDispatcher.start());case 3:return _context2.prev=3,_context2.next=6,(0,_effects.call)(awsAPI.updateCloudWatchInput,data);case 6:return _ref2=_context2.sent,response=_ref2.response,parsedResponse=parseCloudWatchInputResponse(response),_context2.next=11,(0,_effects.put)(_actions.updateCloudWatchInputStatusDispatcher.success(parsedResponse));case 11:return _context2.abrupt("return",!0);case 14:return _context2.prev=14,_context2.t0=_context2.catch(3),_context2.next=18,(0,_effects.put)(_actions.updateCloudWatchInputStatusDispatcher.failure((0,_servicesUtils.formatErrorResponse)(_context2.t0)));case 18:return _context2.abrupt("return",!1);case 19:case"end":return _context2.stop()}},_marked2,this,[[3,14]])}function loadCloudWatchInputs(action){var inputName,apiResponse,response,parsedResponse;return _regenerator2.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return inputName=action.inputName,_context3.next=3,(0,_effects.put)(_actions.cloudWatchInputsRetrieveStatusDispatcher.start());case 3:if(_context3.prev=3,apiResponse=void 0,inputName)return _context3.next=8,(0,_effects.call)(awsAPI.loadCloudWatchInput,inputName);_context3.next=11;break;case 8:apiResponse=_context3.sent,_context3.next=14;break;case 11:return _context3.next=13,(0,_effects.call)(awsAPI.loadAllCloudWatchInputs);case 13:apiResponse=_context3.sent;case 14:return response=apiResponse.response,parsedResponse=parseCloudWatchInputResponse(response),_context3.next=18,(0,_effects.put)(_actions.cloudWatchInputsRetrieveStatusDispatcher.success(parsedResponse));case 18:_context3.next=24;break;case 20:return _context3.prev=20,_context3.t0=_context3.catch(3),_context3.next=24,(0,_effects.put)(_actions.cloudWatchInputsRetrieveStatusDispatcher.failure((0,_servicesUtils.formatErrorResponse)(_context3.t0)));case 24:case"end":return _context3.stop()}},_marked3,this,[[3,20]])}function parseRegionsResponse(response){return response.entry.map(function(e){return{name:e.name,label:e.content.label}})}function parseAwsAccountInfoResponse(response){var entry=response.entry;return entry&&entry[0]&&entry[0].content?{name:entry[0].content.name,keyId:entry[0].content.key_id,category:entry[0].content.category}:{name:"",keyId:"",category:"1"}}function loadCloudWatchRegions(action){var awsAccount,_ref3,response,parsedResponse;return _regenerator2.default.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return awsAccount=action.awsAccount,_context4.next=3,(0,_effects.put)(_actions.cloudWatchRegionsRetrieveStatusDispatcher.start());case 3:return _context4.prev=3,_context4.next=6,(0,_effects.call)(awsAPI.loadCloudWatchRegions,awsAccount);case 6:return _ref3=_context4.sent,response=_ref3.response,parsedResponse=parseRegionsResponse(response),_context4.next=11,(0,_effects.put)(_actions.cloudWatchRegionsRetrieveStatusDispatcher.success(parsedResponse));case 11:_context4.next=17;break;case 13:return _context4.prev=13,_context4.t0=_context4.catch(3),_context4.next=17,(0,_effects.put)(_actions.cloudWatchRegionsRetrieveStatusDispatcher.failure((0,_servicesUtils.formatErrorResponse)(_context4.t0)));case 17:case"end":return _context4.stop()}},_marked4,this,[[3,13]])}function createAwsAccount(action){var _ref4,response,accountInfo;return _regenerator2.default.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.next=2,(0,_effects.put)(_actions.awsCreateAccountStatusDispatcher.start());case 2:return _context5.prev=2,_context5.next=5,(0,_effects.call)(awsAPI.createAwsAccount,action);case 5:return _ref4=_context5.sent,response=_ref4.response,accountInfo=parseAwsAccountInfoResponse(response),_context5.next=10,(0,_effects.put)(_actions.awsCreateAccountStatusDispatcher.success(accountInfo));case 10:_context5.next=16;break;case 12:return _context5.prev=12,_context5.t0=_context5.catch(2),_context5.next=16,(0,_effects.put)(_actions.awsCreateAccountStatusDispatcher.failure((0,_servicesUtils.formatErrorResponse)(_context5.t0)));case 16:case"end":return _context5.stop()}},_marked5,this,[[2,12]])}function updateAwsAccount(action){var _ref5,response,accountInfo;return _regenerator2.default.wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.next=2,(0,_effects.put)(_actions.awsUpdateAccountStatusDispatcher.start());case 2:return _context6.prev=2,_context6.next=5,(0,_effects.call)(awsAPI.updateAwsAccount,action);case 5:return _ref5=_context6.sent,response=_ref5.response,accountInfo=parseAwsAccountInfoResponse(response),_context6.next=10,(0,_effects.put)(_actions.awsUpdateAccountStatusDispatcher.success(accountInfo));case 10:_context6.next=16;break;case 12:return _context6.prev=12,_context6.t0=_context6.catch(2),_context6.next=16,(0,_effects.put)(_actions.awsUpdateAccountStatusDispatcher.failure((0,_servicesUtils.formatErrorResponse)(_context6.t0)));case 16:case"end":return _context6.stop()}},_marked6,this,[[2,12]])}function deleteAwsAccount(action){var _ref6,response;return _regenerator2.default.wrap(function(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return _context7.prev=0,_context7.next=3,(0,_effects.call)(awsAPI.deleteAwsAccount,action);case 3:return _ref6=_context7.sent,response=_ref6.response,_context7.next=7,(0,_effects.put)(_actions.awsDeleteAccountStatusDispatcher.success(response));case 7:return _context7.abrupt("return",!0);case 10:return _context7.prev=10,_context7.t0=_context7.catch(0),_context7.next=14,(0,_effects.put)(_actions.awsDeleteAccountStatusDispatcher.failure((0,_servicesUtils.formatErrorResponse)(_context7.t0)));case 14:return _context7.abrupt("return",!1);case 15:case"end":return _context7.stop()}},_marked7,this,[[0,10]])}function parseLoadEnvResponse(response){if(response&&response.deployment.env)return response.deployment.env;throw new FailedParseResponseException("Failed to parse load environment response")}var getDeploymentEnv=exports.getDeploymentEnv=function(state){return state.awsConfigurationReducer.deploymentEnv};function loadDeploymentEnv(){var existingDeploymentEnv,_ref7,response,parsedResponse;return _regenerator2.default.wrap(function(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return _context8.next=2,(0,_effects.select)(getDeploymentEnv);case 2:if(existingDeploymentEnv=_context8.sent)return _context8.abrupt("return",existingDeploymentEnv);_context8.next=5;break;case 5:return _context8.next=7,(0,_effects.put)(_actions.deploymentEnvRetrieveStatusDispatcher.start());case 7:return _context8.prev=7,_context8.next=10,(0,_effects.call)(awsAPI.loadDeploymentEnv);case 10:return _ref7=_context8.sent,response=_ref7.response,parsedResponse=parseLoadEnvResponse(response),_context8.next=15,(0,_effects.put)(_actions.deploymentEnvRetrieveStatusDispatcher.success(parsedResponse));case 15:return _context8.abrupt("return",parsedResponse);case 18:return _context8.prev=18,_context8.t0=_context8.catch(7),_context8.next=22,(0,_effects.put)(_actions.deploymentEnvRetrieveStatusDispatcher.failure((0,_servicesUtils.formatErrorResponse)(_context8.t0)));case 22:return _context8.abrupt("return",null);case 23:case"end":return _context8.stop()}},_marked8,this,[[7,18]])}function deleteNonIAMAccounts(response){var newEntries,i,accountName;return _regenerator2.default.wrap(function(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:_context9.prev=0,newEntries=[],i=0;case 3:if(!(i<response.entry.length)){_context9.next=14;break}if(0===response.entry[i].content.iam)return accountName={name:response.entry[i].name},_context9.next=8,(0,_effects.call)(awsAPI.deleteAwsAccount,accountName);_context9.next=10;break;case 8:_context9.next=11;break;case 10:newEntries.push(response.entry[i]);case 11:i+=1,_context9.next=3;break;case 14:return _context9.abrupt("return",newEntries);case 17:return _context9.prev=17,_context9.t0=_context9.catch(0),_context9.abrupt("return",response.entry);case 20:case"end":return _context9.stop()}},_marked9,this,[[0,17]])}function loadAwsAccountInfo(){var deploymentEnv,_ref8,response,filteredEntries,accountInfo;return _regenerator2.default.wrap(function(_context10){for(;;)switch(_context10.prev=_context10.next){case 0:return _context10.next=2,(0,_effects.call)(loadDeploymentEnv);case 2:return deploymentEnv=_context10.sent,_context10.next=5,(0,_effects.put)(_actions.awsAccountInfoRetrieveStatusDispatcher.start());case 5:return _context10.prev=5,_context10.next=8,(0,_effects.call)(awsAPI.retrieveAwsAccountInfo);case 8:if(_ref8=_context10.sent,response=_ref8.response,!(0,_commonUtils.isEnterprise)()&&deploymentEnv===_stateConstants.DEPLOYMENT_ENV.EC2&&response&&response.entry&&0<response.entry.length)return _context10.next=13,(0,_effects.call)(deleteNonIAMAccounts,response);_context10.next=15;break;case 13:filteredEntries=_context10.sent,response.entry=filteredEntries;case 15:return accountInfo=parseAwsAccountInfoResponse(response),_context10.next=18,(0,_effects.put)(_actions.awsAccountInfoRetrieveStatusDispatcher.success(accountInfo));case 18:_context10.next=24;break;case 20:return _context10.prev=20,_context10.t0=_context10.catch(5),_context10.next=24,(0,_effects.put)(_actions.awsAccountInfoRetrieveStatusDispatcher.failure((0,_servicesUtils.formatErrorResponse)(_context10.t0)));case 24:case"end":return _context10.stop()}},_marked10,this,[[5,20]])}function parseCloudWatchLogsInputResponse(response){return response.entry.map(function(e){var name=e.name,_e$content=e.content;return{name:name,account:_e$content.account,region:_e$content.region,group:_e$content.groups}})}function loadCloudWatchLogsInput(_ref9){var apiResponse,response,parsedResponse,inputName=_ref9.inputName;return _regenerator2.default.wrap(function(_context11){for(;;)switch(_context11.prev=_context11.next){case 0:return _context11.next=2,(0,_effects.put)(_actions.cloudWatchLogsInputsRetrieveStatusDispatcher.start());case 2:if(_context11.prev=2,apiResponse=void 0,inputName)return _context11.next=7,(0,_effects.call)(awsAPI.loadCloudWatchLogsInput,inputName);_context11.next=10;break;case 7:apiResponse=_context11.sent,_context11.next=13;break;case 10:return _context11.next=12,(0,_effects.call)(awsAPI.loadAllCloudWatchLogsInput);case 12:apiResponse=_context11.sent;case 13:return response=apiResponse.response,parsedResponse=parseCloudWatchLogsInputResponse(response),_context11.next=17,(0,_effects.put)(_actions.cloudWatchLogsInputsRetrieveStatusDispatcher.success(parsedResponse));case 17:_context11.next=23;break;case 19:return _context11.prev=19,_context11.t0=_context11.catch(2),_context11.next=23,(0,_effects.put)(_actions.cloudWatchLogsInputsRetrieveStatusDispatcher.failure((0,_servicesUtils.formatErrorResponse)(_context11.t0)));case 23:case"end":return _context11.stop()}},_marked11,this,[[2,19]])}function modifyCloudWatchLogsInput(actionType,data){var actionAPI,_ref10,response,parsedResponse,responseData;return _regenerator2.default.wrap(function(_context12){for(;;)switch(_context12.prev=_context12.next){case 0:actionAPI=void 0,_context12.t0=actionType,_context12.next="CREATE"===_context12.t0?4:"UPDATE"===_context12.t0?6:"DELETE"===_context12.t0?8:10;break;case 4:return actionAPI=awsAPI.addCloudWatchLogsInput,_context12.abrupt("break",11);case 6:return actionAPI=awsAPI.updateCloudWatchLogsInput,_context12.abrupt("break",11);case 8:return actionAPI=awsAPI.deleteCloudWatchLogsInput,_context12.abrupt("break",11);case 10:return _context12.abrupt("break",11);case 11:return _context12.prev=11,_context12.next=14,(0,_effects.call)(actionAPI,data);case 14:return _ref10=_context12.sent,response=_ref10.response,parsedResponse=parseCloudWatchLogsInputResponse(response),responseData=["CREATE","UPDATE"].includes(actionType)?parsedResponse[0]:data,_context12.abrupt("return",(0,_extends3.default)({status:actionType+"_SUCCESS"},responseData));case 21:return _context12.prev=21,_context12.t1=_context12.catch(11),_context12.abrupt("return",(0,_extends3.default)({status:actionType+"_FAILURE",error:_context12.t1},data));case 24:case"end":return _context12.stop()}},_marked12,this,[[11,21]])}function bulkModifyCloudWatchLogsInput(actionType,account,inputs){var actionStatus;return _regenerator2.default.wrap(function(_context13){for(;;)switch(_context13.prev=_context13.next){case 0:return _context13.next=2,(0,_effects.all)(inputs.map(function(input){return(0,_effects.call)(modifyCloudWatchLogsInput,actionType,(0,_extends3.default)({},input,{account:account}))}));case 2:return actionStatus=_context13.sent,_context13.abrupt("return",actionStatus);case 4:case"end":return _context13.stop()}},_marked13,this)}var getCloudWatchLogsInputBulkActionItems=exports.getCloudWatchLogsInputBulkActionItems=function(useCloudWatchLogs,prevInputs,newInputs,account){var prevInputNames=prevInputs.map(function(input){return input.name}),newInputNames=newInputs.map(function(input){return input.name}),inputsToAdd=[],inputsToDelete=[],inputsToUpdate=[];if(useCloudWatchLogs)if(prevInputs[0]&&account!==prevInputs[0].account&&prevInputs.length===newInputs.length&&0===_lodash2.default.differenceWith(prevInputs,newInputs,_lodash2.default.isEqual).length)_lodash2.default.forEach(prevInputs,function(input){inputsToUpdate.push(input)});else{var unionInputs=_lodash2.default.unionBy(prevInputs,newInputs,"name");_lodash2.default.forEach(unionInputs,function(input){if(prevInputNames.includes(input.name)&&!newInputNames.includes(input.name))inputsToDelete.push(input);else if(!prevInputNames.includes(input.name)&&newInputNames.includes(input.name))inputsToAdd.push(input);else{var oldInput=_lodash2.default.find(prevInputs,{name:input.name}),modifiedInput=_lodash2.default.find(newInputs,{name:input.name});oldInput.group===modifiedInput.group&&oldInput.region===modifiedInput.region||inputsToUpdate.push(modifiedInput)}})}else _lodash2.default.forEach(prevInputs,function(input){return inputsToDelete.push(input)});return{inputsToAdd:inputsToAdd,inputsToDelete:inputsToDelete,inputsToUpdate:inputsToUpdate}};function bulkProcessCloudWatchLogsInput(_ref11){var actionItems,_ref12,_ref13,createStatus,updateStatus,deleteStatus,actionStatus,successFlag,account=_ref11.account,useCloudWatchLogs=_ref11.useCloudWatchLogs,prevInputs=_ref11.prevInputs,newInputs=_ref11.newInputs;return _regenerator2.default.wrap(function(_context14){for(;;)switch(_context14.prev=_context14.next){case 0:return _context14.next=2,(0,_effects.put)(_actions.cloudWatchLogsInputBulkEditStatusDispatcher.start());case 2:return actionItems=getCloudWatchLogsInputBulkActionItems(useCloudWatchLogs,prevInputs,newInputs,account),_context14.next=5,(0,_effects.all)([(0,_effects.call)(bulkModifyCloudWatchLogsInput,"CREATE",account,actionItems.inputsToAdd),(0,_effects.call)(bulkModifyCloudWatchLogsInput,"UPDATE",account,actionItems.inputsToUpdate),(0,_effects.call)(bulkModifyCloudWatchLogsInput,"DELETE",account,actionItems.inputsToDelete)]);case 5:return _ref12=_context14.sent,_ref13=(0,_slicedToArray3.default)(_ref12,3),createStatus=_ref13[0],updateStatus=_ref13[1],deleteStatus=_ref13[2],actionStatus={},successFlag=!0,_lodash2.default.forEach([].concat((0,_toConsumableArray3.default)(createStatus),(0,_toConsumableArray3.default)(updateStatus),(0,_toConsumableArray3.default)(deleteStatus)),function(inputStatus){actionStatus[inputStatus.name]=inputStatus,successFlag=successFlag&&_lodash2.default.endsWith(inputStatus.status,"SUCCESS")}),_context14.next=15,(0,_effects.put)(_actions.cloudWatchLogsInputBulkEditStatusDispatcher.complete(actionStatus));case 15:return _context14.abrupt("return",successFlag);case 16:case"end":return _context14.stop()}},_marked14,this)}function deleteInputsLogInputsAccount(action){var inputArgs,logInputArgs,accountArgs,_ref14,_ref15,deleteInputStatus,deleteInputLogsStatus;return _regenerator2.default.wrap(function(_context15){for(;;)switch(_context15.prev=_context15.next){case 0:return inputArgs=action.inputArgs,logInputArgs=action.logInputArgs,accountArgs=action.accountArgs,_context15.next=3,(0,_effects.put)(_actions.awsDeleteAccountStatusDispatcher.start());case 3:return _context15.next=5,(0,_effects.all)([(0,_effects.call)(updateCloudWatchInput,inputArgs),(0,_effects.call)(bulkProcessCloudWatchLogsInput,logInputArgs)]);case 5:if(_ref14=_context15.sent,_ref15=(0,_slicedToArray3.default)(_ref14,2),deleteInputStatus=_ref15[0],deleteInputLogsStatus=_ref15[1],deleteInputStatus&&deleteInputLogsStatus)return _context15.delegateYield(deleteAwsAccount(accountArgs),"t0",11);_context15.next=13;break;case 11:_context15.next=15;break;case 13:return _context15.next=15,(0,_effects.put)(_actions.awsDeleteAccountStatusDispatcher.failure("Deletion of cloudwatch inputs / log inputs failed. Hence, the account was not deleted."));case 15:case"end":return _context15.stop()}},_marked15,this)}function parseAwsTaPresenceResponse(response){var _response$results$=response.results[0];return{awsTaVersion:_response$results$.version,awsTaEnabled:"0"===_response$results$.disabled}}function retrieveAwsTaPresenceInfo(){var _ref16,response,error,awsTaPresenceInfo;return _regenerator2.default.wrap(function(_context16){for(;;)switch(_context16.prev=_context16.next){case 0:return _context16.next=2,(0,_effects.put)(_actions.awsCheckTaPresenceStatusDispatcher.start());case 2:return _context16.prev=2,_context16.next=5,(0,_effects.call)(_servicesUtils.getSplunkSearchResult,_searchConstants.awsTaPresence);case 5:if(_ref16=_context16.sent,response=_ref16.response,error=_ref16.error,response&&response.results&&0<response.results.length)return awsTaPresenceInfo=parseAwsTaPresenceResponse(response),_context16.next=12,(0,_effects.put)(_actions.awsCheckTaPresenceStatusDispatcher.success(awsTaPresenceInfo));_context16.next=14;break;case 12:_context16.next=16;break;case 14:return _context16.next=16,(0,_effects.put)(_actions.awsCheckTaPresenceStatusDispatcher.failure((0,_servicesUtils.formatErrorResponse)(error)));case 16:_context16.next=22;break;case 18:return _context16.prev=18,_context16.t0=_context16.catch(2),_context16.next=22,(0,_effects.put)(_actions.awsCheckTaPresenceStatusDispatcher.failure((0,_servicesUtils.formatErrorResponse)(_context16.t0)));case 22:case"end":return _context16.stop()}},_marked16,this,[[2,18]])}function awsSaga(){return _regenerator2.default.wrap(function(_context17){for(;;)switch(_context17.prev=_context17.next){case 0:return _context17.next=2,(0,_effects.takeLatest)(actionTypes.CLOUDWATCH_INPUT_RETRIEVE,loadCloudWatchInputs);case 2:return _context17.next=4,(0,_effects.takeLatest)(actionTypes.CLOUDWATCH_INPUT_CREATE,createCloudWatchInput);case 4:return _context17.next=6,(0,_effects.takeLatest)(actionTypes.CLOUDWATCH_REGIONS_RETRIEVE,loadCloudWatchRegions);case 6:return _context17.next=8,(0,_effects.takeLatest)(actionTypes.CLOUDWATCH_INPUT_UPDATE,updateCloudWatchInput);case 8:return _context17.next=10,(0,_effects.takeLatest)(actionTypes.AWS_ACCOUNT_CREATE,createAwsAccount);case 10:return _context17.next=12,(0,_effects.takeLatest)(actionTypes.AWS_ACCOUNT_RETRIEVE,loadAwsAccountInfo);case 12:return _context17.next=14,(0,_effects.takeLatest)(actionTypes.AWS_ACCOUNT_UPDATE,updateAwsAccount);case 14:return _context17.next=16,(0,_effects.takeLatest)(actionTypes.AWS_ACCOUNT_DELETE,deleteInputsLogInputsAccount);case 16:return _context17.next=18,(0,_effects.takeLatest)(actionTypes.CLOUDWATCH_LOGS_INPUT_RETRIEVE,loadCloudWatchLogsInput);case 18:return _context17.next=20,(0,_effects.takeLatest)(actionTypes.CLOUDWATCH_LOGS_INPUT_BULK_EDIT,bulkProcessCloudWatchLogsInput);case 20:return _context17.next=22,(0,_effects.takeLatest)(actionTypes.AWS_CHECK_TA_PRESENCE,retrieveAwsTaPresenceInfo);case 22:case"end":return _context17.stop()}},_marked17,this)}},1980:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.loadCloudWatchLogsInput=exports.loadAllCloudWatchLogsInput=exports.deleteCloudWatchLogsInput=exports.updateCloudWatchLogsInput=exports.addCloudWatchLogsInput=exports.loadCloudWatchInput=exports.loadAllCloudWatchInputs=exports.updateCloudWatchInput=exports.addCloudWatchInput=exports.loadCloudWatchRegions=exports.loadDeploymentEnv=exports.retrieveAwsAccountInfo=exports.deleteAwsAccount=exports.updateAwsAccount=exports.createAwsAccount=void 0;var obj,_stringify=__webpack_require__(137),_stringify2=(obj=_stringify)&&obj.__esModule?obj:{default:obj},_url=__webpack_require__(122),_lodash=__webpack_require__(16),_emUtils=__webpack_require__(26),_servicesUtils=__webpack_require__(48);var AwsUtilUrl=(0,_emUtils.getAppSplunkdUrl)("infra_interface/aws"),baseUrlConfig={owner:"nobody",app:"Splunk_TA_aws"},CLOUDWATCH_INPUT_URL=(0,_url.createRESTURL)("splunk_ta_aws_aws_cloudwatch",baseUrlConfig),ACCOUNT_URL=(0,_url.createRESTURL)("splunk_ta_aws_aws_account",baseUrlConfig),REGION_BASE_URL=(0,_url.createRESTURL)("splunk_ta_aws/splunk_ta_aws_regions",baseUrlConfig),CLOUDWATCH_LOG_INPUT_URL=(0,_url.createRESTURL)("splunk_ta_aws_aws_cloudwatch_logs",baseUrlConfig),CLOUDWATCH_DEFAULT_METRIC_NAMESPACE=["AWS/EBS","AWS/EC2","AWS/ELB"],CLOUDWATCH_DEFAULT_STATISTICS=["Average","Sum","SampleCount","Maximum","Minimum"],CLOUDWATCH_DEFAULT_DIMENSIONS={"AWS/EBS":[{VolumeId:[".*"]}],"AWS/EC2":[{AutoScalingGroupName:[".*"]},{ImageId:[".*"]},{InstanceId:[".*"]},{InstanceType:[".*"]}],"AWS/ELB":[{AvailabilityZone:[".*"],LoadBalancerName:[".*"]},{AvailabilityZone:[".*"]},{LoadBalancerName:[".*"]}]};exports.createAwsAccount=function(action){var name=action.name,key_id=action.key_id,secret_key=action.secret_key,category=action.category;return(0,_servicesUtils.requestAPI)(ACCOUNT_URL,"","POST",{name:name,key_id:key_id,secret_key:secret_key,category:category})},exports.updateAwsAccount=function(action){var name=action.name,key_id=action.key_id,secret_key=action.secret_key,category=action.category;return(0,_servicesUtils.requestAPI)(ACCOUNT_URL,name,"POST",{key_id:key_id,secret_key:secret_key,category:category})},exports.deleteAwsAccount=function(action){var name=action.name;return(0,_servicesUtils.requestAPI)(ACCOUNT_URL,name,"DELETE")},exports.retrieveAwsAccountInfo=function(){return(0,_servicesUtils.requestAPI)(ACCOUNT_URL,"","GET")},exports.loadDeploymentEnv=function(){return(0,_servicesUtils.requestAPI)(AwsUtilUrl,"check_env","GET")},exports.loadCloudWatchRegions=function(awsAccount){var awsService=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"aws_cloudwatch",data=""===awsAccount?{aws_service:awsService}:{aws_service:awsService,aws_account:awsAccount};return(0,_servicesUtils.requestAPI)(REGION_BASE_URL,"","GET",data)};function buildCloudWatchInputParams(selectedNamespaces){var metricNamespace=[],metricDimensions=[],metricNames=[],statistics=[];return(0,_lodash.forEach)((0,_lodash.intersection)(selectedNamespaces,CLOUDWATCH_DEFAULT_METRIC_NAMESPACE),function(namespace){(0,_lodash.forEach)(CLOUDWATCH_DEFAULT_DIMENSIONS[namespace],function(dim){metricNamespace=(0,_lodash.concat)(metricNamespace,namespace),metricDimensions=(0,_lodash.concat)(metricDimensions,(0,_stringify2.default)([dim])),metricNames=(0,_lodash.concat)(metricNames,(0,_stringify2.default)(".*")),statistics=(0,_lodash.concat)(statistics,(0,_stringify2.default)(CLOUDWATCH_DEFAULT_STATISTICS))})}),(0,_lodash.mapValues)({metricNamespace:metricNamespace,metricDimensions:metricDimensions,metricNames:metricNames,statistics:statistics},function(val){return(0,_stringify2.default)(val)})}exports.addCloudWatchInput=function(data){var name=data.name,accountName=data.accountName,awsRegions=data.awsRegions,_buildCloudWatchInput=buildCloudWatchInputParams(data.selectedNamespaces),metricNamespace=_buildCloudWatchInput.metricNamespace,metricDimensions=_buildCloudWatchInput.metricDimensions,metricNames=_buildCloudWatchInput.metricNames,statistics=_buildCloudWatchInput.statistics;return(0,_servicesUtils.requestAPI)(CLOUDWATCH_INPUT_URL,"","POST",{name:name,aws_account:accountName,aws_region:awsRegions,metric_dimensions:metricDimensions,metric_namespace:metricNamespace,metric_names:metricNames,statistics:statistics,period:300,polling_interval:600,index:"em_metrics",use_metric_format:!0})},exports.updateCloudWatchInput=function(data){var name=data.name,accountName=data.accountName,awsRegions=data.awsRegions,_buildCloudWatchInput2=buildCloudWatchInputParams(data.selectedNamespaces),metricNamespace=_buildCloudWatchInput2.metricNamespace,metricDimensions=_buildCloudWatchInput2.metricDimensions,metricNames=_buildCloudWatchInput2.metricNames,statistics=_buildCloudWatchInput2.statistics;return(0,_servicesUtils.requestAPI)(CLOUDWATCH_INPUT_URL,name,"POST",{aws_account:accountName,aws_region:awsRegions,metric_dimensions:metricDimensions,metric_namespace:metricNamespace,metric_names:metricNames,statistics:statistics,period:300,polling_interval:600,index:"em_metrics",use_metric_format:!0})},exports.loadAllCloudWatchInputs=function(){return(0,_servicesUtils.requestAPI)(CLOUDWATCH_INPUT_URL,"","GET",{count:-1})},exports.loadCloudWatchInput=function(inputName){return(0,_servicesUtils.requestAPI)(CLOUDWATCH_INPUT_URL,inputName,"GET")},exports.addCloudWatchLogsInput=function(data){var name=data.name,account=data.account,region=data.region,group=data.group;return(0,_servicesUtils.requestAPI)(CLOUDWATCH_LOG_INPUT_URL,"","POST",{name:name,account:account,region:region,groups:group,stream_matcher:".*",only_after:"1970-01-01T00:00:00",index:"main",delay:1800,interval:600,sourcetype:"aws:cloudwatchlogs"})},exports.updateCloudWatchLogsInput=function(data){var name=data.name,account=data.account,region=data.region,group=data.group;return(0,_servicesUtils.requestAPI)(CLOUDWATCH_LOG_INPUT_URL,name,"POST",{account:account,region:region,groups:group,stream_matcher:".*",only_after:"1970-01-01T00:00:00",index:"main",delay:1800,interval:600,sourcetype:"aws:cloudwatchlogs"})},exports.deleteCloudWatchLogsInput=function(data){var name=data.name;return(0,_servicesUtils.requestAPI)(CLOUDWATCH_LOG_INPUT_URL,name,"DELETE")},exports.loadAllCloudWatchLogsInput=function(){return(0,_servicesUtils.requestAPI)(CLOUDWATCH_LOG_INPUT_URL,"","GET",{count:-1})},exports.loadCloudWatchLogsInput=function(inputName){return(0,_servicesUtils.requestAPI)(CLOUDWATCH_LOG_INPUT_URL,inputName,"GET")}},1981:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getAwsRegions=exports.getAwsServices=void 0;var _regenerator2=_interopRequireDefault(__webpack_require__(65));exports.fetchAllAwsServices=fetchAllAwsServices,exports.fetchAllAwsRegions=fetchAllAwsRegions,exports.default=awsConnectorSaga;var _effects=__webpack_require__(60),_servicesUtils=__webpack_require__(48),_allRegions2=_interopRequireDefault(__webpack_require__(1982)),_allServices2=_interopRequireDefault(__webpack_require__(1983)),_actions=__webpack_require__(407),actionTypes=function(obj){{if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}}(__webpack_require__(583));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _marked=_regenerator2.default.mark(fetchAllAwsServices),_marked2=_regenerator2.default.mark(fetchAllAwsRegions),_marked3=_regenerator2.default.mark(awsConnectorSaga),getAwsServices=exports.getAwsServices=function(){return _allServices2.default},getAwsRegions=exports.getAwsRegions=function(){return _allRegions2.default};function fetchAllAwsServices(){var _ref,response;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,(0,_effects.put)(_actions.awsFetchAllServicesStatusDispatcher.start());case 2:return _context.prev=2,_context.next=5,(0,_effects.call)(getAwsServices);case 5:return _ref=_context.sent,response=_ref.response,_context.next=9,(0,_effects.put)(_actions.awsFetchAllServicesStatusDispatcher.success(response));case 9:_context.next=15;break;case 11:return _context.prev=11,_context.t0=_context.catch(2),_context.next=15,(0,_effects.put)(_actions.awsFetchAllServicesStatusDispatcher.failure((0,_servicesUtils.formatErrorResponse)(_context.t0)));case 15:case"end":return _context.stop()}},_marked,this,[[2,11]])}function fetchAllAwsRegions(){var _ref2,response;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,(0,_effects.put)(_actions.awsFetchAllRegionsStatusDispatcher.start());case 2:return _context2.prev=2,_context2.next=5,(0,_effects.call)(getAwsRegions);case 5:return _ref2=_context2.sent,response=_ref2.response,_context2.next=9,(0,_effects.put)(_actions.awsFetchAllRegionsStatusDispatcher.success(response));case 9:_context2.next=15;break;case 11:return _context2.prev=11,_context2.t0=_context2.catch(2),_context2.next=15,(0,_effects.put)(_actions.awsFetchAllRegionsStatusDispatcher.failure((0,_servicesUtils.formatErrorResponse)(_context2.t0)));case 15:case"end":return _context2.stop()}},_marked2,this,[[2,11]])}function awsConnectorSaga(){return _regenerator2.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,(0,_effects.takeLatest)(actionTypes.AWS_FETCH_ALL_SERVICES,fetchAllAwsServices);case 2:return _context3.next=4,(0,_effects.takeLatest)(actionTypes.AWS_FETCH_ALL_REGIONS,fetchAllAwsRegions);case 4:case"end":return _context3.stop()}},_marked3,this)}},1982:function(module){module.exports={response:[{name:"ap-northeast-1",label:"Asia Pacific (Tokyo)"},{name:"ap-northeast-2",label:"Asia Pacific (Seoul)"},{name:"ap-south-1",label:"Asia Pacific (Mumbai)"},{name:"ap-southeast-1",label:"Asia Pacific (Singapore)"},{name:"ap-southeast-2",label:"Asia Pacific (Sydney)"},{name:"ca-central-1",label:"Canada (Central)"},{name:"cn-north-1",label:"China (Beijing)"},{name:"eu-central-1",label:"EU (Frankfurt)"},{name:"eu-west-1",label:"EU (Ireland)"},{name:"eu-west-2",label:"EU (London)"},{name:"sa-east-1",label:"South America (Sao Paulo)"},{name:"us-east-1",label:"US East (N. Virginia)"},{name:"us-east-2",label:"US East (Ohio)"},{name:"us-gov-west-1",label:"AWS GovCloud (US)"},{name:"us-west-1",label:"US West (N. California)"},{name:"us-west-2",label:"US West (Oregon)"}]}},1983:function(module){module.exports={response:["EC2","EBS","ELB","RDS","LAMBDA","S3"]}},1984:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _react2=_interopRequireDefault(__webpack_require__(0)),_ThemeContainer2=_interopRequireDefault(__webpack_require__(290)),_ConfigureContainer2=_interopRequireDefault(__webpack_require__(1985));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default=function(){return _react2.default.createElement(_ThemeContainer2.default,null,_react2.default.createElement(_ConfigureContainer2.default,null))},module.exports=exports.default},1985:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _class,_temp,_keys2=_interopRequireDefault(__webpack_require__(29)),_extends3=_interopRequireDefault(__webpack_require__(6)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(14)),_classCallCheck3=_interopRequireDefault(__webpack_require__(9)),_createClass3=_interopRequireDefault(__webpack_require__(12)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(8)),_inherits3=_interopRequireDefault(__webpack_require__(11)),_react2=_interopRequireDefault(__webpack_require__(0)),_redux=__webpack_require__(25),_reactRedux=__webpack_require__(35),_pick2=_interopRequireDefault(__webpack_require__(276)),_commonUtils=__webpack_require__(24),_stateConstants=__webpack_require__(15),_actions=__webpack_require__(166),_userRoles=__webpack_require__(82),_actions2=__webpack_require__(1986),_actions3=__webpack_require__(408),_Configure2=_interopRequireDefault(__webpack_require__(1987));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ConfigureContainer=(_temp=_class=function(_React$Component){function ConfigureContainer(props){(0,_classCallCheck3.default)(this,ConfigureContainer);var _this=(0,_possibleConstructorReturn3.default)(this,(ConfigureContainer.__proto__||(0,_getPrototypeOf2.default)(ConfigureContainer)).call(this,props));_this.clearDockerSockPath=function(){_this.setState({dockerSock:_stateConstants.DOCKER_SOCK_PATH})};var defaultHostName=(0,_commonUtils.isEnterprise)()?"":window.location.hostname;return _this.state={hostName:defaultHostName,hecPort:_this.props.hecPort,receiverPort:_this.props.receiverPort,hecToken:"",ufInstallLocation:_this.props.ufInstallLocation},_this}return(0,_inherits3.default)(ConfigureContainer,_React$Component),(0,_createClass3.default)(ConfigureContainer,[{key:"componentDidMount",value:function(){this.props.loadUserRoles(),(0,_commonUtils.isEnterprise)()?this.props.fetchAgentUrl():this.props.isHttpInputEnabled&&!this.props.isFetchingToken||this.props.enableHEC()}},{key:"componentDidUpdate",value:function(prevProps){this.props.isHttpInputEnabled&&(this.state.hecPort||prevProps.hecPort===this.props.hecPort||this.setState({hecPort:this.props.hecPort}),!this.state.hecToken&&this.props.hecToken&&""===prevProps.hecToken&&this.setState({hecToken:this.props.hecToken}))}},{key:"render",value:function(){var props=(0,_extends3.default)({},(0,_pick2.default)(this.props,(0,_keys2.default)(_Configure2.default.propTypes)),{displayInstallDir:this.state.displayInstallDir,monitoringMachineName:this.state.hostName,hecPort:this.state.hecPort,hecToken:this.state.hecToken,receiverPort:this.state.receiverPort,ufInstallLocation:this.state.ufInstallLocation,dockerSock:this.state.dockerSock,clearDockerSockPath:this.clearDockerSockPath,loadAllSourceTypes:this.props.onLoadAllSourceTypes});return _react2.default.createElement(_Configure2.default,props)}}]),ConfigureContainer}(_react2.default.Component),_class.propTypes=(0,_extends3.default)({},_Configure2.default.propTypes),_class.defaultProps=(0,_extends3.default)({},_Configure2.default.defaultProps),_temp);exports.default=(0,_reactRedux.connect)(function(state){return{isAdminOrPower:state.userRolesReducer.isAdminOrPower,userRoleLoadStatus:state.userRolesReducer.userRoleLoadStatus,connectedCount:state.configurationStatusReducer.connectedCount,newCount:state.configurationStatusReducer.newCount,initialFetchDone:state.configurationStatusReducer.initialFetchDone,isFetchingToken:state.hecConfigurationReducer.isFetchingToken,isHttpInputEnabled:state.hecConfigurationReducer.isHttpInputEnabled,hecToken:state.hecConfigurationReducer.hecToken,hecPort:state.hecConfigurationReducer.hecPort,errorStatusText:state.hecConfigurationReducer.errorStatusText,packageLink:state.hecConfigurationReducer.packageLink,sourceTypes:state.hecConfigurationReducer.sourceTypes,selectedDimensions:state.dimensionMultiselectReducer.selectedDimensions,selectedMetrics:state.unixConfigurationReducer.selectedMetrics,selectedLogs:state.unixConfigurationReducer.selectedLogs,selectedWindowsMetrics:state.windowsConfigurationReducer.selectedWindowsMetrics,selectedWindowsLogs:state.windowsConfigurationReducer.selectedWindowsLogs,selectedOSXMetrics:state.osxConfigurationReducer.selectedOSXMetrics,selectedOSXLogs:state.osxConfigurationReducer.selectedOSXLogs,selectedK8sObjects:state.k8sConfigurationReducer.selectedK8sObjects,selectedOpenShiftObjects:state.openShiftConfigurationReducer.selectedOpenShiftObjects}},function(dispatch){return(0,_redux.bindActionCreators)({onCustomDimensionChange:_actions.updateSelectedDimensions,enableHEC:_actions3.enableHEC,fetchAgentUrl:_actions3.fetchAgentUrl,handleCount:_actions3.handleCount,loadUserRoles:_userRoles.userRolesRetrieve.loadUserRoles,onLoadAllSourceTypes:_actions3.onLoadAllSourceTypes,resetInitialFetch:_actions3.resetInitialFetch,updateK8sObjects:_actions2.updateK8sObjects,updateOpenShiftObjects:_actions2.updateOpenShiftObjects,updateOSXCustomMetricsAndLogs:_actions2.updateOSXCustomMetricsAndLogs,updateUnixCustomMetricsAndLogs:_actions2.updateUnixCustomMetricsAndLogs,updateWindowsCustomMetricsAndLogs:_actions2.updateWindowsCustomMetricsAndLogs},dispatch)})(ConfigureContainer),module.exports=exports.default},1986:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.updateUnixCustomMetricsAndLogs=function(_ref){var selectedMetrics=_ref.selectedMetrics,selectedLogs=_ref.selectedLogs,customLogs=_ref.customLogs;return{type:_actionTypes.UPDATE_UNIX_CUSTOM_METRICS_AND_LOGS,selectedMetrics:selectedMetrics,selectedLogs:selectedLogs,customLogs:customLogs}},exports.updateOSXCustomMetricsAndLogs=function(_ref2){var selectedMetrics=_ref2.selectedMetrics,selectedLogs=_ref2.selectedLogs,customLogs=_ref2.customLogs;return{type:_actionTypes.UPDATE_OSX_CUSTOM_METRICS_AND_LOGS,selectedOSXMetrics:selectedMetrics,selectedOSXLogs:selectedLogs,customLogs:customLogs}},exports.updateWindowsCustomMetricsAndLogs=function(_ref3){var selectedMetrics=_ref3.selectedMetrics,selectedLogs=_ref3.selectedLogs,customLogs=_ref3.customLogs;return{type:_actionTypes.UPDATE_WINDOWS_CUSTOM_METRICS_AND_LOGS,selectedWindowsMetrics:selectedMetrics,selectedWindowsLogs:selectedLogs,customLogs:customLogs}},exports.updateK8sObjects=function(_ref4){var selectedObjects=_ref4.selectedObjects;return{type:_actionTypes.UPDATE_K8S_OBJECTS,selectedK8sObjects:selectedObjects}},exports.updateOpenShiftObjects=function(_ref5){var selectedObjects=_ref5.selectedObjects;return{type:_actionTypes.UPDATE_OPENSHIFT_OBJECTS,selectedOpenShiftObjects:selectedObjects}};var _actionTypes=__webpack_require__(915)},1987:function(module,exports,__webpack_require__){"use strict";(function(__filename){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _class,_temp,_values2=_interopRequireDefault(__webpack_require__(56)),_extends3=_interopRequireDefault(__webpack_require__(6)),_keys2=_interopRequireDefault(__webpack_require__(29)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(14)),_classCallCheck3=_interopRequireDefault(__webpack_require__(9)),_createClass3=_interopRequireDefault(__webpack_require__(12)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(8)),_inherits3=_interopRequireDefault(__webpack_require__(11)),_templateObject=(0,_interopRequireDefault(__webpack_require__(44)).default)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 500;\n"],["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 500;\n"]),_react2=_interopRequireDefault(__webpack_require__(0)),_propTypes2=_interopRequireDefault(__webpack_require__(1)),_styledComponents2=_interopRequireDefault(__webpack_require__(7)),_lodash=__webpack_require__(16),_TabLayout2=_interopRequireDefault(__webpack_require__(199)),_Heading2=_interopRequireDefault(__webpack_require__(125)),_Modal2=_interopRequireDefault(__webpack_require__(140)),_Paragraph2=_interopRequireDefault(__webpack_require__(40)),_WaitSpinner2=_interopRequireDefault(__webpack_require__(67)),_i18n=__webpack_require__(2),_format=__webpack_require__(39),_stateConstants=__webpack_require__(15),_testSupportUtils=__webpack_require__(27),_commonUtils=__webpack_require__(73),_AwsConfigurationContainer2=_interopRequireDefault(__webpack_require__(1988)),_AwsConfiguration2=_interopRequireDefault(__webpack_require__(2084)),_OsxConfiguration2=_interopRequireDefault(__webpack_require__(2093)),_UnixConfiguration2=_interopRequireDefault(__webpack_require__(2097)),_WindowsConfiguration2=_interopRequireDefault(__webpack_require__(2098)),_KubernetesConfiguration2=_interopRequireDefault(__webpack_require__(2099)),_OpenShiftConfiguration2=_interopRequireDefault(__webpack_require__(2100)),config=function(obj){{if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}}(__webpack_require__(409));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var StyledHeder=_styledComponents2.default.div(_templateObject),Configure=(_temp=_class=function(_React$Component){function Configure(props){var _ref;(0,_classCallCheck3.default)(this,Configure);for(var _len=arguments.length,rest=Array(1<_len?_len-1:0),_key=1;_key<_len;_key++)rest[_key-1]=arguments[_key];var _this=(0,_possibleConstructorReturn3.default)(this,(_ref=Configure.__proto__||(0,_getPrototypeOf2.default)(Configure)).call.apply(_ref,[this,props].concat(rest)));return _this.displayMessage=function(message){_this.setState({modalMessageState:!0,modalMessage:message})},_this.handleModalRequestClose=function(){_this.setState({modalMessageState:!1})},_this.handlePanelChange=function(){_this.props.onCustomDimensionChange([]),_this.props.resetInitialFetch()},_this.renderHelperElement=function(el){return _react2.default.createElement(StyledHeder,(0,_testSupportUtils.createTestHook)(__filename,name),el)},_this.state={modalMessageState:!1,modalMessage:""},_this.styles={main:{margin:"auto auto",paddingTop:"20px",paddingLeft:"20px"}},_this}return(0,_inherits3.default)(Configure,_React$Component),(0,_createClass3.default)(Configure,[{key:"render",value:function(){if(this.props.userRoleLoadStatus===_stateConstants.FETCH_OBJECT_STATE.IN_PROGRESS)return this.renderHelperElement(_react2.default.createElement(_WaitSpinner2.default,{size:"medium"}));if(!this.props.isAdminOrPower)return this.renderHelperElement(_react2.default.createElement(_Paragraph2.default,{"data-profiler-marker-id":"addDataPageProfilerMarker"},(0,_format.sprintf)((0,_i18n._)("You must be assigned admin permissions to use the 'Add Data' page. Please contact your %(packageName)s admin."),{packageName:(0,_commonUtils.getPackageName)()})));var unixConfigurationProps=(0,_lodash.pick)(this.props,(0,_keys2.default)(_UnixConfiguration2.default.propTypes)),windowsConfigurationProps=(0,_lodash.pick)(this.props,(0,_keys2.default)(_WindowsConfiguration2.default.propTypes)),osxConfigurationProps=(0,_lodash.pick)(this.props,(0,_keys2.default)(_OsxConfiguration2.default.propTypes)),kubeConfigurationProps=(0,_lodash.pick)(this.props,(0,_keys2.default)(_KubernetesConfiguration2.default.propTypes)),openShiftConfigurationProps=(0,_lodash.pick)(this.props,(0,_keys2.default)(_OpenShiftConfiguration2.default.propTypes)),awsConfiguration=config.isMultiCloudEnabled()?_react2.default.createElement(_AwsConfiguration2.default,null):_react2.default.createElement(_AwsConfigurationContainer2.default,null);return _react2.default.createElement("div",(0,_testSupportUtils.createTestHook)(__filename,name),_react2.default.createElement(_Modal2.default,{onRequestClose:this.handleModalRequestClose,open:this.state.modalMessageState},_react2.default.createElement(_Modal2.default.Body,null,this.state.modalMessage)),_react2.default.createElement(_Heading2.default,{style:this.styles.main,level:1},(0,_i18n._)("Configure Integrations")),_react2.default.createElement(_TabLayout2.default,{defaultActivePanelId:"linux",tabWidth:150,layout:"vertical",onChange:this.handlePanelChange},_react2.default.createElement(_TabLayout2.default.Panel,{label:"Linux/Unix",panelId:"linux"},_react2.default.createElement(_UnixConfiguration2.default,unixConfigurationProps)),_react2.default.createElement(_TabLayout2.default.Panel,{label:"AWS",panelId:"aws"},awsConfiguration),_react2.default.createElement(_TabLayout2.default.Panel,{label:"Windows",panelId:"windows"},_react2.default.createElement(_WindowsConfiguration2.default,windowsConfigurationProps)),_react2.default.createElement(_TabLayout2.default.Panel,{label:"OSX",panelId:"osx"},_react2.default.createElement(_OsxConfiguration2.default,osxConfigurationProps)),_react2.default.createElement(_TabLayout2.default.Panel,{label:"Kubernetes",panelId:"kubernetes"},_react2.default.createElement(_KubernetesConfiguration2.default,kubeConfigurationProps)),_react2.default.createElement(_TabLayout2.default.Panel,{label:"OpenShift",panelId:"openshift"},_react2.default.createElement(_OpenShiftConfiguration2.default,openShiftConfigurationProps))))}}]),Configure}(_react2.default.Component),_class.propTypes=(0,_extends3.default)({},_UnixConfiguration2.default.propTypes,_WindowsConfiguration2.default.propTypes,_OsxConfiguration2.default.propTypes,_KubernetesConfiguration2.default.propTypes,_OpenShiftConfiguration2.default.propTypes,{onCustomDimensionChange:_propTypes2.default.func.isRequired,resetInitialFetch:_propTypes2.default.func.isRequired,isAdminOrPower:_propTypes2.default.bool.isRequired,userRoleLoadStatus:_propTypes2.default.oneOf((0,_values2.default)(_stateConstants.FETCH_OBJECT_STATE)).isRequired}),_temp);exports.default=Configure,module.exports=exports.default}).call(this,"src/main/webapp/configure/common/components/Configure.js")},1988:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _class,_temp2,_extends3=_interopRequireDefault(__webpack_require__(6)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(14)),_classCallCheck3=_interopRequireDefault(__webpack_require__(9)),_createClass3=_interopRequireDefault(__webpack_require__(12)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(8)),_inherits3=_interopRequireDefault(__webpack_require__(11)),_react2=_interopRequireDefault(__webpack_require__(0)),_redux=__webpack_require__(25),_reactRedux=__webpack_require__(35),_actions=__webpack_require__(408),_actions2=__webpack_require__(235),_constants=__webpack_require__(916),_AwsConfiguration2=_interopRequireDefault(__webpack_require__(1989));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var AwsConfigurationContainer=(_temp2=_class=function(_React$Component){function AwsConfigurationContainer(){var _ref,_temp,_this,_ret;(0,_classCallCheck3.default)(this,AwsConfigurationContainer);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_temp=_this=(0,_possibleConstructorReturn3.default)(this,(_ref=AwsConfigurationContainer.__proto__||(0,_getPrototypeOf2.default)(AwsConfigurationContainer)).call.apply(_ref,[this].concat(args)))).onSubmitAccountDelete=function(){var _this$props=_this.props,initialLogInputsInfo=_this$props.initialLogInputsInfo,name=_this$props.name;(0,_this$props.onDeleteAwsAccount)({name:_constants.CLOUDWATCH_INPUT_NAME,accountName:name,awsRegions:"",selectedNamespaces:[]},{account:name,useCloudWatchLogs:!1,prevInputs:initialLogInputsInfo,newInputs:[]},{name:name})},_ret=_temp,(0,_possibleConstructorReturn3.default)(_this,_ret)}return(0,_inherits3.default)(AwsConfigurationContainer,_React$Component),(0,_createClass3.default)(AwsConfigurationContainer,[{key:"componentDidMount",value:function(){this.props.loadAwsTaPresenceInfo()}},{key:"render",value:function(){return _react2.default.createElement(_AwsConfiguration2.default,(0,_extends3.default)({},this.props,{isNewAccount:""===this.props.name,onSubmitAccountDelete:this.onSubmitAccountDelete}))}}]),AwsConfigurationContainer}(_react2.default.Component),_class.propTypes=(0,_extends3.default)({},_AwsConfiguration2.default.propTypes),_class.defaultProps=(0,_extends3.default)({},_AwsConfiguration2.default.defaultProps),_temp2);exports.default=(0,_reactRedux.connect)(function(state){return{awsTaVersionFetchState:state.awsConfigurationReducer.awsTaVersionFetchState,awsTaVersion:state.awsConfigurationReducer.awsTaVersion,awsTaEnabled:state.awsConfigurationReducer.awsTaEnabled,accountDeletionState:state.awsConfigurationReducer.accountDeletionState,connectedCount:state.configurationStatusReducer.connectedCount,deploymentEnv:state.awsConfigurationReducer.deploymentEnv,initialFetchDone:state.configurationStatusReducer.initialFetchDone,initialLogInputsInfo:state.awsConfigurationReducer.initialLogInputsInfo,name:state.awsConfigurationReducer.initialName,isAdminOrPower:state.userRolesReducer.isAdminOrPower,newCount:state.configurationStatusReducer.newCount}},function(dispatch){return(0,_redux.bindActionCreators)({onAccountDeletionConfirm:_actions2.accountDeletionConfirm,onAccountDeletionReady:_actions2.accountDeletionReady,onDeleteAwsAccount:_actions2.onDeleteAwsAccount,handleCount:_actions.handleCount,loadAwsTaPresenceInfo:_actions2.loadAwsTaPresenceInfo},dispatch)})(AwsConfigurationContainer),module.exports=exports.default},1989:function(module,exports,__webpack_require__){"use strict";(function(__filename){Object.defineProperty(exports,"__esModule",{value:!0});var _values2=_interopRequireDefault(__webpack_require__(56)),_extends3=_interopRequireDefault(__webpack_require__(6)),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes2=_interopRequireDefault(__webpack_require__(1)),_Link2=_interopRequireDefault(__webpack_require__(57)),_i18n=__webpack_require__(2),_format=__webpack_require__(39),_Paragraph2=_interopRequireDefault(__webpack_require__(40)),_Button2=_interopRequireDefault(__webpack_require__(32)),_Message2=_interopRequireDefault(__webpack_require__(90)),_ConfirmationDialog2=_interopRequireDefault(__webpack_require__(193)),_CustomList2=_interopRequireDefault(__webpack_require__(202)),_FormattedWaitSpinner2=_interopRequireDefault(__webpack_require__(227)),_commonUtils=__webpack_require__(24),_emUtils=__webpack_require__(26),_stateConstants=__webpack_require__(15),_testSupportUtils=__webpack_require__(27),_ConfigurationStatus2=_interopRequireDefault(__webpack_require__(236)),_commonUtils2=__webpack_require__(73),_AwsAccountFormContainer2=_interopRequireDefault(__webpack_require__(1998)),_AwsDataFormContainer2=_interopRequireDefault(__webpack_require__(2e3)),_AwsIamFormContainer2=_interopRequireDefault(__webpack_require__(2082));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var styles={main:{paddingTop:"15px"},title:{fontSize:14,fontWeight:600},messageWrapper:{display:"flex",alignItems:"center",justifyContent:"center",height:500}},renderError=function(el){return _react2.default.createElement("div",(0,_extends3.default)({},(0,_testSupportUtils.createTestHook)(__filename,name),{style:styles.messageWrapper}),el)},AwsConfiguration=function(_ref){var accountDeletionState=_ref.accountDeletionState,connectedCount=_ref.connectedCount,deploymentEnv=_ref.deploymentEnv,handleCount=_ref.handleCount,initialFetchDone=_ref.initialFetchDone,isAdminOrPower=_ref.isAdminOrPower,isNewAccount=_ref.isNewAccount,name=_ref.name,newCount=_ref.newCount,onAccountDeletionConfirm=_ref.onAccountDeletionConfirm,onAccountDeletionReady=_ref.onAccountDeletionReady,onSubmitAccountDelete=_ref.onSubmitAccountDelete,awsTaVersion=_ref.awsTaVersion,awsTaEnabled=_ref.awsTaEnabled,awsTaVersionFetchState=_ref.awsTaVersionFetchState;if(!isAdminOrPower)return renderError(_react2.default.createElement(_Paragraph2.default,null,(0,_i18n._)("Only Admin user can access AWS configuration page.")));var checkReqsLink=_react2.default.createElement(_Link2.default,{to:(0,_commonUtils2.getDocsURL)("Install/SystemRequirements"),openInNewContext:!0},(0,_i18n._)("System Requirements for Splunk App for Infrastructure")),cloudReqsLink=_react2.default.createElement(_Link2.default,{to:(0,_commonUtils2.getDocsURL)("Install/Cloud"),openInNewContext:!0},(0,_i18n._)("App for Infrastructure Set-Up Documentation with Splunk Add-on for Amazon Web Services on Cloud")),reinstallSIIMessage=_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_Paragraph2.default,null,(0,_i18n._)("Please reinstall Splunk Insights for Infrastructure. If the problem persists, contact Splunk support.")),_react2.default.createElement(_Paragraph2.default,null,_react2.default.createElement(_Link2.default,{to:"https://www.splunk.com/en_us/support-and-services.html",openInNewContext:!0},(0,_i18n._)("Support and Services")))),installAwsTaMessage=_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_Paragraph2.default,null,(0,_i18n._)("Please install Splunk Add-on for Amazon Web Services app version 4.5.")),_react2.default.createElement(_Paragraph2.default,null,(0,_i18n._)("First check App for Infrustructure system requirements.")),_react2.default.createElement(_Paragraph2.default,null,checkReqsLink),_react2.default.createElement(_Paragraph2.default,null,(0,_i18n._)("Then install the Splunk Add-on for Amazon Web Services from Splunkbase.")),_react2.default.createElement(_Paragraph2.default,null,_react2.default.createElement(_Link2.default,{to:"https://splunkbase.splunk.com/app/1876/",openInNewContext:!0},(0,_i18n._)("Splunk Add-on for Amazon Web Services")))),helperMessage=(0,_commonUtils.isEnterprise)()?installAwsTaMessage:reinstallSIIMessage;if(awsTaVersionFetchState===_stateConstants.FETCH_OBJECT_STATE.ERROR){var msg=_react2.default.createElement("div",{"data-test":"aws-configure-error-message-ta-fetch-error"},_react2.default.createElement(_Paragraph2.default,null,(0,_i18n._)("Failed to fetch info about the presence of Splunk Add-on for Amazon Web Services.")),_react2.default.createElement(_Paragraph2.default,null,(0,_i18n._)("Please check your network connection.")),helperMessage);return renderError(msg)}if((0,_emUtils.isSplunkCloud)()){var _msg=_react2.default.createElement("div",{"data-test":"aws-configure-cloud-error-message"},_react2.default.createElement(_Paragraph2.default,null,(0,_i18n._)("Failed to fetch info about the presence of Splunk Add-on for Amazon Web Services.")),_react2.default.createElement(_Paragraph2.default,null,(0,_i18n._)("Please check your network connection.")),_react2.default.createElement("br",null),_react2.default.createElement(_Paragraph2.default,null,(0,_i18n._)("Per Splunk Cloud, please install Splunk Add-on for Amazon Web Services on premises with app version 4.5 that is supported by the App for Infrastructure.")),_react2.default.createElement(_Paragraph2.default,null,(0,_i18n._)("Please see documentation link below for more details on installation.")),_react2.default.createElement(_Paragraph2.default,null,(0,_i18n._)("If issues arise, please file a ticket to the Splunk Cloud team for assistance.")),_react2.default.createElement("br",null),_react2.default.createElement(_Paragraph2.default,null,_react2.default.createElement(_Link2.default,{to:"https://splunkbase.splunk.com/app/1876/",openInNewContext:!0},(0,_i18n._)("Splunk Add-on for Amazon Web Services link for installation on prem"))),_react2.default.createElement(_Paragraph2.default,null,cloudReqsLink));return renderError(_msg)}if(!awsTaVersion&&awsTaVersionFetchState===_stateConstants.FETCH_OBJECT_STATE.SUCCESS){var _msg2=_react2.default.createElement("div",{"data-test":"aws-configure-error-message-ta-not-installed"},_react2.default.createElement(_Paragraph2.default,null,(0,_i18n._)("Splunk Add-on for Amazon Web Services is not installed. It must be enabled to configure AWS.")),helperMessage);return renderError(_msg2)}if(awsTaEnabled||awsTaVersionFetchState!==_stateConstants.FETCH_OBJECT_STATE.SUCCESS)return _react2.default.createElement("div",(0,_extends3.default)({"data-test":"aws-configure-forms",style:styles.main},(0,_testSupportUtils.createTestHook)(__filename,name)),function(accountDeletionState,name,onAccountDeletionReady,onSubmitAccountDelete){var title="",mainMessage="",infoMessage="",message="",primaryButtonText="",showCancel=!1,hideCloseButton=!1;switch(accountDeletionState){case _stateConstants.DELETE_OBJECT_STATE.CONFIRM:title=(0,_i18n._)("Delete Account"),mainMessage=(0,_format.sprintf)((0,_i18n._)("Are you sure you want to delete %(name)s?"),{name:name}),infoMessage=(0,_i18n._)("All inputs related to this account will also be deleted."),message=_react2.default.createElement("div",null,_react2.default.createElement(_Paragraph2.default,null,mainMessage),_react2.default.createElement(_Message2.default,{type:"info"},infoMessage)),primaryButtonText=(0,_i18n._)("Delete"),showCancel=!0;break;case _stateConstants.DELETE_OBJECT_STATE.ERROR:title=(0,_i18n._)("Deletion Failed"),message=_react2.default.createElement(_Paragraph2.default,null,(0,_i18n._)("Failed to delete this account.")),primaryButtonText=(0,_i18n._)("Try Again"),showCancel=!0;break;case _stateConstants.DELETE_OBJECT_STATE.IN_PROGRESS:title=(0,_i18n._)("Delete Account"),message=_react2.default.createElement(_FormattedWaitSpinner2.default,{message:(0,_i18n._)("Deleting the account. Do not refresh this page.")}),primaryButtonText=(0,_i18n._)("Close"),hideCloseButton=!0;break;case _stateConstants.DELETE_OBJECT_STATE.SUCCESS:title=(0,_i18n._)("Deletion Successful"),message=_react2.default.createElement(_Paragraph2.default,null,(0,_i18n._)("Successfully deleted the account.")),primaryButtonText=(0,_i18n._)("Close"),showCancel=!1}var isOpen=[_stateConstants.DELETE_OBJECT_STATE.CONFIRM,_stateConstants.DELETE_OBJECT_STATE.IN_PROGRESS,_stateConstants.DELETE_OBJECT_STATE.ERROR,_stateConstants.DELETE_OBJECT_STATE.SUCCESS].includes(accountDeletionState);return _react2.default.createElement(_ConfirmationDialog2.default,{open:isOpen,title:title,primaryButtonText:primaryButtonText,className:"account-deletion-confirmation-dialog",primaryButtonClicked:accountDeletionState===_stateConstants.DELETE_OBJECT_STATE.SUCCESS?onAccountDeletionReady:onSubmitAccountDelete,beforeClose:onAccountDeletionReady,showCancel:showCancel,closeOnClick:!1,hideCloseButton:hideCloseButton,disablePrimaryClick:accountDeletionState===_stateConstants.DELETE_OBJECT_STATE.IN_PROGRESS},message)}(accountDeletionState,name,onAccountDeletionReady,onSubmitAccountDelete),_react2.default.createElement(_Paragraph2.default,{style:{marginLeft:"25px"}},(0,_i18n._)("Follow the instructions to collect data from your AWS instances."),!isNewAccount&&deploymentEnv!==_stateConstants.DEPLOYMENT_ENV.EC2&&_react2.default.createElement(_Button2.default,{label:(0,_i18n._)("Delete this account"),onClick:onAccountDeletionConfirm,style:{marginLeft:"60px"},appearance:"pill"})),_react2.default.createElement(_CustomList2.default,null,_react2.default.createElement(_CustomList2.default.Item,null,deploymentEnv===_stateConstants.DEPLOYMENT_ENV.EC2?_react2.default.createElement(_AwsIamFormContainer2.default,null):_react2.default.createElement(_AwsAccountFormContainer2.default,null)),_react2.default.createElement(_CustomList2.default.Item,null,_react2.default.createElement(_AwsDataFormContainer2.default,null)),_react2.default.createElement(_CustomList2.default.Item,null,_react2.default.createElement(_Paragraph2.default,{style:styles.title},(0,_i18n._)("Once your AWS account is added, verify your data connection")),_react2.default.createElement(_ConfigurationStatus2.default,{connectedCount:connectedCount,newCount:newCount,initialFetchDone:initialFetchDone,handleCount:handleCount,entityType:_stateConstants.ENTITY_TYPE.AWS}))));var enterpriseHelperMessage=_react2.default.createElement("div",null,_react2.default.createElement(_Paragraph2.default,null,(0,_i18n._)("Go to Manage Apps > In the list of apps find: Splunk Add-on for Amazon Web Services App > Click Enable")),_react2.default.createElement(_Paragraph2.default,null,(0,_i18n._)("Review the documentation for managing apps.")),_react2.default.createElement(_Paragraph2.default,null,_react2.default.createElement(_Link2.default,{to:"https://docs.splunk.com/Documentation/Splunk/latest/Admin/Managingappobjects",openInNewContext:!0},(0,_i18n._)("Manage app and add-on objects"))),_react2.default.createElement(_Paragraph2.default,null,(0,_i18n._)("For further info check App for Infrustructure system requirements.")),_react2.default.createElement(_Paragraph2.default,null,checkReqsLink)),helperMessages=(0,_commonUtils.isEnterprise)()?enterpriseHelperMessage:reinstallSIIMessage,_msg3=_react2.default.createElement("div",{"data-test":"aws-configure-error-message-ta-disabled"},_react2.default.createElement(_Paragraph2.default,null,(0,_i18n._)("Splunk Add-on for Amazon Web Services is disabled. It must be enabled to configure AWS.")),helperMessages);return renderError(_msg3)};AwsConfiguration.propTypes={accountDeletionState:_propTypes2.default.oneOf((0,_values2.default)(_stateConstants.DELETE_OBJECT_STATE)),awsTaEnabled:_propTypes2.default.bool.isRequired,awsTaVersion:_propTypes2.default.string.isRequired,awsTaVersionFetchState:_propTypes2.default.oneOf((0,_values2.default)(_stateConstants.FETCH_OBJECT_STATE)),connectedCount:_propTypes2.default.number,deploymentEnv:_propTypes2.default.oneOf((0,_values2.default)(_stateConstants.DEPLOYMENT_ENV)),handleCount:_propTypes2.default.func,initialFetchDone:_propTypes2.default.bool,isAdminOrPower:_propTypes2.default.bool,isNewAccount:_propTypes2.default.bool,name:_propTypes2.default.string,newCount:_propTypes2.default.number,onAccountDeletionConfirm:_propTypes2.default.func,onAccountDeletionReady:_propTypes2.default.func,onSubmitAccountDelete:_propTypes2.default.func},AwsConfiguration.defaultProps={accountDeletionState:_stateConstants.DELETE_OBJECT_STATE.READY,connectedCount:0,deploymentEnv:_stateConstants.DEPLOYMENT_ENV.NON_EC2,handleCount:null,initialFetchDone:!1,isAdminOrPower:!1,isNewAccount:!0,name:"",newCount:0,onAccountDeletionConfirm:null,onAccountDeletionReady:null,onSubmitAccountDelete:null,awsTaEnabled:!1,awsTaVersion:"",awsTaVersionFetchState:_stateConstants.FETCH_OBJECT_STATE.READY},exports.default=AwsConfiguration,module.exports=exports.default}).call(this,"src/main/webapp/configure/aws/components/AwsConfiguration.js")},1990:function(module,exports,__webpack_require__){"use strict";(function(__filename){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _class,_temp2,_extends3=_interopRequireDefault(__webpack_require__(6)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(14)),_classCallCheck3=_interopRequireDefault(__webpack_require__(9)),_createClass3=_interopRequireDefault(__webpack_require__(12)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(8)),_inherits3=_interopRequireDefault(__webpack_require__(11)),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes2=_interopRequireDefault(__webpack_require__(1)),_lodash=__webpack_require__(13),_testSupportUtils=__webpack_require__(27),_CustomListItem2=_interopRequireDefault(__webpack_require__(917));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CustomList=(_temp2=_class=function(_React$Component){function CustomList(){var _ref,_temp,_this,_ret;(0,_classCallCheck3.default)(this,CustomList);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_temp=_this=(0,_possibleConstructorReturn3.default)(this,(_ref=CustomList.__proto__||(0,_getPrototypeOf2.default)(CustomList)).call.apply(_ref,[this].concat(args)))).css={margin:"16px 0px 21px 26px",listStyleType:"none"},_ret=_temp,(0,_possibleConstructorReturn3.default)(_this,_ret)}return(0,_inherits3.default)(CustomList,_React$Component),(0,_createClass3.default)(CustomList,[{key:"render",value:function(){return _react2.default.createElement("ol",(0,_extends3.default)({style:(0,_lodash.extend)(this.css,this.props.style)},(0,_testSupportUtils.createTestHook)(__filename,name)),_react.Children.map(this.props.children,function(child,idx){return _react2.default.cloneElement(child,{itemNumber:idx+1})}))}}]),CustomList}(_react2.default.Component),_class.propTypes={children:_propTypes2.default.node,style:_propTypes2.default.object},_class.defaultProps={type:"disc",children:null,style:null},_class.Item=_CustomListItem2.default,_temp2);exports.default=CustomList,module.exports=exports.default}).call(this,"../../packages/ui/components/CustomList/CustomList.js")},1991:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _class,_temp,_getPrototypeOf2=_interopRequireDefault(__webpack_require__(14)),_classCallCheck3=_interopRequireDefault(__webpack_require__(9)),_createClass3=_interopRequireDefault(__webpack_require__(12)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(8)),_inherits3=_interopRequireDefault(__webpack_require__(11)),_searchmanager2=_interopRequireDefault(__webpack_require__("splunkjs/mvc/searchmanager")),_lodash2=_interopRequireDefault(__webpack_require__(16)),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes2=_interopRequireDefault(__webpack_require__(1)),_config=__webpack_require__(160);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var DataManagerModel=(_temp=_class=function(_Component){function DataManagerModel(props,context){(0,_classCallCheck3.default)(this,DataManagerModel);var _this=(0,_possibleConstructorReturn3.default)(this,(DataManagerModel.__proto__||(0,_getPrototypeOf2.default)(DataManagerModel)).call(this,props,context));return _this.state={fields:[],data:[],isJobDone:!1,searchTiming:{start:null,end:null}},_this.createSearchManager(),_this.onDataChange=_this.onDataChange.bind(_this),_this.onSearchStart=_this.onSearchStart.bind(_this),_this.onSearchProgress=_this.onSearchProgress.bind(_this),_this}return(0,_inherits3.default)(DataManagerModel,_Component),(0,_createClass3.default)(DataManagerModel,[{key:"componentDidMount",value:function(){this.registerEvents()}},{key:"shouldComponentUpdate",value:function(nextProps){return nextProps.search!==this.props.search}},{key:"componentDidUpdate",value:function(){this.createSearchManager(),this.unregisterEvents(),this.registerEvents()}},{key:"componentWillUnmount",value:function(){this.unregisterEvents()}},{key:"onSearchStart",value:function(){this.state.searchTiming.start=Date.now(),this.state.isJobDone=!1}},{key:"onSearchProgress",value:function(state){var content=state.content;this.state.isJobDone=content.isDone||!1}},{key:"onDataChange",value:function(){var data=this.resultsModel.data(),fields=data&&data.fields||[],rows=data&&data.rows||[];this.setState({fields:fields,data:rows}),this.props.onStateChange&&this.props.onStateChange(this.state)}},{key:"registerEvents",value:function(){this.searchManager.on("search:start",this.onSearchStart,this),this.searchManager.on("search:progress",this.onSearchProgress,this),this.resultsModel.on("change",this.onDataChange,this),this.resultsModel.on("data",this.onDataChange,this)}},{key:"unregisterEvents",value:function(){this.searchManager.off("search"),this.resultsModel.off("change"),this.resultsModel.off("data")}},{key:"createSearchManager",value:function(){this.id=this.props.id||_lodash2.default.uniqueId(),this.searchManager=new _searchmanager2.default({id:this.id+"_manager",earliest_time:this.props.earliest_time,latest_time:this.props.latest_time,preview:!1,cache:60,status_buckets:this.props.statusBuckets||0,search:this.props.search,time_format:"%s.%Q",app:_config.app}),this.resultsModel=this.searchManager.data("preview",{output_mode:"json_rows",count:this.props.returnCount||0,offset:this.props.returnOffset||0,output_time_format:"%s.%Q"})}},{key:"render",value:function(){return _react2.default.createElement("p",null)}}]),DataManagerModel}(_react.Component),_class.propTypes={onStateChange:_propTypes2.default.func,id:_propTypes2.default.string,statusBuckets:_propTypes2.default.number,returnCount:_propTypes2.default.number,returnOffset:_propTypes2.default.number},_class.defaultProps={onStateChange:function(){},id:"",statusBuckets:0,returnCount:0,returnOffset:0},_temp);DataManagerModel.defaultProps={earliest_time:"-60m",latest_time:"now",search:"index=_internal ERROR | timechart count"},DataManagerModel.propTypes={earliest_time:_propTypes2.default.string,latest_time:_propTypes2.default.string,search:_propTypes2.default.string.isRequired},exports.default=DataManagerModel,module.exports=exports.default},1992:function(module,exports,__webpack_require__){var $,decode,deparam,jQuery=__webpack_require__("shim/jquery");$=jQuery,decode=decodeURIComponent,(deparam=$.deparam=function(text,reviver){var result={};return $.each(text.replace(/\+/g," ").split("&"),function(index,pair){var kv=pair.split("="),key=decode(kv[0]);if(key){var value=decode(kv[1]||""),keys=key.split("]["),last=keys.length-1,i=0,current=result;if(0<=keys[0].indexOf("[")&&/\]$/.test(keys[last])?(keys[last]=keys[last].replace(/\]$/,""),keys=keys.shift().split("[").concat(keys),last++):last=0,$.isFunction(reviver)?value=reviver(key,value):reviver&&(value=deparam.reviver(key,value)),last)for(;i<=last;i++)key=""!==keys[i]?keys[i]:current.length,i<last?current=current[key]=current[key]||(isNaN(keys[i+1])?{}:[]):current[key]=value;else $.isArray(result[key])?result[key].push(value):result[key]=key in result?[result[key],value]:value}}),result}).reviver=function(key,value){var specials={true:!0,false:!1,null:null,undefined:void 0};return+value+""===value?+value:value in specials?specials[value]:value}},1995:function(module,exports,__webpack_require__){!function($){var addMethods=function(source){var ancestor=this.superclass&&this.superclass.prototype,properties=$.keys(source);$.keys({toString:!0}).length||properties.push("toString","valueOf");for(var i=0,length=properties.length;i<length;i++){var property=properties[i],value=source[property];if(ancestor&&$.isFunction(value)&&"$super"==$.argumentNames(value)[0]){var method=value;value=$.extend($.wrap(function(m){return function(){return ancestor[m].apply(this,arguments)}}(property),method),{valueOf:function(){return method},toString:function(){return method.toString()}})}this.prototype[property]=value}return this};$.extend({keys:function(obj){var keys=[];for(var key in obj)keys.push(key);return keys},argumentNames:function(func){var names=func.toString().match(/^[\s\(]*function[^(]*\((.*?)\)/)[1].split(/, ?/);return 1!=names.length||names[0]?names:[]},bind:function(func,scope){return function(){return func.apply(scope,$.makeArray(arguments))}},wrap:function(func,wrapper){var __method=func;return function(){return wrapper.apply(this,[$.bind(__method,this)].concat($.makeArray(arguments)))}},klass:function(){var parent=null,properties=$.makeArray(arguments);$.isFunction(properties[0])&&(parent=properties.shift());var klass=function(){this.initialize.apply(this,arguments)};if(klass.superclass=parent,klass.subclasses=[],klass.addMethods=addMethods,parent){var subclass=function(){};subclass.prototype=parent.prototype,klass.prototype=new subclass,parent.subclasses.push(klass)}for(var i=0;i<properties.length;i++)klass.addMethods(properties[i]);return klass.prototype.initialize||(klass.prototype.initialize=function(){}),klass.prototype.constructor=klass}});var attachBehavior=function(el,behavior,args){var wrapper=function(behavior){return $.klass(behavior,{initialize:function($super,element,args){this.element=$(element),$super&&$super.apply(this,args)}})}(behavior);return instance=new wrapper(el,args),function(instance){for(var member in instance)member.match(/^on(.+)/)&&"function"==typeof instance[member]&&instance.element.bind(RegExp.$1,$.bind(instance[member],instance))}(instance),behavior.instances||(behavior.instances=[]),behavior.instances.push(instance),instance};$.fn.extend({attach:function(){var args=$.makeArray(arguments),behavior=args.shift();return $.livequery&&this.selector?this.livequery(function(){attachBehavior(this,behavior,args)}):this.each(function(){attachBehavior(this,behavior,args)})},attachAndReturn:function(){var args=$.makeArray(arguments),behavior=args.shift();return $.map(this,function(el){return attachBehavior(el,behavior,args)})},attached:function(behavior){var instances=[];return behavior.instances&&this.each(function(i,element){$.each(behavior.instances,function(i,instance){instance.element.get(0)==element&&instances.push(instance)})}),instances},firstAttached:function(behavior){return this.attached(behavior)[0]}});var Remote=$.klass({initialize:function(options){"FORM"==this.element.attr("nodeName")?this.element.attach(Remote.Form,options):this.element.attach(Remote.Link,options)}});Remote.Base=$.klass({initialize:function(options){this.options=$.extend({},options||{})},_makeRequest:function(options){return $.ajax(options),!1}}),Remote.Link=$.klass(Remote.Base,{onclick:function(){var options=$.extend({url:this.element.attr("href"),type:"GET"},this.options);return this._makeRequest(options)}}),Remote.Form=$.klass(Remote.Base,{onclick:function(e){var target=e.target;0<=$.inArray(target.nodeName.toLowerCase(),["input","button"])&&target.type.match(/submit|image/)&&(this._submitButton=target)},onsubmit:function(){var data=this.element.serializeArray();this._submitButton&&data.push({name:this._submitButton.name,value:this._submitButton.value});var options=$.extend({url:this.element.attr("action"),type:this.element.attr("method")||"GET",data:data},this.options);return this._makeRequest(options),!1}}),$.ajaxSetup({beforeSend:function(xhr){xhr.setRequestHeader("Accept","text/javascript, text/html, application/xml, text/xml, */*")}})}(__webpack_require__("shim/jquery"))},1996:function(module,exports,__webpack_require__){var $=__webpack_require__("shim/jquery");Splunk.namespace("Splunk.Session"),Splunk.Session=$.klass({EVENT_BUFFER_TIMEOUT:1e3,UI_INACTIVITY_TIMEOUT:60,START_EVENT:"SessionStart",TIMEOUT_EVENT:"SessionTimeout",RESTART_EVENT:"HaltOnRestart",UI_EVENT_TYPES:["click","keydown","mouseover","scroll"],initialize:function(){this.logger=Splunk.Logger.getLogger("session.js"),this.eventBuffer=[],this.timeoutDelay=Splunk.util.getConfigValue("UI_INACTIVITY_TIMEOUT",this.UI_INACTIVITY_TIMEOUT),this.timeoutDelay*=6e4,2147483647<this.timeoutDelay&&(this.logger.warn("ui_inactivity_timeout must be treated as minutes not milliseconds. Defaulting to 60 min"),this.timeoutDelay=36e5),this.timeoutID=null,$(document).bind(this.START_EVENT,this.onSessionStart.bind(this)),!this.timeoutDelay<1&&($(document).bind(this.TIMEOUT_EVENT,this.onSessionTimeout.bind(this)),$(document).bind(this.UI_EVENT_TYPES.join(" "),this.onUIEvent.bind(this)),this.startTimeout()),$(document).trigger(this.START_EVENT,new Date)},onUIEvent:function(event){this.timeoutID?(this.eventBuffer.push(""),1===this.eventBuffer.length&&(this.resetTimeout(),setTimeout(function(){this.eventBuffer=[]}.bind(this),this.EVENT_BUFFER_TIMEOUT))):(this.startTimeout(),$(document).trigger(this.START_EVENT,new Date))},onSessionStart:function(event,date){},onSessionTimeout:function(event,date){},resetTimeout:function(){this.stopTimeout(),this.startTimeout()},signalRestart:function(){$(document).trigger(this.RESTART_EVENT)},startTimeout:function(){this.timeoutID=window.setTimeout(this.timeoutHandler.bind(this),this.timeoutDelay)},stopTimeout:function(){this.timeoutID&&(window.clearTimeout(this.timeoutID),this.timeoutID=null)},timeoutHandler:function(){this.stopTimeout(),$(document).trigger(this.TIMEOUT_EVENT,new Date)}}),Splunk.Session.instance=null,Splunk.Session.getInstance=function(){return Splunk.Session.instance||(Splunk.Session.instance=new Splunk.Session),Splunk.Session.instance}},1997:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(904)(!1)).push([module.i,".splunk-viz-msg {\n    overflow: hidden;\n    position: absolute;\n    width: 100%;\n    height: 100%;\n}\n\n.splunk-table .splunk-viz-msg {\n    overflow: auto;\n    position: static;\n}\n\n.splunk-message-container {\n    display: flex;\n    height: 100%;\n    align-items: center;\n    justify-content: center;\n}\n\n.splunk-message-container.compact {\n    display: block;\n    height: auto;\n    padding: 0px 40px 10px 40px;\n    min-height: 0;\n}",""])},1998:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _class,_temp,_initialiseProps,_defineProperty3=_interopRequireDefault(__webpack_require__(23)),_extends3=_interopRequireDefault(__webpack_require__(6)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(14)),_classCallCheck3=_interopRequireDefault(__webpack_require__(9)),_createClass3=_interopRequireDefault(__webpack_require__(12)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(8)),_inherits3=_interopRequireDefault(__webpack_require__(11)),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_redux=__webpack_require__(25),_reactRedux=__webpack_require__(35),_stateConstants=__webpack_require__(15),_actions=__webpack_require__(235),_AwsAccountForm2=_interopRequireDefault(__webpack_require__(1999));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var AwsAccountFormContainer=(_temp=_class=function(_Component){function AwsAccountFormContainer(props){(0,_classCallCheck3.default)(this,AwsAccountFormContainer);var _this=(0,_possibleConstructorReturn3.default)(this,(AwsAccountFormContainer.__proto__||(0,_getPrototypeOf2.default)(AwsAccountFormContainer)).call(this,props));_initialiseProps.call(_this);var initialAccountRegionCategory=props.initialAccountRegionCategory,keyId=props.initialKeyId,name=props.initialName;return _this.state={name:name,keyId:keyId,secretKey:"",accountRegionCategory:String(initialAccountRegionCategory)},_this}return(0,_inherits3.default)(AwsAccountFormContainer,_Component),(0,_createClass3.default)(AwsAccountFormContainer,[{key:"componentDidMount",value:function(){var _props=this.props,isAdminOrPower=_props.isAdminOrPower,fetchAccountStatus=_props.fetchAccountStatus,onLoadAccountInfo=_props.onLoadAccountInfo;isAdminOrPower&&this.isNewAccount()&&fetchAccountStatus===_stateConstants.FETCH_OBJECT_STATE.READY&&onLoadAccountInfo()}},{key:"componentDidUpdate",value:function(prevProps){var _props2=this.props,accountDeletionState=_props2.accountDeletionState,awsAccountStatus=_props2.awsAccountStatus,initialAccountRegionCategory=_props2.initialAccountRegionCategory,keyId=_props2.initialKeyId,name=_props2.initialName;(awsAccountStatus===_stateConstants.AWS_ACCOUNT_STATUS.SUCCESS||awsAccountStatus===_stateConstants.AWS_ACCOUNT_STATUS.READY)&&name&&""===prevProps.initialName&&this.setState({name:name,keyId:keyId,secretKey:"",accountRegionCategory:String(initialAccountRegionCategory)}),accountDeletionState===_stateConstants.DELETE_OBJECT_STATE.SUCCESS&&prevProps.accountDeletionState===_stateConstants.DELETE_OBJECT_STATE.IN_PROGRESS&&this.setState({name:"",keyId:"",secretKey:"",accountRegionCategory:"1"})}},{key:"render",value:function(){var _state=this.state,name=_state.name,keyId=_state.keyId,secretKey=_state.secretKey,accountRegionCategory=_state.accountRegionCategory,_props3=this.props,awsAccountStatus=_props3.awsAccountStatus,fetchAccountStatus=_props3.fetchAccountStatus;return _react2.default.createElement(_AwsAccountForm2.default,{accountRegionCategory:accountRegionCategory,awsAccountStatus:awsAccountStatus,fetchAccountStatus:fetchAccountStatus,isNewAccount:this.isNewAccount(),keyId:keyId,name:name,onUpdateAccountForm:this.onUpdateAccountForm,onSubmitAwsAccountChanges:this.onSubmitAwsAccountChanges,secretKey:secretKey})}}]),AwsAccountFormContainer}(_react.Component),_class.propTypes=(0,_extends3.default)({},_AwsAccountForm2.default.propTypes),_class.defaultProps=(0,_extends3.default)({},_AwsAccountForm2.default.defaultProps),_initialiseProps=function(){var _this2=this;this.isNewAccount=function(){return""===_this2.props.initialName},this.onSubmitAwsAccountChanges=function(){var _state2=_this2.state,accountRegionCategory=_state2.accountRegionCategory,keyId=_state2.keyId,name=_state2.name,secretKey=_state2.secretKey,_props4=_this2.props,onCreateAwsAccount=_props4.onCreateAwsAccount,onUpdateAwsAccount=_props4.onUpdateAwsAccount;(_this2.isNewAccount()?onCreateAwsAccount:onUpdateAwsAccount)(name,keyId,secretKey,accountRegionCategory)},this.onUpdateAccountForm=function(name,value){_this2.setState((0,_defineProperty3.default)({},name,value))}},_temp);exports.default=(0,_reactRedux.connect)(function(state){return{accountDeletionState:state.awsConfigurationReducer.accountDeletionState,awsAccountStatus:state.awsConfigurationReducer.awsAccountStatus,initialKeyId:state.awsConfigurationReducer.initialKeyId,initialAccountRegionCategory:state.awsConfigurationReducer.initialAccountRegionCategory,initialName:state.awsConfigurationReducer.initialName,isAdminOrPower:state.userRolesReducer.isAdminOrPower,fetchAccountStatus:state.awsConfigurationReducer.isFetchingAccountInfo}},function(dispatch){return(0,_redux.bindActionCreators)({onCreateAwsAccount:_actions.onCreateAwsAccount,onLoadAccountInfo:_actions.loadAwsAccountInfo,onUpdateAwsAccount:_actions.onUpdateAwsAccount},dispatch)})(AwsAccountFormContainer),module.exports=exports.default},1999:function(module,exports,__webpack_require__){"use strict";(function(__filename){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _class,_temp2,_values2=_interopRequireDefault(__webpack_require__(56)),_defineProperty3=_interopRequireDefault(__webpack_require__(23)),_keys2=_interopRequireDefault(__webpack_require__(29)),_extends4=_interopRequireDefault(__webpack_require__(6)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(14)),_classCallCheck3=_interopRequireDefault(__webpack_require__(9)),_createClass3=_interopRequireDefault(__webpack_require__(12)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(8)),_inherits3=_interopRequireDefault(__webpack_require__(11)),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes2=_interopRequireDefault(__webpack_require__(1)),_i18n=__webpack_require__(2),_Button2=_interopRequireDefault(__webpack_require__(32)),_ControlGroup2=_interopRequireDefault(__webpack_require__(64)),_Message2=_interopRequireDefault(__webpack_require__(90)),_Paragraph2=_interopRequireDefault(__webpack_require__(40)),_Select2=_interopRequireDefault(__webpack_require__(231)),_Text2=_interopRequireDefault(__webpack_require__(68)),_FormattedWaitSpinner2=_interopRequireDefault(__webpack_require__(227)),_stateConstants=__webpack_require__(15),_testSupportUtils=__webpack_require__(27);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var styles={title:{fontSize:14,fontWeight:600},spinnerWrapper:{padding:"10px"}},AwsAccountForm=(_temp2=_class=function(_Component){function AwsAccountForm(){var _ref,_temp,_this,_ret;(0,_classCallCheck3.default)(this,AwsAccountForm);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_temp=_this=(0,_possibleConstructorReturn3.default)(this,(_ref=AwsAccountForm.__proto__||(0,_getPrototypeOf2.default)(AwsAccountForm)).call.apply(_ref,[this].concat(args)))).state={accountErrorStates:{name:!1,keyId:!1,secretKey:!1,accountRegionCategory:!1}},_this.handleAwsAccountSubmit=function(){var allowSubmit=!0,accountErrorStates=(0,_extends4.default)({},_this.state.accountErrorStates);(0,_keys2.default)(accountErrorStates).forEach(function(key){""!==_this.props[key]&&void 0!==_this.props[key]||(accountErrorStates[key]=!0,allowSubmit=!1)}),allowSubmit?_this.props.onSubmitAwsAccountChanges():_this.setState({accountErrorStates:accountErrorStates})},_this.handleFormFieldChange=function(e,element){var name=element.name,value=element.value;if(void 0!==name&&name in _this.props){var accountErrorStates=(0,_extends4.default)({},_this.state.accountErrorStates,(0,_defineProperty3.default)({},name,!1));_this.setState({accountErrorStates:accountErrorStates}),_this.props.onUpdateAccountForm(name,value)}},_this.renderAwsAccountStatus=function(awsAccountStatus){var statusIndicator=void 0;switch(awsAccountStatus){case _stateConstants.AWS_ACCOUNT_STATUS.IN_PROGRESS:statusIndicator=_react2.default.createElement(_FormattedWaitSpinner2.default,{message:(0,_i18n._)("Connecting to AWS Account, Please Wait")});break;case _stateConstants.AWS_ACCOUNT_STATUS.SUCCESS:statusIndicator=_react2.default.createElement(_Message2.default,{type:"success",style:{marginLeft:"135px"},"data-test":"aws-account-success-message"},(0,_i18n._)("Success"));break;case _stateConstants.AWS_ACCOUNT_STATUS.ERROR:statusIndicator=_react2.default.createElement(_Message2.default,{type:"error",style:{marginLeft:"135px"},"data-test":"aws-account-error-message"},_this.props.isNewAccount?(0,_i18n._)("Error: Could not create account."):(0,_i18n._)("Error: Could not update account."))}return statusIndicator},_this.renderAwsAccountForm=function(){var _this$props=_this.props,accountRegionCategory=_this$props.accountRegionCategory,awsAccountStatus=_this$props.awsAccountStatus,isNewAccount=_this$props.isNewAccount,keyId=_this$props.keyId,name=_this$props.name,secretKey=_this$props.secretKey,_this$state$accountEr=_this.state.accountErrorStates,hasAccountRegionCategoryError=_this$state$accountEr.accountRegionCategory,hasKeyIdError=_this$state$accountEr.keyId,hasNameError=_this$state$accountEr.name,hasSecretKeyError=_this$state$accountEr.secretKey;return _react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_ControlGroup2.default,{help:hasNameError?(0,_i18n._)("Required Field."):"",label:(0,_i18n._)("Name"),error:hasNameError},_react2.default.createElement(_Text2.default,{canClear:!0,name:"name",error:hasNameError,disabled:!isNewAccount,value:name,onChange:_this.handleFormFieldChange})),_react2.default.createElement(_ControlGroup2.default,{label:(0,_i18n._)("Key ID"),error:hasKeyIdError,help:hasKeyIdError?(0,_i18n._)("Required Field."):""},_react2.default.createElement(_Text2.default,{canClear:!0,name:"keyId",error:hasKeyIdError,value:keyId,onChange:_this.handleFormFieldChange})),_react2.default.createElement(_ControlGroup2.default,{label:(0,_i18n._)("Secret Key"),error:hasSecretKeyError,help:hasSecretKeyError?(0,_i18n._)("Required Field."):""},_react2.default.createElement(_Text2.default,{canClear:!0,name:"secretKey",error:hasSecretKeyError,value:secretKey,onChange:_this.handleFormFieldChange,type:"password"})),_react2.default.createElement(_ControlGroup2.default,{label:(0,_i18n._)("Region Category"),error:hasAccountRegionCategoryError,help:hasAccountRegionCategoryError?(0,_i18n._)("Required Field."):""},_react2.default.createElement(_Select2.default,{name:"accountRegionCategory",error:hasAccountRegionCategoryError,value:accountRegionCategory,onChange:_this.handleFormFieldChange},_react2.default.createElement(_Select2.default.Option,{label:"Global",value:"1"}),_react2.default.createElement(_Select2.default.Option,{label:"GovCloud",value:"2"}),_react2.default.createElement(_Select2.default.Option,{label:"China",value:"4"}))),_react2.default.createElement(_Message2.default,{style:{marginLeft:"135px"},type:"info"},(0,_i18n._)("All fields required")),_react2.default.createElement(_Button2.default,{label:isNewAccount?(0,_i18n._)("Add AWS account"):(0,_i18n._)("Update AWS account"),onClick:_this.handleAwsAccountSubmit,style:{marginLeft:"135px"}}),_this.renderAwsAccountStatus(awsAccountStatus))},_this.renderSpinnner=function(){return _react2.default.createElement("div",{style:styles.spinnerWrapper},_react2.default.createElement(_FormattedWaitSpinner2.default,{message:(0,_i18n._)("Loading AWS Account Information")}))},_ret=_temp,(0,_possibleConstructorReturn3.default)(_this,_ret)}return(0,_inherits3.default)(AwsAccountForm,_Component),(0,_createClass3.default)(AwsAccountForm,[{key:"render",value:function(){var _props=this.props,fetchAccountStatus=_props.fetchAccountStatus,name=_props.name;return _react2.default.createElement("div",(0,_testSupportUtils.createTestHook)(__filename,name),_react2.default.createElement(_Paragraph2.default,{style:styles.title},(0,_i18n._)("Connect to your AWS account")),fetchAccountStatus===_stateConstants.FETCH_OBJECT_STATE.SUCCESS?this.renderAwsAccountForm():this.renderSpinnner())}}]),AwsAccountForm}(_react.Component),_class.propTypes={accountRegionCategory:_propTypes2.default.string,awsAccountStatus:_propTypes2.default.oneOf((0,_values2.default)(_stateConstants.AWS_ACCOUNT_STATUS)),fetchAccountStatus:_propTypes2.default.oneOf((0,_values2.default)(_stateConstants.FETCH_OBJECT_STATE)),isNewAccount:_propTypes2.default.bool,keyId:_propTypes2.default.string,name:_propTypes2.default.string,onUpdateAccountForm:_propTypes2.default.func,onSubmitAwsAccountChanges:_propTypes2.default.func,secretKey:_propTypes2.default.string},_class.defaultProps={accountRegionCategory:"1",awsAccountStatus:_stateConstants.AWS_ACCOUNT_STATUS.READY,fetchAccountStatus:_stateConstants.FETCH_OBJECT_STATE.READY,isNewAccount:!0,keyId:"",name:"",onUpdateAccountForm:null,onSubmitAwsAccountChanges:null,secretKey:""},_temp2);exports.default=AwsAccountForm,module.exports=exports.default}).call(this,"src/main/webapp/configure/aws/components/AwsAccountForm.js")},2e3:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _class,_temp,_initialiseProps,_toConsumableArray3=_interopRequireDefault(__webpack_require__(61)),_extends3=_interopRequireDefault(__webpack_require__(6)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(14)),_classCallCheck3=_interopRequireDefault(__webpack_require__(9)),_createClass3=_interopRequireDefault(__webpack_require__(12)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(8)),_inherits3=_interopRequireDefault(__webpack_require__(11)),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_redux=__webpack_require__(25),_reactRedux=__webpack_require__(35),_cloneDeep2=_interopRequireDefault(__webpack_require__(2001)),_isEqual2=_interopRequireDefault(__webpack_require__(2025)),_stateConstants=__webpack_require__(15),_actions=__webpack_require__(235),_constants=__webpack_require__(916),_AwsDataForm2=_interopRequireDefault(__webpack_require__(2026));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var AwsDataFormContainer=(_temp=_class=function(_Component){function AwsDataFormContainer(props){(0,_classCallCheck3.default)(this,AwsDataFormContainer);var _this=(0,_possibleConstructorReturn3.default)(this,(AwsDataFormContainer.__proto__||(0,_getPrototypeOf2.default)(AwsDataFormContainer)).call(this,props));_initialiseProps.call(_this);var logInputsInfo=props.initialLogInputsInfo,selectedEntityTypes=props.initialSelectedEntityTypes,selectedRegions=props.initialSelectedRegions;return _this.state={isCloudwatchInputAccountInfoInconsistent:!1,isCloudwatchLogsAccountInfoInconsistent:!1,logInputsInfo:logInputsInfo,selectedEntityTypes:selectedEntityTypes,selectedRegions:selectedRegions,useCloudWatchLogs:0!==logInputsInfo.length},_this}return(0,_inherits3.default)(AwsDataFormContainer,_Component),(0,_createClass3.default)(AwsDataFormContainer,[{key:"componentDidMount",value:function(){var _props=this.props,initialName=_props.initialName,isAdminOrPower=_props.isAdminOrPower,isFetchingAccountInfo=_props.isFetchingAccountInfo,isFetchingInput=_props.isFetchingInput,isFetchingLogsInput=_props.isFetchingLogsInput,onLoadAllCloudWatchInputs=_props.onLoadAllCloudWatchInputs,onLoadAllCloudWatchLogsInputs=_props.onLoadAllCloudWatchLogsInputs,onLoadCloudWatchRegions=_props.onLoadCloudWatchRegions,isNew=this.isNewAccount()||this.isNewInput()||this.isNewLogInput();isAdminOrPower&&isNew&&isFetchingAccountInfo===_stateConstants.FETCH_OBJECT_STATE.READY&&isFetchingInput===_stateConstants.FETCH_OBJECT_STATE.READY&&isFetchingLogsInput===_stateConstants.FETCH_OBJECT_STATE.READY&&(onLoadCloudWatchRegions(initialName),onLoadAllCloudWatchInputs(),onLoadAllCloudWatchLogsInputs())}},{key:"componentDidUpdate",value:function(prevProps,prevState){var _props2=this.props,accountDeletionState=_props2.accountDeletionState,initialLogInputsInfo=_props2.initialLogInputsInfo,initialSelectedEntityTypes=_props2.initialSelectedEntityTypes,initialSelectedRegions=_props2.initialSelectedRegions,inputModifyState=_props2.inputModifyState;(inputModifyState===_stateConstants.INPUT_MODIFY.SUCCESS&&prevProps.inputModifyState===_stateConstants.INPUT_MODIFY.IN_PROGRESS||inputModifyState===_stateConstants.INPUT_MODIFY.READY&&prevProps.inputModifyState!==_stateConstants.INPUT_MODIFY.READY)&&this.setState({selectedEntityTypes:initialSelectedEntityTypes,selectedRegions:initialSelectedRegions,isCloudwatchInputAccountInfoInconsistent:!1}),!(0,_isEqual2.default)(initialLogInputsInfo,prevProps.initialLogInputsInfo)&&this.setState({logInputsInfo:initialLogInputsInfo,useCloudWatchLogs:0<initialLogInputsInfo.length,isCloudwatchLogsAccountInfoInconsistent:!1}),accountDeletionState===_stateConstants.DELETE_OBJECT_STATE.SUCCESS&&prevProps.accountDeletionState===_stateConstants.DELETE_OBJECT_STATE.IN_PROGRESS&&this.setState({useCloudWatchLogs:!1,selectedEntityTypes:[]}),this.state.isCloudwatchInputAccountInfoInconsistent||prevState.isCloudwatchInputAccountInfoInconsistent===this.state.isCloudwatchInputAccountInfoInconsistent||this.syncCloudwatchInputAccountInfo(),this.state.isCloudwatchLogsAccountInfoInconsistent||prevState.isCloudwatchLogsAccountInfoInconsistent===this.state.isCloudwatchLogsAccountInfoInconsistent||this.syncCloudwatchLogsAccountInfo()}},{key:"updateCloudwatchLogsInput",value:function(account,useCloudWatchLogs,prevInputs,newInputs){account&&this.props.onBulkEditCloudWatchLogsInput({account:account,useCloudWatchLogs:useCloudWatchLogs,prevInputs:prevInputs,newInputs:newInputs})}},{key:"render",value:function(){var _state=this.state,isCloudwatchInputAccountInfoInconsistent=_state.isCloudwatchInputAccountInfoInconsistent,isCloudwatchLogsAccountInfoInconsistent=_state.isCloudwatchLogsAccountInfoInconsistent,logInputsInfo=_state.logInputsInfo,selectedEntityTypes=_state.selectedEntityTypes,selectedRegions=_state.selectedRegions,useCloudWatchLogs=_state.useCloudWatchLogs,_props3=this.props,allRegions=_props3.allRegions,cloudWatchLogsInputBulkEditState=_props3.cloudWatchLogsInputBulkEditState,cloudWatchLogsInputModifyResult=_props3.cloudWatchLogsInputModifyResult,inputModifyState=_props3.inputModifyState,isFetchingInput=_props3.isFetchingInput,isFetchingLogsInput=_props3.isFetchingLogsInput,isFetchingRegions=_props3.isFetchingRegions;return _react2.default.createElement(_AwsDataForm2.default,{allRegions:allRegions,cloudWatchLogsInputBulkEditState:cloudWatchLogsInputBulkEditState,cloudWatchLogsInputModifyResult:cloudWatchLogsInputModifyResult,inputModifyState:inputModifyState,isCloudwatchInputAccountInfoInconsistent:isCloudwatchInputAccountInfoInconsistent,isCloudwatchLogsAccountInfoInconsistent:isCloudwatchLogsAccountInfoInconsistent,isFetchingInput:isFetchingInput,isFetchingLogsInput:isFetchingLogsInput,isFetchingRegions:isFetchingRegions,isNewAccount:this.isNewAccount(),isNewInput:this.isNewInput(),isNewLogInput:this.isNewLogInput(),logInputsInfo:logInputsInfo,onAddCloudWatchLogsInput:this.onAddCloudWatchLogsInput,onEnableCloudWatchLogs:this.onEnableCloudWatchLogs,onRemoveCloudWatchLogsInput:this.onRemoveCloudWatchLogsInput,onSubmitCloudWatchInputForm:this.onSubmitCloudWatchInputForm,onSubmitCloudWatchLogsInputForm:this.onSubmitCloudWatchLogsInputForm,onUpdateCloudWatchLogsInputGroupField:this.onUpdateCloudWatchLogsInputGroupField,onUpdateCloudWatchLogsInputRegionSelection:this.onUpdateCloudWatchLogsInputRegionSelection,onUpdateSelectedEntityTypes:this.onUpdateSelectedEntityTypes,onUpdateSelectedRegions:this.onUpdateSelectedRegions,selectedEntityTypes:selectedEntityTypes,selectedRegions:selectedRegions,useCloudWatchLogs:useCloudWatchLogs})}}]),AwsDataFormContainer}(_react.Component),_class.propTypes=(0,_extends3.default)({},_AwsDataForm2.default.propTypes),_class.defaultProps=(0,_extends3.default)({},_AwsDataForm2.default.defaultProps),_initialiseProps=function(){var _this2=this;this.cloudwatchInputCall=function(inputAccountName,accountName,regions,entityTypes,createOrUpdateFunc){var isSync=5<arguments.length&&void 0!==arguments[5]&&arguments[5];inputAccountName&&accountName&&(!isSync||0<=regions.length&&entityTypes.length)&&"function"==typeof createOrUpdateFunc&&createOrUpdateFunc(inputAccountName,accountName,regions.join(","),entityTypes.map(function(type){return"AWS/"+type}))},this.isCloudwatchFetchReady=function(inputFetchStatus,accountInfoFetchStatus,logsInputFetchStatus){return inputFetchStatus===_stateConstants.FETCH_OBJECT_STATE.SUCCESS&&accountInfoFetchStatus===_stateConstants.FETCH_OBJECT_STATE.SUCCESS&&logsInputFetchStatus===_stateConstants.FETCH_OBJECT_STATE.SUCCESS},this.isNewAccount=function(){return""===_this2.props.initialName},this.isNewInput=function(){return""===_this2.props.initialInputName},this.isNewLogInput=function(){return 0===_this2.props.initialLogInputsInfo.length},this.onAddCloudWatchLogsInput=function(){var logInputsInfo=_this2.state.logInputsInfo,lastForm=logInputsInfo[logInputsInfo.length-1],lastFormFilled=void 0!==lastForm&&void 0!==lastForm.region&&void 0!==lastForm.group;(0===logInputsInfo.length||lastFormFilled)&&_this2.setState({logInputsInfo:[].concat((0,_toConsumableArray3.default)(logInputsInfo),[{name:"cloudwatch-log-input-"+Date.now()}])})},this.onEnableCloudWatchLogs=function(){_this2.setState({useCloudWatchLogs:!_this2.state.useCloudWatchLogs}),_this2.onAddCloudWatchLogsInput()},this.onRemoveCloudWatchLogsInput=function(index){var logInputsInfo=(0,_cloneDeep2.default)(_this2.state.logInputsInfo);logInputsInfo.splice(index,1),_this2.setState({logInputsInfo:logInputsInfo})},this.onSubmitCloudWatchInputForm=function(){var _state2=_this2.state,selectedEntityTypes=_state2.selectedEntityTypes,selectedRegions=_state2.selectedRegions,_props4=_this2.props,initialName=_props4.initialName,onCreateCloudWatchInput=_props4.onCreateCloudWatchInput,onUpdateCloudWatchInput=_props4.onUpdateCloudWatchInput,createOrUpdate=_this2.isNewInput()?onCreateCloudWatchInput:onUpdateCloudWatchInput;_this2.cloudwatchInputCall(_constants.CLOUDWATCH_INPUT_NAME,initialName,selectedRegions,selectedEntityTypes,createOrUpdate)},this.onSubmitCloudWatchLogsInputForm=function(){var _state3=_this2.state,logInputsInfo=_state3.logInputsInfo,useCloudWatchLogs=_state3.useCloudWatchLogs,_props5=_this2.props,initialLogInputsInfo=_props5.initialLogInputsInfo,initialName=_props5.initialName;_this2.updateCloudwatchLogsInput(initialName,useCloudWatchLogs,initialLogInputsInfo,logInputsInfo)},this.onUpdateCloudWatchLogsInputGroupField=function(index,groupName){var logInputsInfo=(0,_cloneDeep2.default)(_this2.state.logInputsInfo);logInputsInfo[index].group=groupName,_this2.setState({logInputsInfo:logInputsInfo})},this.onUpdateCloudWatchLogsInputRegionSelection=function(index,region){var logInputsInfo=(0,_cloneDeep2.default)(_this2.state.logInputsInfo);logInputsInfo[index].region=region,_this2.setState({logInputsInfo:logInputsInfo})},this.onUpdateSelectedEntityTypes=function(entityType){var prevValues=_this2.state.selectedEntityTypes;prevValues.includes(entityType)?_this2.setState({selectedEntityTypes:prevValues.filter(function(v){return v!==entityType})}):_this2.setState({selectedEntityTypes:prevValues.concat(entityType)})},this.onUpdateSelectedRegions=function(selectedRegions){_this2.setState({selectedRegions:selectedRegions})},this.syncCloudwatchInputAccountInfo=function(){var _props6=_this2.props,initialInputName=_props6.initialInputName,initialName=_props6.initialName,initialSelectedEntityTypes=_props6.initialSelectedEntityTypes,initialSelectedRegions=_props6.initialSelectedRegions,inputAccountName=_props6.inputAccountName,isFetchingAccountInfo=_props6.isFetchingAccountInfo,isFetchingInput=_props6.isFetchingInput,isFetchingLogsInput=_props6.isFetchingLogsInput;_this2.isCloudwatchFetchReady(isFetchingInput,isFetchingAccountInfo,isFetchingLogsInput)&&inputAccountName&&""!==initialName&&initialName!==inputAccountName&&(_this2.setState({isCloudwatchInputAccountInfoInconsistent:!0}),_this2.cloudwatchInputCall(initialInputName,initialName,initialSelectedRegions,initialSelectedEntityTypes,_this2.props.onUpdateCloudWatchInput,!0))},this.syncCloudwatchLogsAccountInfo=function(){var _state4=_this2.state,logInputsInfo=_state4.logInputsInfo,useCloudWatchLogs=_state4.useCloudWatchLogs,_props7=_this2.props,cloudwatchLogsAccountName=_props7.cloudwatchLogsAccountName,initialLogInputsInfo=_props7.initialLogInputsInfo,initialName=_props7.initialName,isFetchingAccountInfo=_props7.isFetchingAccountInfo,isFetchingInput=_props7.isFetchingInput,isFetchingLogsInput=_props7.isFetchingLogsInput;_this2.isCloudwatchFetchReady(isFetchingInput,isFetchingAccountInfo,isFetchingLogsInput)&&""!==initialName&&cloudwatchLogsAccountName&&initialName!==cloudwatchLogsAccountName&&(_this2.setState({isCloudwatchLogsAccountInfoInconsistent:!0}),_this2.updateCloudwatchLogsInput(initialName,useCloudWatchLogs,initialLogInputsInfo,logInputsInfo))}},_temp);exports.default=(0,_reactRedux.connect)(function(state){return{accountDeletionState:state.awsConfigurationReducer.accountDeletionState,allRegions:state.awsConfigurationReducer.allRegions,cloudwatchLogsAccountName:state.awsConfigurationReducer.cloudwatchLogsAccountName,cloudWatchLogsInputBulkEditState:state.awsConfigurationReducer.cloudWatchLogsInputBulkEditState,cloudWatchLogsInputModifyResult:state.awsConfigurationReducer.cloudWatchLogsInputModifyResult,isAdminOrPower:state.userRolesReducer.isAdminOrPower,initialInputName:state.awsConfigurationReducer.initialInputName,initialLogInputsInfo:state.awsConfigurationReducer.initialLogInputsInfo,initialName:state.awsConfigurationReducer.initialName,initialSelectedEntityTypes:state.awsConfigurationReducer.initialSelectedEntityTypes,initialSelectedRegions:state.awsConfigurationReducer.initialSelectedRegions,inputAccountName:state.awsConfigurationReducer.inputAccountName,inputModifyState:state.awsConfigurationReducer.inputModifyState,isFetchingAccountInfo:state.awsConfigurationReducer.isFetchingAccountInfo,isFetchingInput:state.awsConfigurationReducer.isFetchingInput,isFetchingLogsInput:state.awsConfigurationReducer.isFetchingLogsInput,isFetchingRegions:state.awsConfigurationReducer.isFetchingRegions}},function(dispatch){return(0,_redux.bindActionCreators)({onBulkEditCloudWatchLogsInput:_actions.bulkEditCloudWatchLogsInput,onCreateCloudWatchInput:_actions.createCloudWatchInput,onLoadAllCloudWatchInputs:_actions.loadAllCloudWatchInputs,onLoadAllCloudWatchLogsInputs:_actions.loadAllCloudWatchLogsInputs,onLoadCloudWatchRegions:_actions.loadCloudWatchRegions,onUpdateCloudWatchInput:_actions.updateCloudWatchInput},dispatch)})(AwsDataFormContainer),module.exports=exports.default},2001:function(module,exports,__webpack_require__){var baseClone=__webpack_require__(2002);module.exports=function(value){return baseClone(value,5)}},2002:function(module,exports,__webpack_require__){var Stack=__webpack_require__(575),arrayEach=__webpack_require__(2003),assignValue=__webpack_require__(555),baseAssign=__webpack_require__(2004),baseAssignIn=__webpack_require__(2005),cloneBuffer=__webpack_require__(2008),copyArray=__webpack_require__(2009),copySymbols=__webpack_require__(2010),copySymbolsIn=__webpack_require__(2011),getAllKeys=__webpack_require__(895),getAllKeysIn=__webpack_require__(2012),getTag=__webpack_require__(288),initCloneArray=__webpack_require__(2013),initCloneByTag=__webpack_require__(2014),initCloneObject=__webpack_require__(2019),isArray=__webpack_require__(102),isBuffer=__webpack_require__(400),isMap=__webpack_require__(2021),isObject=__webpack_require__(195),isSet=__webpack_require__(2023),keys=__webpack_require__(286),CLONE_DEEP_FLAG=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG=4,argsTag="[object Arguments]",funcTag="[object Function]",genTag="[object GeneratorFunction]",objectTag="[object Object]",cloneableTags={};cloneableTags[argsTag]=cloneableTags["[object Array]"]=cloneableTags["[object ArrayBuffer]"]=cloneableTags["[object DataView]"]=cloneableTags["[object Boolean]"]=cloneableTags["[object Date]"]=cloneableTags["[object Float32Array]"]=cloneableTags["[object Float64Array]"]=cloneableTags["[object Int8Array]"]=cloneableTags["[object Int16Array]"]=cloneableTags["[object Int32Array]"]=cloneableTags["[object Map]"]=cloneableTags["[object Number]"]=cloneableTags[objectTag]=cloneableTags["[object RegExp]"]=cloneableTags["[object Set]"]=cloneableTags["[object String]"]=cloneableTags["[object Symbol]"]=cloneableTags["[object Uint8Array]"]=cloneableTags["[object Uint8ClampedArray]"]=cloneableTags["[object Uint16Array]"]=cloneableTags["[object Uint32Array]"]=!0,cloneableTags["[object Error]"]=cloneableTags[funcTag]=cloneableTags["[object WeakMap]"]=!1,module.exports=function baseClone(value,bitmask,customizer,key,object,stack){var result,isDeep=bitmask&CLONE_DEEP_FLAG,isFlat=bitmask&CLONE_FLAT_FLAG,isFull=bitmask&CLONE_SYMBOLS_FLAG;if(customizer&&(result=object?customizer(value,key,object,stack):customizer(value)),void 0!==result)return result;if(!isObject(value))return value;var isArr=isArray(value);if(isArr){if(result=initCloneArray(value),!isDeep)return copyArray(value,result)}else{var tag=getTag(value),isFunc=tag==funcTag||tag==genTag;if(isBuffer(value))return cloneBuffer(value,isDeep);if(tag==objectTag||tag==argsTag||isFunc&&!object){if(result=isFlat||isFunc?{}:initCloneObject(value),!isDeep)return isFlat?copySymbolsIn(value,baseAssignIn(result,value)):copySymbols(value,baseAssign(result,value))}else{if(!cloneableTags[tag])return object?value:{};result=initCloneByTag(value,tag,isDeep)}}stack||(stack=new Stack);var stacked=stack.get(value);if(stacked)return stacked;if(stack.set(value,result),isSet(value))return value.forEach(function(subValue){result.add(baseClone(subValue,bitmask,customizer,subValue,value,stack))}),result;if(isMap(value))return value.forEach(function(subValue,key){result.set(key,baseClone(subValue,bitmask,customizer,key,value,stack))}),result;var keysFunc=isFull?isFlat?getAllKeysIn:getAllKeys:isFlat?keysIn:keys,props=isArr?void 0:keysFunc(value);return arrayEach(props||value,function(subValue,key){props&&(subValue=value[key=subValue]),assignValue(result,key,baseClone(subValue,bitmask,customizer,key,value,stack))}),result}},2003:function(module,exports){module.exports=function(array,iteratee){for(var index=-1,length=null==array?0:array.length;++index<length&&!1!==iteratee(array[index],index,array););return array}},2004:function(module,exports,__webpack_require__){var copyObject=__webpack_require__(411),keys=__webpack_require__(286);module.exports=function(object,source){return object&&copyObject(source,keys(source),object)}},2005:function(module,exports,__webpack_require__){var copyObject=__webpack_require__(411),keysIn=__webpack_require__(921);module.exports=function(object,source){return object&&copyObject(source,keysIn(source),object)}},2006:function(module,exports,__webpack_require__){var isObject=__webpack_require__(195),isPrototype=__webpack_require__(402),nativeKeysIn=__webpack_require__(2007),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(object){if(!isObject(object))return nativeKeysIn(object);var isProto=isPrototype(object),result=[];for(var key in object)("constructor"!=key||!isProto&&hasOwnProperty.call(object,key))&&result.push(key);return result}},2007:function(module,exports){module.exports=function(object){var result=[];if(null!=object)for(var key in Object(object))result.push(key);return result}},2008:function(module,exports,__webpack_require__){(function(module){var root=__webpack_require__(141),freeExports=exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,Buffer=freeModule&&freeModule.exports===freeExports?root.Buffer:void 0,allocUnsafe=Buffer?Buffer.allocUnsafe:void 0;module.exports=function(buffer,isDeep){if(isDeep)return buffer.slice();var length=buffer.length,result=allocUnsafe?allocUnsafe(length):new buffer.constructor(length);return buffer.copy(result),result}}).call(this,__webpack_require__(147)(module))},2009:function(module,exports){module.exports=function(source,array){var index=-1,length=source.length;for(array||(array=Array(length));++index<length;)array[index]=source[index];return array}},2010:function(module,exports,__webpack_require__){var copyObject=__webpack_require__(411),getSymbols=__webpack_require__(577);module.exports=function(source,object){return copyObject(source,getSymbols(source),object)}},2011:function(module,exports,__webpack_require__){var copyObject=__webpack_require__(411),getSymbolsIn=__webpack_require__(922);module.exports=function(source,object){return copyObject(source,getSymbolsIn(source),object)}},2012:function(module,exports,__webpack_require__){var baseGetAllKeys=__webpack_require__(896),getSymbolsIn=__webpack_require__(922),keysIn=__webpack_require__(921);module.exports=function(object){return baseGetAllKeys(object,keysIn,getSymbolsIn)}},2013:function(module,exports){var hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(array){var length=array.length,result=new array.constructor(length);return length&&"string"==typeof array[0]&&hasOwnProperty.call(array,"index")&&(result.index=array.index,result.input=array.input),result}},2014:function(module,exports,__webpack_require__){var cloneArrayBuffer=__webpack_require__(586),cloneDataView=__webpack_require__(2015),cloneRegExp=__webpack_require__(2016),cloneSymbol=__webpack_require__(2017),cloneTypedArray=__webpack_require__(2018);module.exports=function(object,tag,isDeep){var Ctor=object.constructor;switch(tag){case"[object ArrayBuffer]":return cloneArrayBuffer(object);case"[object Boolean]":case"[object Date]":return new Ctor(+object);case"[object DataView]":return cloneDataView(object,isDeep);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return cloneTypedArray(object,isDeep);case"[object Map]":return new Ctor;case"[object Number]":case"[object String]":return new Ctor(object);case"[object RegExp]":return cloneRegExp(object);case"[object Set]":return new Ctor;case"[object Symbol]":return cloneSymbol(object)}}},2015:function(module,exports,__webpack_require__){var cloneArrayBuffer=__webpack_require__(586);module.exports=function(dataView,isDeep){var buffer=isDeep?cloneArrayBuffer(dataView.buffer):dataView.buffer;return new dataView.constructor(buffer,dataView.byteOffset,dataView.byteLength)}},2016:function(module,exports){var reFlags=/\w*$/;module.exports=function(regexp){var result=new regexp.constructor(regexp.source,reFlags.exec(regexp));return result.lastIndex=regexp.lastIndex,result}},2017:function(module,exports,__webpack_require__){var Symbol=__webpack_require__(230),symbolProto=Symbol?Symbol.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;module.exports=function(symbol){return symbolValueOf?Object(symbolValueOf.call(symbol)):{}}},2018:function(module,exports,__webpack_require__){var cloneArrayBuffer=__webpack_require__(586);module.exports=function(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}},2019:function(module,exports,__webpack_require__){var baseCreate=__webpack_require__(2020),getPrototype=__webpack_require__(923),isPrototype=__webpack_require__(402);module.exports=function(object){return"function"!=typeof object.constructor||isPrototype(object)?{}:baseCreate(getPrototype(object))}},202:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CustomListItem=exports.default=void 0;var _CustomList2=_interopRequireDefault(__webpack_require__(1990)),_CustomListItem2=_interopRequireDefault(__webpack_require__(917));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default=_CustomList2.default,exports.CustomListItem=_CustomListItem2.default},2020:function(module,exports,__webpack_require__){var isObject=__webpack_require__(195),objectCreate=Object.create,baseCreate=function(){function object(){}return function(proto){if(!isObject(proto))return{};if(objectCreate)return objectCreate(proto);object.prototype=proto;var result=new object;return object.prototype=void 0,result}}();module.exports=baseCreate},2021:function(module,exports,__webpack_require__){var baseIsMap=__webpack_require__(2022),baseUnary=__webpack_require__(401),nodeUtil=__webpack_require__(574),nodeIsMap=nodeUtil&&nodeUtil.isMap,isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap;module.exports=isMap},2022:function(module,exports,__webpack_require__){var getTag=__webpack_require__(288),isObjectLike=__webpack_require__(165);module.exports=function(value){return isObjectLike(value)&&"[object Map]"==getTag(value)}},2023:function(module,exports,__webpack_require__){var baseIsSet=__webpack_require__(2024),baseUnary=__webpack_require__(401),nodeUtil=__webpack_require__(574),nodeIsSet=nodeUtil&&nodeUtil.isSet,isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet;module.exports=isSet},2024:function(module,exports,__webpack_require__){var getTag=__webpack_require__(288),isObjectLike=__webpack_require__(165);module.exports=function(value){return isObjectLike(value)&&"[object Set]"==getTag(value)}},2025:function(module,exports,__webpack_require__){var baseIsEqual=__webpack_require__(576);module.exports=function(value,other){return baseIsEqual(value,other)}},2026:function(module,exports,__webpack_require__){"use strict";(function(__filename){Object.defineProperty(exports,"__esModule",{value:!0});var _values2=_interopRequireDefault(__webpack_require__(56)),_templateObject=(0,_interopRequireDefault(__webpack_require__(44)).default)(["\n  padding: 10px;\n"],["\n  padding: 10px;\n"]),_react2=_interopRequireDefault(__webpack_require__(0)),_propTypes2=_interopRequireDefault(__webpack_require__(1)),_styledComponents2=_interopRequireDefault(__webpack_require__(7)),_filter2=_interopRequireDefault(__webpack_require__(587)),_i18n=__webpack_require__(2),_Button2=_interopRequireDefault(__webpack_require__(32)),_ControlGroup2=_interopRequireDefault(__webpack_require__(64)),_FormRows2=_interopRequireDefault(__webpack_require__(924)),_Message2=_interopRequireDefault(__webpack_require__(90)),_Multiselect2=_interopRequireDefault(__webpack_require__(232)),_Paragraph2=_interopRequireDefault(__webpack_require__(40)),_Select2=_interopRequireDefault(__webpack_require__(231)),_Switch2=_interopRequireDefault(__webpack_require__(78)),_Text2=_interopRequireDefault(__webpack_require__(68)),_FormattedWaitSpinner2=_interopRequireDefault(__webpack_require__(227)),_stateConstants=__webpack_require__(15),_testSupportUtils=__webpack_require__(27);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var StyledSpinnerWrapper=_styledComponents2.default.div(_templateObject),styles={disabledSection:{pointerEvents:"none",opacity:.5},title:{fontSize:14,fontWeight:600},message:{marginLeft:"135px",marginBottom:"0px"},switch:{width:45}},AwsDataForm=function(_ref){var allRegions=_ref.allRegions,cloudWatchLogsInputBulkEditState=_ref.cloudWatchLogsInputBulkEditState,cloudWatchLogsInputModifyResult=_ref.cloudWatchLogsInputModifyResult,inputModifyState=_ref.inputModifyState,isCloudwatchInputAccountInfoInconsistent=_ref.isCloudwatchInputAccountInfoInconsistent,isCloudwatchLogsAccountInfoInconsistent=_ref.isCloudwatchLogsAccountInfoInconsistent,isFetchingInput=_ref.isFetchingInput,isFetchingLogsInput=_ref.isFetchingLogsInput,isFetchingRegions=_ref.isFetchingRegions,isNewAccount=_ref.isNewAccount,isNewInput=_ref.isNewInput,isNewLogInput=_ref.isNewLogInput,logInputsInfo=_ref.logInputsInfo,onAddCloudWatchLogsInput=_ref.onAddCloudWatchLogsInput,onEnableCloudWatchLogs=_ref.onEnableCloudWatchLogs,onRemoveCloudWatchLogsInput=_ref.onRemoveCloudWatchLogsInput,onSubmitCloudWatchInputForm=_ref.onSubmitCloudWatchInputForm,onSubmitCloudWatchLogsInputForm=_ref.onSubmitCloudWatchLogsInputForm,onUpdateCloudWatchLogsInputGroupField=_ref.onUpdateCloudWatchLogsInputGroupField,onUpdateCloudWatchLogsInputRegionSelection=_ref.onUpdateCloudWatchLogsInputRegionSelection,onUpdateSelectedEntityTypes=_ref.onUpdateSelectedEntityTypes,onUpdateSelectedRegions=_ref.onUpdateSelectedRegions,selectedEntityTypes=_ref.selectedEntityTypes,selectedRegions=_ref.selectedRegions,useCloudWatchLogs=_ref.useCloudWatchLogs,isModifyingInput=inputModifyState===_stateConstants.INPUT_MODIFY.IN_PROGRESS||cloudWatchLogsInputBulkEditState===_stateConstants.BULK_EDIT_STATE.IN_PROGRESS,isNewDataSource=isNewInput&&isNewLogInput,hasFetchedData=isFetchingInput===_stateConstants.FETCH_OBJECT_STATE.SUCCESS&&isFetchingLogsInput===_stateConstants.FETCH_OBJECT_STATE.SUCCESS,awsDataSourceButtonLabel=void 0;return awsDataSourceButtonLabel=isNewDataSource?(0,_i18n._)("Add AWS data source"):0!==selectedEntityTypes.length||useCloudWatchLogs?(0,_i18n._)("Update AWS data source"):(0,_i18n._)("Delete AWS data source"),_react2.default.createElement("div",(0,_testSupportUtils.createTestHook)(__filename,name),_react2.default.createElement(_Paragraph2.default,{style:styles.title},(0,_i18n._)("Collect data from")),hasFetchedData?_react2.default.createElement("div",{style:isNewAccount?styles.disabledSection:{width:"100%"}},_react2.default.createElement(_ControlGroup2.default,{label:(0,_i18n._)("AWS Entity Types"),controlsLayout:"none"},["EC2","EBS","ELB"].map(function(option){return _react2.default.createElement(_Switch2.default,{key:option,value:option,selected:selectedEntityTypes.includes(option),onClick:function(e,_ref2){var value=_ref2.value;return onUpdateSelectedEntityTypes(value)},style:styles.switch},option)})),_react2.default.createElement(_ControlGroup2.default,{label:(0,_i18n._)("AWS Regions"),controlsLayout:"none"},_react2.default.createElement(_Multiselect2.default,{values:selectedRegions,onChange:function(e,_ref3){var values=_ref3.values;return onUpdateSelectedRegions(values)},isLoadingOptions:isFetchingRegions},allRegions.map(function(region){return _react2.default.createElement(_Multiselect2.default.Option,{key:region.name,label:region.label,value:region.name})}))),_react2.default.createElement(_ControlGroup2.default,{label:(0,_i18n._)("CloudWatch Logs"),controlsLayout:"none",help:_react2.default.createElement("span",null,(0,_i18n._)("When setting up CloudWatch Logs agent configuration in AWS, edit the log stream name (log_stream_name) with a unique name (instance_id) for each log group within the configuration file. This defines the log stream’s identity for correlation of logs to individual instances and metric data."))},_react2.default.createElement(_Switch2.default,{key:"cloudwatch-logs",value:(0,_i18n._)("Yes"),selected:useCloudWatchLogs,onClick:onEnableCloudWatchLogs,style:styles.switch},(0,_i18n._)("Yes")),useCloudWatchLogs&&_react2.default.createElement(_FormRows2.default,{addLabel:"Add",style:{width:"100%"},onRequestAdd:onAddCloudWatchLogsInput},logInputsInfo.map(function(info,idx){var name=info.name,selectedRegion=info.region,group=info.group;return _react2.default.createElement(_FormRows2.default.Row,{index:idx,key:name,onRequestRemove:function(e,_ref4){var index=_ref4.index;return onRemoveCloudWatchLogsInput(index)}},_react2.default.createElement(_Select2.default,{value:selectedRegion,onChange:function(e,_ref5){var value=_ref5.value,fieldIndex=_ref5.name,index=parseInt(fieldIndex,10);onUpdateCloudWatchLogsInputRegionSelection(index,value)},style:styles.switch,name:""+idx},allRegions.map(function(region){return _react2.default.createElement(_Select2.default.Option,{key:region.name,label:region.label,value:region.name})})),_react2.default.createElement(_Text2.default,{placeholder:(0,_i18n._)("Log Group Name"),value:void 0===group?"":group,name:""+idx,onChange:function(e,_ref6){var value=_ref6.value,fieldIndex=_ref6.name,index=parseInt(fieldIndex,10);onUpdateCloudWatchLogsInputGroupField(index,value)},inline:!0,style:{width:"50%"}}))}))),_react2.default.createElement(_Button2.default,{label:awsDataSourceButtonLabel,onClick:function(){onSubmitCloudWatchInputForm(),onSubmitCloudWatchLogsInputForm()},disabled:isModifyingInput||isNewDataSource&&0===selectedEntityTypes.length&&!useCloudWatchLogs,style:{marginLeft:"135px"},"data-test":"modify-aws-input-btn"}),function(cloudWatchLogsInputBulkEditState,cloudWatchLogsInputModifyResult,inputModifyState,isCloudwatchInputAccountInfoInconsistent,isCloudwatchLogsAccountInfoInconsistent,isNewAccount,isNewInput,isNewLogInput){var isNewDataSource=isNewInput&&isNewLogInput;if(inputModifyState===_stateConstants.INPUT_MODIFY.IN_PROGRESS||cloudWatchLogsInputBulkEditState===_stateConstants.BULK_EDIT_STATE.IN_PROGRESS){var message=isCloudwatchInputAccountInfoInconsistent||isCloudwatchLogsAccountInfoInconsistent?(0,_i18n._)("Inconsistency detected in account info. Attempting to update AWS data source."):(0,_i18n._)("Setting up AWS data collection - this could take up to 2 minutes");return _react2.default.createElement(_FormattedWaitSpinner2.default,{message:message})}var failedLogInputs=(0,_filter2.default)(cloudWatchLogsInputModifyResult,function(input){return input.status.includes("FAILURE")});return 0<failedLogInputs.length||inputModifyState===_stateConstants.INPUT_MODIFY.ERROR?_react2.default.createElement(_Message2.default,{type:"error",style:styles.message,"data-test":"input-error-message"},isNewDataSource?(0,_i18n._)("Error: Could not create input."):(0,_i18n._)("Error: Could not update input.")):0!==failedLogInputs.length||inputModifyState!==_stateConstants.INPUT_MODIFY.SUCCESS||isNewAccount?null:_react2.default.createElement(_Message2.default,{type:"success",style:styles.message,"data-test":"input-success-message"},(0,_i18n._)("Success"))}(cloudWatchLogsInputBulkEditState,cloudWatchLogsInputModifyResult,inputModifyState,isCloudwatchInputAccountInfoInconsistent,isCloudwatchLogsAccountInfoInconsistent,isNewAccount,isNewInput,isNewLogInput)):_react2.default.createElement(StyledSpinnerWrapper,null,_react2.default.createElement(_FormattedWaitSpinner2.default,{message:(0,_i18n._)("Loading AWS Data Source Options")})))};AwsDataForm.propTypes={allRegions:_propTypes2.default.array,cloudWatchLogsInputBulkEditState:_propTypes2.default.oneOf((0,_values2.default)(_stateConstants.BULK_EDIT_STATE)),cloudWatchLogsInputModifyResult:_propTypes2.default.object,inputModifyState:_propTypes2.default.oneOf((0,_values2.default)(_stateConstants.INPUT_MODIFY)),isCloudwatchInputAccountInfoInconsistent:_propTypes2.default.bool,isCloudwatchLogsAccountInfoInconsistent:_propTypes2.default.bool,isFetchingInput:_propTypes2.default.oneOf((0,_values2.default)(_stateConstants.FETCH_OBJECT_STATE)),isFetchingLogsInput:_propTypes2.default.oneOf((0,_values2.default)(_stateConstants.FETCH_OBJECT_STATE)),isFetchingRegions:_propTypes2.default.bool,isNewAccount:_propTypes2.default.bool,isNewInput:_propTypes2.default.bool,isNewLogInput:_propTypes2.default.bool,logInputsInfo:_propTypes2.default.array,onAddCloudWatchLogsInput:_propTypes2.default.func,onEnableCloudWatchLogs:_propTypes2.default.func,onRemoveCloudWatchLogsInput:_propTypes2.default.func,onSubmitCloudWatchInputForm:_propTypes2.default.func,onSubmitCloudWatchLogsInputForm:_propTypes2.default.func,onUpdateCloudWatchLogsInputGroupField:_propTypes2.default.func,onUpdateCloudWatchLogsInputRegionSelection:_propTypes2.default.func,onUpdateSelectedEntityTypes:_propTypes2.default.func,onUpdateSelectedRegions:_propTypes2.default.func,selectedEntityTypes:_propTypes2.default.array,selectedRegions:_propTypes2.default.array,useCloudWatchLogs:_propTypes2.default.bool},AwsDataForm.defaultProps={allRegions:[],cloudWatchLogsInputBulkEditState:_stateConstants.BULK_EDIT_STATE.READY,cloudWatchLogsInputModifyResult:{},inputModifyState:_stateConstants.INPUT_MODIFY.READY,isCloudwatchInputAccountInfoInconsistent:!1,isCloudwatchLogsAccountInfoInconsistent:!1,isFetchingInput:_stateConstants.FETCH_OBJECT_STATE.READY,isFetchingLogsInput:_stateConstants.FETCH_OBJECT_STATE.READY,isFetchingRegions:!1,isNewAccount:!0,isNewInput:!0,isNewLogInput:!0,logInputsInfo:[],onAddCloudWatchLogsInput:null,onEnableCloudWatchLogs:null,onRemoveCloudWatchLogsInput:null,onSubmitCloudWatchInputForm:null,onSubmitCloudWatchLogsInputForm:null,onUpdateCloudWatchLogsInputGroupField:null,onUpdateCloudWatchLogsInputRegionSelection:null,onUpdateSelectedEntityTypes:null,onUpdateSelectedRegions:null,selectedEntityTypes:[],selectedRegions:[],useCloudWatchLogs:!1},exports.default=AwsDataForm,module.exports=exports.default}).call(this,"src/main/webapp/configure/aws/components/AwsDataForm.js")},2027:function(module,exports,__webpack_require__){var baseEach=__webpack_require__(886);module.exports=function(collection,predicate){var result=[];return baseEach(collection,function(value,index,collection){predicate(value,index,collection)&&result.push(value)}),result}},2081:function(module,exports,__webpack_require__){
/*!
 * Copyright © 2018 Splunk Inc.
 * SPLUNK CONFIDENTIAL – Use or disclosure of this material in whole or in part
 * without a valid written license from Splunk Inc. is PROHIBITED.
 */
module.exports=function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=121)}({0:function(module,exports){module.exports=__webpack_require__(0)},1:function(module,exports){module.exports=__webpack_require__(2)},121:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"default",function(){return Plus});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_splunk_ui_utils_i18n__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_splunk_react_icons_SVG__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),_splunk_react_icons_SVG__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_splunk_react_icons_SVG__WEBPACK_IMPORTED_MODULE_2__);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function Plus(props){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_splunk_react_icons_SVG__WEBPACK_IMPORTED_MODULE_2___default.a,_extends({screenReaderText:Object(_splunk_ui_utils_i18n__WEBPACK_IMPORTED_MODULE_1__._)("Plus")},props),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path",{d:"M843.943 655.03L1500 656.058V844.97H843.943V1500H655.03V844.97L0 843.942V655.03h655.03V0h188.913"}))}},2:function(module,exports){module.exports=__webpack_require__(72)}})},2082:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _class,_temp2,_extends3=_interopRequireDefault(__webpack_require__(6)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(14)),_classCallCheck3=_interopRequireDefault(__webpack_require__(9)),_createClass3=_interopRequireDefault(__webpack_require__(12)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(8)),_inherits3=_interopRequireDefault(__webpack_require__(11)),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_redux=__webpack_require__(25),_reactRedux=__webpack_require__(35),_stateConstants=__webpack_require__(15),_actions=__webpack_require__(235),_AwsIamForm2=_interopRequireDefault(__webpack_require__(2083));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var AwsIamFormContainer=(_temp2=_class=function(_Component){function AwsIamFormContainer(){var _ref,_temp,_this,_ret;(0,_classCallCheck3.default)(this,AwsIamFormContainer);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_temp=_this=(0,_possibleConstructorReturn3.default)(this,(_ref=AwsIamFormContainer.__proto__||(0,_getPrototypeOf2.default)(AwsIamFormContainer)).call.apply(_ref,[this].concat(args)))).isNewAccount=function(){return""===_this.props.initialName},_ret=_temp,(0,_possibleConstructorReturn3.default)(_this,_ret)}return(0,_inherits3.default)(AwsIamFormContainer,_Component),(0,_createClass3.default)(AwsIamFormContainer,[{key:"componentDidMount",value:function(){var _props=this.props,isAdminOrPower=_props.isAdminOrPower,fetchAccountStatus=_props.fetchAccountStatus,onLoadIamRole=_props.onLoadIamRole;isAdminOrPower&&this.isNewAccount()&&fetchAccountStatus===_stateConstants.FETCH_OBJECT_STATE.READY&&onLoadIamRole()}},{key:"render",value:function(){var _props2=this.props,initialName=_props2.initialName,fetchAccountStatus=_props2.fetchAccountStatus,onLoadIamRole=_props2.onLoadIamRole;return _react2.default.createElement(_AwsIamForm2.default,{onLoadIamRole:onLoadIamRole,fetchAccountStatus:fetchAccountStatus,name:initialName})}}]),AwsIamFormContainer}(_react.Component),_class.propTypes=(0,_extends3.default)({},_AwsIamForm2.default.propTypes),_class.defaultProps=(0,_extends3.default)({},_AwsIamForm2.default.defaultProps),_temp2);exports.default=(0,_reactRedux.connect)(function(state){return{fetchAccountStatus:state.awsConfigurationReducer.isFetchingAccountInfo,initialName:state.awsConfigurationReducer.initialName,isAdminOrPower:state.userRolesReducer.isAdminOrPower}},function(dispatch){return(0,_redux.bindActionCreators)({onLoadIamRole:_actions.loadAwsAccountInfo},dispatch)})(AwsIamFormContainer),module.exports=exports.default},2083:function(module,exports,__webpack_require__){"use strict";(function(__filename){Object.defineProperty(exports,"__esModule",{value:!0});var _values2=_interopRequireDefault(__webpack_require__(56)),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes2=_interopRequireDefault(__webpack_require__(1)),_i18n=__webpack_require__(2),_Button2=_interopRequireDefault(__webpack_require__(32)),_Paragraph2=_interopRequireDefault(__webpack_require__(40)),_Link2=_interopRequireDefault(__webpack_require__(57)),_Message2=_interopRequireDefault(__webpack_require__(90)),_RotateCounter2=_interopRequireDefault(__webpack_require__(918)),_FormattedWaitSpinner2=_interopRequireDefault(__webpack_require__(227)),_stateConstants=__webpack_require__(15),_testSupportUtils=__webpack_require__(27),_commonUtils=__webpack_require__(73);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var styles={title:{fontSize:14,fontWeight:600}},AwsIamForm=function(_ref){var fetchAccountStatus=_ref.fetchAccountStatus,onLoadIamRole=_ref.onLoadIamRole,name=_ref.name;return _react2.default.createElement("div",(0,_testSupportUtils.createTestHook)(__filename,name),_react2.default.createElement(_Paragraph2.default,{style:styles.title},(0,_i18n._)("Attach IAM role")),fetchAccountStatus===_stateConstants.FETCH_OBJECT_STATE.SUCCESS?_react2.default.createElement(_react.Fragment,null,_react2.default.createElement(_Paragraph2.default,null,(0,_i18n._)("To attach or modify IAM role, see instructions.")," ",_react2.default.createElement(_Link2.default,{to:(0,_commonUtils.getDocsURL)("Admin/AWSIAM"),openInNewContext:!0},(0,_i18n._)("Configure Identity and Access Management"))),_react2.default.createElement(_Message2.default,{type:name?"success":"warning"},_react2.default.createElement(_Paragraph2.default,null,(0,_i18n._)("Detected role: "),_react2.default.createElement("span",{style:{fontSize:14,fontWeight:600}},name||(0,_i18n._)("None")))),_react2.default.createElement(_Button2.default,{icon:_react2.default.createElement(_RotateCounter2.default,{screenReaderText:null,width:"12px",height:"12px"}),label:(0,_i18n._)("Verify IAM role attachment"),onClick:onLoadIamRole})):_react2.default.createElement("div",{style:{padding:"10px"}},_react2.default.createElement(_FormattedWaitSpinner2.default,{message:(0,_i18n._)("Loading IAM role Information")})))};AwsIamForm.propTypes={onLoadIamRole:_propTypes2.default.func.isRequired,fetchAccountStatus:_propTypes2.default.oneOf((0,_values2.default)(_stateConstants.FETCH_OBJECT_STATE)),name:_propTypes2.default.string},AwsIamForm.defaultProps={fetchAccountStatus:_stateConstants.FETCH_OBJECT_STATE.READY,name:""},exports.default=AwsIamForm,module.exports=exports.default}).call(this,"src/main/webapp/configure/aws/components/AwsIamForm.js")},2084:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends3=_interopRequireDefault(__webpack_require__(6)),_templateObject=(0,_interopRequireDefault(__webpack_require__(44)).default)(["\n margin-left: 26px;\n"],["\n margin-left: 26px;\n"]),_react2=_interopRequireDefault(__webpack_require__(0)),_styledComponents2=_interopRequireDefault(__webpack_require__(7)),_i18n=__webpack_require__(2),_CustomList2=_interopRequireDefault(__webpack_require__(202)),_AwsAccountFormContainer2=_interopRequireDefault(__webpack_require__(2085)),_DataCollectionConfiguratorContainer2=_interopRequireDefault(__webpack_require__(2088));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var StyledHeaderWrapper=_styledComponents2.default.div(_templateObject);exports.default=function AwsMultiCloudConfigurationContainer(){return AwsMultiCloudConfigurationContainer.propTypes=(0,_extends3.default)({},_AwsAccountFormContainer2.default.propTypes),AwsMultiCloudConfigurationContainer.defaultProps=(0,_extends3.default)({},_AwsAccountFormContainer2.default.defaultProps),_react2.default.createElement("div",null,_react2.default.createElement(StyledHeaderWrapper,null,(0,_i18n._)("Follow the instructions to integrate data from a single account of your AWS environment Do you want to integrate multiple accounts at once?")),_react2.default.createElement(_CustomList2.default,null,_react2.default.createElement(_CustomList2.default.Item,null,_react2.default.createElement(_AwsAccountFormContainer2.default,null)),_react2.default.createElement(_CustomList2.default.Item,null,_react2.default.createElement(_DataCollectionConfiguratorContainer2.default,null))))},module.exports=exports.default},2085:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _class,_temp2,_extends3=_interopRequireDefault(__webpack_require__(6)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(14)),_classCallCheck3=_interopRequireDefault(__webpack_require__(9)),_createClass3=_interopRequireDefault(__webpack_require__(12)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(8)),_inherits3=_interopRequireDefault(__webpack_require__(11)),_taggedTemplateLiteral3=_interopRequireDefault(__webpack_require__(44)),_templateObject=(0,_taggedTemplateLiteral3.default)(["\n  font-weight: 600;\n  padding: 5;\n"],["\n  font-weight: 600;\n  padding: 5;\n"]),_templateObject2=(0,_taggedTemplateLiteral3.default)(["\n  padding: 10;\n"],["\n  padding: 10;\n"]),_templateObject3=(0,_taggedTemplateLiteral3.default)(["\n  padding-top: 10;\n  padding-bottom: 10;\n"],["\n  padding-top: 10;\n  padding-bottom: 10;\n"]),_react2=_interopRequireDefault(__webpack_require__(0)),_redux=__webpack_require__(25),_reactRedux=__webpack_require__(35),_propTypes2=_interopRequireDefault(__webpack_require__(1)),_styledComponents2=_interopRequireDefault(__webpack_require__(7)),_i18n=__webpack_require__(2),_Text2=_interopRequireDefault(__webpack_require__(68)),_CopyableConfigText2=_interopRequireDefault(__webpack_require__(237)),_actions=__webpack_require__(407),_AwsPolicy=__webpack_require__(2087);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var StyledTitleWrapper=_styledComponents2.default.div(_templateObject),StyledInstructionWrapper=_styledComponents2.default.div(_templateObject2),StyledLineWrapper=_styledComponents2.default.div(_templateObject3),AwsAccountFormContainer=(_temp2=_class=function(_React$Component){function AwsAccountFormContainer(){var _ref,_temp,_this,_ret;(0,_classCallCheck3.default)(this,AwsAccountFormContainer);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_temp=_this=(0,_possibleConstructorReturn3.default)(this,(_ref=AwsAccountFormContainer.__proto__||(0,_getPrototypeOf2.default)(AwsAccountFormContainer)).call.apply(_ref,[this].concat(args)))).state={externalID:_this.props.account.externalID,iamArn:_this.props.account.iamArn},_this.updateAccountConfig=function(key,value){var account=(0,_extends3.default)({},_this.props.account);account[key]=value,_this.props.updateAwsAccountConfig(account)},_this.updateComponentState=function(newState){_this.setState(newState)},_ret=_temp,(0,_possibleConstructorReturn3.default)(_this,_ret)}return(0,_inherits3.default)(AwsAccountFormContainer,_React$Component),(0,_createClass3.default)(AwsAccountFormContainer,[{key:"render",value:function(){var _this2=this;return _react2.default.createElement("div",{"data-test":"aws-form-container"},_react2.default.createElement(StyledTitleWrapper,null," ",(0,_i18n._)("Configure AWS Identity and Access Management (IAM)")," "),_react2.default.createElement(StyledInstructionWrapper,null,(0,_i18n._)("From the AWS Management console, create"),"  ",_react2.default.createElement(_CopyableConfigText2.default,{showText:!1},_AwsPolicy.AwsPolicy),"  ",_react2.default.createElement("a",{href:"https://docs.splunk.com/Documentation/AddOns/released/AWS/ConfigureAWSpermissions"},"this IAM policy"),(0,_i18n._)(" to enable the app to collect metrics and log data from your AWS services.")),_react2.default.createElement("div",null,(0,_i18n._)("Create an IAM role from the AWS Management console and attach the IAM policy. When creating the IAM role, use this External ID:")," ",_react2.default.createElement(_CopyableConfigText2.default,{showText:!1,"data-test":"aws-form-external-id"},this.state.externalID)," ",_react2.default.createElement(_Text2.default,{inline:!0,onBlur:function(e){return _this2.updateAccountConfig("externalID",e.target.value)},onChange:function(e){return _this2.updateComponentState({externalID:e.target.value})},value:this.state.externalID})),_react2.default.createElement(StyledLineWrapper,null,(0,_i18n._)("When you are done creating the IAM role, enter its Role ARN here:")," ",_react2.default.createElement(_Text2.default,{inline:!0,onBlur:function(e){return _this2.updateAccountConfig("iamArn",e.target.value)},onChange:function(e){return _this2.updateComponentState({iamArn:e.target.value})},value:this.state.iamArn})))}}]),AwsAccountFormContainer}(_react2.default.Component),_class.propTypes={account:_propTypes2.default.object,updateAwsAccountConfig:_propTypes2.default.func.isRequired},_class.defaultProps={account:{},updateAwsAccountConfig:function(){}},_temp2);exports.default=(0,_reactRedux.connect)(function(state){return{account:state.awsConfig.accounts[0]}},function(dispatch){return(0,_redux.bindActionCreators)({updateAwsAccountConfig:_actions.updateAwsAccountConfig},dispatch)})(AwsAccountFormContainer),module.exports=exports.default},2086:function(module,exports,__webpack_require__){
/*!
 * Copyright © 2018 Splunk Inc.
 * SPLUNK CONFIDENTIAL – Use or disclosure of this material in whole or in part
 * without a valid written license from Splunk Inc. is PROHIBITED.
 */
module.exports=function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=51)}({0:function(module,exports){module.exports=__webpack_require__(0)},1:function(module,exports){module.exports=__webpack_require__(2)},2:function(module,exports){module.exports=__webpack_require__(22)},51:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"default",function(){return Clipboard});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_splunk_ui_utils_i18n__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_splunk_react_icons_SVG__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),_splunk_react_icons_SVG__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_splunk_react_icons_SVG__WEBPACK_IMPORTED_MODULE_2__);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function Clipboard(props){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_splunk_react_icons_SVG__WEBPACK_IMPORTED_MODULE_2___default.a,_extends({screenReaderText:Object(_splunk_ui_utils_i18n__WEBPACK_IMPORTED_MODULE_1__._)("Clipboard"),viewBox:"0 0 1275 1500"},props),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path",{d:"M491.096 0h289.726c28.082 0 47.945 12.33 59.59 36.986l56.506 111.987h302.055c21.917 0 40.068 7.19 54.452 21.575C1267.808 184.932 1275 203.082 1275 225v1198.973c0 21.917-7.192 40.068-21.575 54.452-14.384 14.383-32.535 21.575-54.452 21.575H76.027c-21.917 0-40.068-7.192-54.452-21.575C7.192 1464.04 0 1445.89 0 1423.973V225c0-21.918 7.192-40.068 21.575-54.452 14.384-14.384 32.535-21.575 54.452-21.575H375l56.507-111.987C443.15 12.33 463.014 0 491.097 0zM1050 300H225v225h825V300z"}))}}})},2087:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.AwsPolicy='{\n  "Version": "2012-10-17",\n  "Statement": [\n    {\n      "Effect": "Allow",\n      "Action": [\n        "sqs:GetQueueAttributes",\n        "sqs:ListQueues",\n        "sqs:ReceiveMessage",\n        "sqs:GetQueueUrl",\n        "sqs:SendMessage",\n        "sqs:DeleteMessage",\n        "s3:ListBucket",\n        "s3:GetObject",\n        "s3:GetBucketLocation",\n        "s3:ListAllMyBuckets",\n        "s3:GetBucketTagging", \n        "s3:GetAccelerateConfiguration", \n        "s3:GetBucketLogging", \n        "s3:GetLifecycleConfiguration", \n        "s3:GetBucketCORS",\n        "config:DeliverConfigSnapshot",\n        "config:DescribeConfigRules",\n        "config:DescribeConfigRuleEvaluationStatus",\n        "config:GetComplianceDetailsByConfigRule",\n        "config:GetComplianceSummaryByConfigRule",\n        "iam:GetUser",\n        "iam:ListUsers",\n        "iam:GetAccountPasswordPolicy",\n        "iam:ListAccessKeys",\n        "iam:GetAccessKeyLastUsed", \n        "autoscaling:Describe*",\n        "cloudwatch:Describe*",\n        "cloudwatch:Get*",\n        "cloudwatch:List*",\n        "sns:Get*",\n        "sns:List*",\n        "sns:Publish",\n        "logs:DescribeLogGroups",\n        "logs:DescribeLogStreams",\n        "logs:GetLogEvents",\n        "ec2:DescribeInstances",\n        "ec2:DescribeReservedInstances",\n        "ec2:DescribeSnapshots",\n        "ec2:DescribeRegions",\n        "ec2:DescribeKeyPairs",\n        "ec2:DescribeNetworkAcls",\n        "ec2:DescribeSecurityGroups",\n        "ec2:DescribeSubnets",\n        "ec2:DescribeVolumes",\n        "ec2:DescribeVpcs",\n        "ec2:DescribeImages",\n        "ec2:DescribeAddresses",\n        "lambda:ListFunctions",\n        "rds:DescribeDBInstances",\n        "cloudfront:ListDistributions",\n        "elasticloadbalancing:DescribeLoadBalancers",\n        "elasticloadbalancing:DescribeInstanceHealth",\n        "elasticloadbalancing:DescribeTags",\n        "elasticloadbalancing:DescribeTargetGroups",\n        "elasticloadbalancing:DescribeTargetHealth",\n        "elasticloadbalancing:DescribeListeners",\n        "inspector:Describe*",\n        "inspector:List*",\n        "kinesis:Get*",\n        "kinesis:DescribeStream",\n        "kinesis:ListStreams",\n        "kms:Decrypt",\n        "sts:AssumeRole"\n      ],\n      "Resource": [\n        "*"\n      ]\n    }\n  ]\n}'},2088:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _class,_temp2,_defineProperty3=_interopRequireDefault(__webpack_require__(23)),_extends4=_interopRequireDefault(__webpack_require__(6)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(14)),_classCallCheck3=_interopRequireDefault(__webpack_require__(9)),_createClass3=_interopRequireDefault(__webpack_require__(12)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(8)),_inherits3=_interopRequireDefault(__webpack_require__(11)),_react2=_interopRequireDefault(__webpack_require__(0)),_redux=__webpack_require__(25),_reactRedux=__webpack_require__(35),_actions=__webpack_require__(407),_DataCollectionConfigurator2=_interopRequireDefault(__webpack_require__(2089));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var DataCollectionConfiguratorContainer=(_temp2=_class=function(_React$Component){function DataCollectionConfiguratorContainer(){var _ref,_temp,_this,_ret;(0,_classCallCheck3.default)(this,DataCollectionConfiguratorContainer);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_temp=_this=(0,_possibleConstructorReturn3.default)(this,(_ref=DataCollectionConfiguratorContainer.__proto__||(0,_getPrototypeOf2.default)(DataCollectionConfiguratorContainer)).call.apply(_ref,[this].concat(args)))).state={isDefaultMetricsCollection:!0,isCWLogsCollectionEnabled:!0,isS3LogsCollectionEnabled:!0},_this.onDefaultMetricsCollectionChange=function(isDefaultCollection){if(!isDefaultCollection){var account=(0,_extends4.default)({},_this.props.account);account.metricConfig=_this.getMetricConfig(account),_this.props.updateAwsAccountConfig(account)}_this.setState({isDefaultMetricsCollection:!isDefaultCollection})},_this.onCWLogsStatusChange=function(isCollectionEnabled){_this.setState({isCWLogsCollectionEnabled:isCollectionEnabled})},_this.onS3LogsStatusChange=function(isCollectionEnabled){_this.setState({isS3LogsCollectionEnabled:isCollectionEnabled})},_this.onRegionOrServiceChange=function(newValues){_this.setState({isDefaultMetricsCollection:!0});var account=(0,_extends4.default)({},_this.props.account,newValues);account.metricConfig=_this.getMetricConfig(account),Object.prototype.hasOwnProperty.call(newValues,"regions")&&(account.cwLogsConfig=_this.getLogsConfig(account,newValues)),_this.props.updateAwsAccountConfig(account)},_this.getMetricConfig=function(account){var config={};return 0<account.regions.length&&0<account.services.length&&account.regions.map(function(region){return config[region]=account.services,config}),config},_this.getLogsConfig=function(account,_ref2){var regions=_ref2.regions,currentConfig=account.cwLogsConfig;return regions.reduce(function(prev,iterator){var logs=currentConfig[iterator]?currentConfig[iterator]:[];return(0,_extends4.default)({},prev,(0,_defineProperty3.default)({},iterator,logs))},{})},_this.onMetricConfigChange=function(services,region){var account=(0,_extends4.default)({},_this.props.account);account.metricConfig[region]=services,_this.props.updateAwsAccountConfig(account)},_this.onCWLogsConfigChange=function(region,logGroups){var account=(0,_extends4.default)({},_this.props.account);account.cwLogsConfig[region]=logGroups,_this.props.updateAwsAccountConfig(account)},_this.onS3LogsConfigChange=function(config){var account=(0,_extends4.default)({},_this.props.account);account.s3LogsConfig=config,_this.props.updateAwsAccountConfig(account)},_ret=_temp,(0,_possibleConstructorReturn3.default)(_this,_ret)}return(0,_inherits3.default)(DataCollectionConfiguratorContainer,_React$Component),(0,_createClass3.default)(DataCollectionConfiguratorContainer,[{key:"componentDidMount",value:function(){this.props.fetchAllAwsServices(),this.props.fetchAllAwsRegions()}},{key:"render",value:function(){return _react2.default.createElement(_DataCollectionConfigurator2.default,{allRegions:this.props.allRegions,allServices:this.props.allServices,account:this.props.account,onRegionOrServiceChange:this.onRegionOrServiceChange,onMetricConfigChange:this.onMetricConfigChange,isDefaultMetricsCollection:this.state.isDefaultMetricsCollection,onDefaultMetricsCollectionChange:this.onDefaultMetricsCollectionChange,onCWLogsConfigChange:this.onCWLogsConfigChange,isCWLogsCollectionEnabled:this.state.isCWLogsCollectionEnabled,onCWLogsStatusChange:this.onCWLogsStatusChange,onS3LogsConfigChange:this.onS3LogsConfigChange,isS3LogsCollectionEnabled:this.state.isS3LogsCollectionEnabled,onS3LogsStatusChange:this.onS3LogsStatusChange})}}]),DataCollectionConfiguratorContainer}(_react2.default.Component),_class.propTypes=_DataCollectionConfigurator2.default.propTypes,_class.defaultProps=_DataCollectionConfigurator2.default.defaultProps,_temp2);exports.default=(0,_reactRedux.connect)(function(state){return{allServices:state.awsConfig.allServices,allRegions:state.awsConfig.allRegions,account:state.awsConfig.accounts[0]}},function(dispatch){return(0,_redux.bindActionCreators)({fetchAllAwsServices:_actions.fetchAllAwsServices,fetchAllAwsRegions:_actions.fetchAllAwsRegions,updateAwsAccountConfig:_actions.updateAwsAccountConfig},dispatch)})(DataCollectionConfiguratorContainer),module.exports=exports.default},2089:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _templateObject=(0,_interopRequireDefault(__webpack_require__(44)).default)(["\n  margin-bottom: 15px;\n"],["\n  margin-bottom: 15px;\n"]),_react2=_interopRequireDefault(__webpack_require__(0)),_propTypes2=_interopRequireDefault(__webpack_require__(1)),_i18n=__webpack_require__(2),_ControlGroup2=_interopRequireDefault(__webpack_require__(64)),_Multiselect2=_interopRequireDefault(__webpack_require__(232)),_styledComponents2=_interopRequireDefault(__webpack_require__(7)),_Paragraph2=_interopRequireDefault(__webpack_require__(40)),_MetricsCollection2=_interopRequireDefault(__webpack_require__(2090)),_CloudWatchLogsCollection2=_interopRequireDefault(__webpack_require__(2091)),_S3LogsCollection2=_interopRequireDefault(__webpack_require__(2092));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var styles={title:{fontSize:14,fontWeight:600}},StyledWrapper=_styledComponents2.default.div(_templateObject);exports.default=function DataCollectionConfigurator(_ref){var allRegions=_ref.allRegions,allServices=_ref.allServices,account=_ref.account,isFetchingRegions=_ref.isFetchingRegions,isFetchingServices=_ref.isFetchingServices,onRegionOrServiceChange=_ref.onRegionOrServiceChange,onMetricConfigChange=_ref.onMetricConfigChange,onCWLogsConfigChange=_ref.onCWLogsConfigChange,isDefaultMetricsCollection=_ref.isDefaultMetricsCollection,onDefaultMetricsCollectionChange=_ref.onDefaultMetricsCollectionChange,isCWLogsCollectionEnabled=_ref.isCWLogsCollectionEnabled,onCWLogsStatusChange=_ref.onCWLogsStatusChange,isS3LogsCollectionEnabled=_ref.isS3LogsCollectionEnabled,onS3LogsStatusChange=_ref.onS3LogsStatusChange,onS3LogsConfigChange=_ref.onS3LogsConfigChange;return DataCollectionConfigurator.propTypes={allRegions:_propTypes2.default.array,allServices:_propTypes2.default.array,account:_propTypes2.default.object,isFetchingRegions:_propTypes2.default.bool,isFetchingServices:_propTypes2.default.bool,onRegionOrServiceChange:_propTypes2.default.func.isRequired,onMetricConfigChange:_propTypes2.default.func.isRequired,isDefaultMetricsCollection:_propTypes2.default.bool,onDefaultMetricsCollectionChange:_propTypes2.default.func.isRequired,onCWLogsConfigChange:_propTypes2.default.func.isRequired,isCWLogsCollectionEnabled:_propTypes2.default.bool,onCWLogsStatusChange:_propTypes2.default.func.isRequired,onS3LogsConfigChange:_propTypes2.default.func.isRequired,isS3LogsCollectionEnabled:_propTypes2.default.bool,onS3LogsStatusChange:_propTypes2.default.func.isRequired},DataCollectionConfigurator.defaultProps={allRegions:[],allServices:[],account:{regions:[],services:[],metricConfig:{},cwLogsConfig:{},s3LogsConfig:{queues:[]}},isDefaultMetricsCollection:!0,isCWLogsCollectionEnabled:!0,isS3LogsCollectionEnabled:!0,isFetchingRegions:!1,isFetchingServices:!1},_react2.default.createElement("div",null,_react2.default.createElement(_Paragraph2.default,{style:styles.title},(0,_i18n._)("Configure log data collection")),_react2.default.createElement(_Paragraph2.default,null,(0,_i18n._)("Select each AWS service and region to collect log data for.")),_react2.default.createElement(_ControlGroup2.default,{label:(0,_i18n._)("AWS services"),controlsLayout:"none"},_react2.default.createElement(_Multiselect2.default,{values:account.services,placeholder:(0,_i18n._)("Select services"),onChange:function(e,_ref2){var values=_ref2.values;return onRegionOrServiceChange({services:values})},isLoadingOptions:isFetchingServices},allServices.map(function(service){return _react2.default.createElement(_Multiselect2.default.Option,{key:service,label:service,value:service})}))),_react2.default.createElement(_ControlGroup2.default,{label:(0,_i18n._)("Regions"),controlsLayout:"none"},_react2.default.createElement(_Multiselect2.default,{values:account.regions,placeholder:(0,_i18n._)("Select regions"),onChange:function(e,_ref3){var values=_ref3.values;return onRegionOrServiceChange({regions:values})},isLoadingOptions:isFetchingRegions},allRegions.map(function(region){return _react2.default.createElement(_Multiselect2.default.Option,{key:region.name,label:region.label,value:region.label})}))),_react2.default.createElement(StyledWrapper,null,_react2.default.createElement(_MetricsCollection2.default,{config:account.metricConfig,services:account.services,isDefaultCollection:isDefaultMetricsCollection,onConfigChange:onMetricConfigChange,onDefaultCollectionChange:onDefaultMetricsCollectionChange})),_react2.default.createElement(StyledWrapper,null,_react2.default.createElement(_CloudWatchLogsCollection2.default,{config:account.cwLogsConfig,regions:account.regions,isCollectionEnabled:isCWLogsCollectionEnabled,onConfigChange:onCWLogsConfigChange,onStatusChange:onCWLogsStatusChange})),_react2.default.createElement(StyledWrapper,null,_react2.default.createElement(_S3LogsCollection2.default,{config:account.s3LogsConfig,isCollectionEnabled:isS3LogsCollectionEnabled,onConfigChange:onS3LogsConfigChange,onStatusChange:onS3LogsStatusChange})))},module.exports=exports.default},2090:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _keys2=_interopRequireDefault(__webpack_require__(29)),_react2=_interopRequireDefault(__webpack_require__(0)),_ControlGroup2=_interopRequireDefault(__webpack_require__(64)),_Multiselect2=_interopRequireDefault(__webpack_require__(232)),_Paragraph2=_interopRequireDefault(__webpack_require__(40)),_Switch2=_interopRequireDefault(__webpack_require__(78)),_i18n=__webpack_require__(2),_propTypes2=_interopRequireDefault(__webpack_require__(1));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var styles={title:{fontSize:14,fontWeight:600}},MetricsCollection=function(_ref){var config=_ref.config,services=_ref.services,isDefaultCollection=_ref.isDefaultCollection,onConfigChange=_ref.onConfigChange,onDefaultCollectionChange=_ref.onDefaultCollectionChange;return _react2.default.createElement("div",null,_react2.default.createElement(_Paragraph2.default,{style:styles.title},(0,_i18n._)("Metric data collection")),_react2.default.createElement(_Paragraph2.default,null,(0,_i18n._)("Specify the services to fetch metrics for in each selected region.")),_react2.default.createElement(_Switch2.default,{onClick:function(){return onDefaultCollectionChange(isDefaultCollection)},selected:isDefaultCollection,appearance:"toggle"},(0,_i18n._)("Collect metrics for all services from all regions")),!isDefaultCollection&&(0,_keys2.default)(config).map(function(region){return _react2.default.createElement(_ControlGroup2.default,{label:(0,_i18n._)(region),key:region,controlsLayout:"none"},_react2.default.createElement(_Multiselect2.default,{values:config[region],placeholder:(0,_i18n._)("Select services"),onChange:function(e,_ref2){var values=_ref2.values;return onConfigChange(values,region)}},services.map(function(service){return _react2.default.createElement(_Multiselect2.default.Option,{key:service,label:service,value:service})})))}))};MetricsCollection.propTypes={config:_propTypes2.default.object,services:_propTypes2.default.array,isDefaultCollection:_propTypes2.default.bool,onConfigChange:_propTypes2.default.func.isRequired,onDefaultCollectionChange:_propTypes2.default.func.isRequired},MetricsCollection.defaultProps={config:{},services:[],isDefaultCollection:!0},exports.default=MetricsCollection,module.exports=exports.default},2091:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _keys2=_interopRequireDefault(__webpack_require__(29)),_react2=_interopRequireDefault(__webpack_require__(0)),_ControlGroup2=_interopRequireDefault(__webpack_require__(64)),_Multiselect2=_interopRequireDefault(__webpack_require__(232)),_Paragraph2=_interopRequireDefault(__webpack_require__(40)),_Switch2=_interopRequireDefault(__webpack_require__(78)),_i18n=__webpack_require__(2),_propTypes2=_interopRequireDefault(__webpack_require__(1));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var styles={title:{fontSize:14,fontWeight:600}};exports.default=function CloudWatchLogsCollection(_ref){var config=_ref.config,isCollectionEnabled=_ref.isCollectionEnabled,onConfigChange=_ref.onConfigChange,onStatusChange=_ref.onStatusChange;return CloudWatchLogsCollection.propTypes={config:_propTypes2.default.object,isCollectionEnabled:_propTypes2.default.bool,onConfigChange:_propTypes2.default.func.isRequired,onStatusChange:_propTypes2.default.func.isRequired},CloudWatchLogsCollection.defaultProps={config:{},isCollectionEnabled:!0},_react2.default.createElement("div",null,_react2.default.createElement(_Paragraph2.default,{style:styles.title},(0,_i18n._)("CloudWatch log collection")),_react2.default.createElement(_Paragraph2.default,null,(0,_i18n._)("Specify the logs to collect in each selected region.")),_react2.default.createElement(_Switch2.default,{onClick:function(){return onStatusChange(!isCollectionEnabled)},selected:isCollectionEnabled,appearance:"toggle"},(0,_i18n._)("Collect CloudWatch logs")),isCollectionEnabled&&(0,_keys2.default)(config).map(function(region){return _react2.default.createElement(_ControlGroup2.default,{label:(0,_i18n._)(region),key:region,controlsLayout:"none"},_react2.default.createElement(_Multiselect2.default,{allowNewValues:!0,inline:!0,values:config[region],placeholder:(0,_i18n._)("Search for logs to monitor"),onChange:function(e,_ref2){var values=_ref2.values;return onConfigChange(region,values)}}))}))},module.exports=exports.default},2092:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _class,_temp2,_extends3=_interopRequireDefault(__webpack_require__(6)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(14)),_classCallCheck3=_interopRequireDefault(__webpack_require__(9)),_createClass3=_interopRequireDefault(__webpack_require__(12)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(8)),_inherits3=_interopRequireDefault(__webpack_require__(11)),_templateObject=(0,_interopRequireDefault(__webpack_require__(44)).default)(["\n  width: 100%;\n"],["\n  width: 100%;\n"]),_react2=_interopRequireDefault(__webpack_require__(0)),_Paragraph2=_interopRequireDefault(__webpack_require__(40)),_Switch2=_interopRequireDefault(__webpack_require__(78)),_styledComponents2=_interopRequireDefault(__webpack_require__(7)),_FormRows2=_interopRequireDefault(__webpack_require__(924)),_Text2=_interopRequireDefault(__webpack_require__(68)),_i18n=__webpack_require__(2),_lodash=__webpack_require__(16),_propTypes2=_interopRequireDefault(__webpack_require__(1));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var StyledWrapper=_styledComponents2.default.div(_templateObject),styles={title:{fontSize:14,fontWeight:600},textBox:{width:"100%"}},S3LogsCollection=(_temp2=_class=function(_React$Component){function S3LogsCollection(){var _ref,_temp,_this,_ret;(0,_classCallCheck3.default)(this,S3LogsCollection);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_temp=_this=(0,_possibleConstructorReturn3.default)(this,(_ref=S3LogsCollection.__proto__||(0,_getPrototypeOf2.default)(S3LogsCollection)).call.apply(_ref,[this].concat(args)))).state={config:_this.props.config},_this.onAddingQueue=function(){var config=(0,_extends3.default)({},_this.state.config);config.queues.push(""),_this.setState({config:config})},_this.onRemovingQueue=function(index){var config=(0,_extends3.default)({},_this.state.config);(0,_lodash.remove)(config.queues,function(_v,i){return i===index}),_this.props.onConfigChange(config)},_this.onChangingQueue=function(value,index){var config=(0,_extends3.default)({},_this.state.config);config.queues[index]=value,_this.props.onConfigChange(config)},_ret=_temp,(0,_possibleConstructorReturn3.default)(_this,_ret)}return(0,_inherits3.default)(S3LogsCollection,_React$Component),(0,_createClass3.default)(S3LogsCollection,[{key:"render",value:function(){var _this2=this;return _react2.default.createElement(StyledWrapper,null,_react2.default.createElement("div",null,_react2.default.createElement(_Paragraph2.default,{style:styles.title},(0,_i18n._)("S3 log collection")),_react2.default.createElement(_Paragraph2.default,null,(0,_i18n._)("Enter an SQS name to collect logs from an S3 bucket.")),_react2.default.createElement(_Switch2.default,{onClick:function(){return _this2.props.onStatusChange(!_this2.props.isCollectionEnabled)},selected:this.props.isCollectionEnabled,appearance:"toggle"},(0,_i18n._)("Collect logs from S3 buckets")),this.props.isCollectionEnabled&&_react2.default.createElement(_FormRows2.default,{style:{width:"45%"},onRequestAdd:this.onAddingQueue,addLabel:(0,_i18n._)("Add Log"),placeholder:(0,_i18n._)("Search for logs to monitor")},this.state.config.queues.map(function(queue,id){var key="queue-"+id;return _react2.default.createElement(_FormRows2.default.Row,{index:id,key:key,onRequestRemove:function(){return _this2.onRemovingQueue(id)}},_react2.default.createElement(_Text2.default,{placeholder:(0,_i18n._)("Search for logs to monitor"),value:queue,name:""+id,onChange:function(e){return _this2.onChangingQueue(e.target.value,id)},inline:!0,style:styles.textBox}))}))))}}]),S3LogsCollection}(_react2.default.Component),_class.propTypes={config:_propTypes2.default.object,isCollectionEnabled:_propTypes2.default.bool,onConfigChange:_propTypes2.default.func.isRequired,onStatusChange:_propTypes2.default.func.isRequired},_class.defaultProps={config:{queues:[""]},isCollectionEnabled:!0},_temp2);exports.default=S3LogsCollection,module.exports=exports.default},2093:function(module,exports,__webpack_require__){"use strict";(function(__filename){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _class,_temp,_objectWithoutProperties3=_interopRequireDefault(__webpack_require__(46)),_extends3=_interopRequireDefault(__webpack_require__(6)),_defineProperty3=_interopRequireDefault(__webpack_require__(23)),_slicedToArray3=_interopRequireDefault(__webpack_require__(92)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(14)),_classCallCheck3=_interopRequireDefault(__webpack_require__(9)),_createClass3=_interopRequireDefault(__webpack_require__(12)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(8)),_inherits3=_interopRequireDefault(__webpack_require__(11)),_react2=_interopRequireDefault(__webpack_require__(0)),_propTypes2=_interopRequireDefault(__webpack_require__(1)),_lodash2=_interopRequireDefault(__webpack_require__(16)),_Link2=_interopRequireDefault(__webpack_require__(57)),_Paragraph2=_interopRequireDefault(__webpack_require__(40)),_List2=_interopRequireDefault(__webpack_require__(591)),_ControlGroup2=_interopRequireDefault(__webpack_require__(64)),_i18n=__webpack_require__(2),_format=__webpack_require__(39),_WaitSpinner2=_interopRequireDefault(__webpack_require__(67)),_InfoCircle2=_interopRequireDefault(__webpack_require__(280)),_Metrics2=_interopRequireDefault(__webpack_require__(592)),_Events2=_interopRequireDefault(__webpack_require__(293)),_TabLayout2=_interopRequireDefault(__webpack_require__(199)),_CustomList2=_interopRequireDefault(__webpack_require__(202)),_CopyableConfigText2=_interopRequireDefault(__webpack_require__(237)),_colors=__webpack_require__(79),_commonUtils=__webpack_require__(24),_emUtils=__webpack_require__(26),_messageConstants=__webpack_require__(593),_stateConstants=__webpack_require__(15),_testSupportUtils=__webpack_require__(27),_DimensionMultiSelectContainer2=_interopRequireDefault(__webpack_require__(282)),_ConfigurationStatus2=_interopRequireDefault(__webpack_require__(236)),_ConfigureOptions2=_interopRequireDefault(__webpack_require__(939)),_CustomizeInputsModal2=_interopRequireDefault(__webpack_require__(594)),_AgentRemoveInfo2=_interopRequireDefault(__webpack_require__(595)),_utils=__webpack_require__(294),_utils2=__webpack_require__(596);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var OsxConfiguration=(_temp=_class=function(_React$Component){function OsxConfiguration(props){(0,_classCallCheck3.default)(this,OsxConfiguration);var _this=(0,_possibleConstructorReturn3.default)(this,(OsxConfiguration.__proto__||(0,_getPrototypeOf2.default)(OsxConfiguration)).call(this,props));return _this.hasError=function(){if("remove"===_this.state.activePanelId)return!1;var selectedLogsLength=_lodash2.default.keys(_this.props.selectedOSXLogs).length,_this$state=_this.state,monitoringMachineName=_this$state.monitoringMachineName,hecPort=_this$state.hecPort,receiverPort=_this$state.receiverPort,hecToken=_this$state.hecToken,dockerSockLocation=_this$state.dockerSockLocation,ufInstallLocation=_this$state.ufInstallLocation;return!monitoringMachineName||!(0,_commonUtils.isNumeric)(hecPort)||!(0,_commonUtils.isNumeric)(receiverPort)&&0!==selectedLogsLength||!hecToken||!dockerSockLocation||!ufInstallLocation&&0!==selectedLogsLength},_this.renderSnippet=function(){var ufScript="",flattenedDimensions=_this.props.selectedDimensions.map(function(_ref){var _ref2=(0,_slicedToArray3.default)(_ref,2);return _ref2[0]+':"'+_ref2[1].trim()+'"'}).join(",").replace(/\$/g,"\\$"),isHECReady=_this.props.isHttpInputEnabled&&!_this.props.isFetchingToken,packageLink=_this.props.packageLink?_this.props.packageLink.replace("unix_agent/unix-agent.tgz","osx_agent/osx-agent.tgz"):"",agentFileName=_lodash2.default.last(packageLink.split("/"));return 0!==_lodash2.default.size(_this.props.selectedOSXLogs)&&(ufScript="collect"===_this.state.activePanelId?"&& bash install_uf.sh ":""),packageLink?(0,_commonUtils.isEnterprise)()||isHECReady?_react2.default.createElement(_CopyableConfigText2.default,{onClick:_this.enableInputErrorVisibility,error:_this.hasError(),errorText:(0,_i18n._)("Fill in input fields with proper values")},"collect"===_this.state.activePanelId?"export SPLUNK_URL="+_this.state.monitoringMachineName+" && export HEC_PORT="+_this.state.hecPort+" && export RECEIVER_PORT="+_this.state.receiverPort+" && export INSTALL_LOCATION="+_this.state.ufInstallLocation+" && export HEC_TOKEN="+_this.state.hecToken+" "+(_this.state.isDockerMonitor?"&& export SAI_ENABLE_DOCKER=true":"&& export SAI_ENABLE_DOCKER=")+" "+(_this.state.isDockerMonitor&&_this.state.dockerSockLocation?"&& export SAI_DOCKER_SOCK="+_this.state.dockerSockLocation:"")+" && export DIMENSIONS="+flattenedDimensions+" METRIC_TYPES="+(0,_utils.stringifyMetrics)(_this.props.selectedOSXMetrics,_this.props.metricsDisplayOrder)+" METRIC_OPTS="+(0,_utils.stringifyMetricsOpts)(_this.props.selectedOSXMetrics,_this.props.metricsDisplayOrder)+" LOG_SOURCES="+(0,_utils.stringifyLogs)(_this.props.selectedOSXLogs)+" && ":"","curl -ksL -o "+agentFileName+" "+window.location.protocol+"//"+window.location.hostname+":"+window.location.port+packageLink+" && tar -xzf "+agentFileName+" && cd osx-agent "+ufScript+("collect"===_this.state.activePanelId?"&& bash install_agent.sh":"&& bash uninstall_agent.sh")+" && cd .. && rm -rf osx-agent"):_react2.default.createElement("div",null,_react2.default.createElement(_WaitSpinner2.default,{size:"medium"})):_react2.default.createElement("div",null,_messageConstants.INSTALL_AGENT_FETCH_ERROR)},_this.openCustomizeInputsModal=function(){_this.setState({isCustomizeInputsModalOpen:!0}),_this.props.loadAllSourceTypes()},_this.closeCustomizeInputsModal=function(){_this.setState({isCustomizeInputsModalOpen:!1})},_this.enableInputErrorVisibility=function(){_this.setState({isInputErrorVisible:_this.hasError()})},_this.handleTabChange=function(e,data){_this.setState(function(prevState){return{activePanelId:data.activePanelId,dockerDisable:!prevState.dockerDisable}},function(){_this.setState({isInputErrorVisible:_this.hasError()})})},_this.handleDockerMonitor=function(){_this.setState(function(prevState){return{isDockerMonitor:!prevState.isDockerMonitor}},function(){_this.props.clearDockerSockPath()})},_this.handleUpdateFormData=function(e,_ref3){var value=_ref3.value,name=_ref3.name;_this.setState((0,_defineProperty3.default)({},name,value))},_this.styles={title:{fontSize:14,fontWeight:600},InfoCircleStyle:{margin:"0px 15px 0px 30px"}},_this.state={isCustomizeInputsModalOpen:!1,isInputErrorVisible:!1,activePanelId:"collect",isDockerMonitor:!1,dockerDisable:!1,monitoringMachineName:props.monitoringMachineName,hecToken:props.hecToken,hecPort:props.hecPort,receiverPort:props.receiverPort,dockerSockLocation:props.dockerSockLocation,ufInstallLocation:props.ufInstallLocation},_this}return(0,_inherits3.default)(OsxConfiguration,_React$Component),(0,_createClass3.default)(OsxConfiguration,[{key:"render",value:function(){var selectedMetricsLength=_lodash2.default.filter(this.props.selectedOSXMetrics,"selected").length,selectedLogsLength=_lodash2.default.keys(this.props.selectedOSXLogs).length,isFormFieldDisabled=!("collect"===this.state.activePanelId),isReceiverPortRequired=0!==selectedLogsLength;return _react2.default.createElement("div",(0,_extends3.default)({style:{paddingTop:"15px"}},(0,_testSupportUtils.createTestHook)(__filename,name)),_react2.default.createElement(_CustomizeInputsModal2.default,{handleRequestClose:this.closeCustomizeInputsModal,open:this.state.isCustomizeInputsModalOpen,updateCustomMetricsAndLogs:this.props.updateOSXCustomMetricsAndLogs,sourceTypes:this.props.sourceTypes,selectedLogs:this.props.selectedOSXLogs,selectedMetrics:this.props.selectedOSXMetrics,internalLogs:_stateConstants.OSX_INTERNAL_LOGS,defaultLogs:_stateConstants.OSX_SELECTED_LOGS,metricsDisplayOrder:this.props.metricsDisplayOrder,isValidPath:_utils2.isValidNixPath}),_react2.default.createElement(_Paragraph2.default,{style:{marginLeft:"25px",marginBottom:"0px"}},(0,_i18n._)("Follow the instructions to install an agent on your OSX machine.")),_react2.default.createElement("div",{style:{marginTop:"20px "}},_react2.default.createElement(_InfoCircle2.default,{style:this.styles.InfoCircleStyle,size:1.25,color:_colors.INFO_ICON}),(0,_format.sprintf)((0,_i18n._)("Supported OS types: %(types)s"),{types:_stateConstants.SUPPORTED_OSX_OS.join(", ")})),_react2.default.createElement(_CustomList2.default,null,_react2.default.createElement(_CustomList2.default.Item,{key:"options"},_react2.default.createElement("div",null,_react2.default.createElement(_Paragraph2.default,{style:this.styles.title},(0,_i18n._)("Specify configuration options")),_react2.default.createElement(_ControlGroup2.default,{label:(0,_i18n._)("Data to be collected")},_react2.default.createElement("div",{id:"metrics-logs-summary",style:{paddingTop:"5px"}},_react2.default.createElement(_Metrics2.default,{style:{fontSize:"20px",marginRight:"5px"}}),(0,_format.sprintf)((0,_emUtils.ungettext)("%d Metric","%d Metrics",selectedMetricsLength),selectedMetricsLength)," + "," ",_react2.default.createElement(_Events2.default,{style:{fontSize:"20px",margin:"0 5px"}}),(0,_format.sprintf)((0,_emUtils.ungettext)("%d Log source","%d Log sources",selectedLogsLength),selectedLogsLength),_react2.default.createElement(_Link2.default,{id:"open-custom-data-modal",onClick:this.openCustomizeInputsModal,style:{marginLeft:"15px"}},(0,_i18n._)("Customize")))),_react2.default.createElement(_ControlGroup2.default,{label:(0,_i18n._)("Dimensions"),help:_react2.default.createElement("span",null,(0,_i18n._)("Dimensions are key/value pairs used for troubleshooting, analysis, and filtering hosts, e.g. location:seattle or role:webserver."))},_react2.default.createElement(_DimensionMultiSelectContainer2.default,{multiselectStyle:{width:"100%"},allowNewDimensions:!0,disabled:isFormFieldDisabled})),_react2.default.createElement(_ConfigureOptions2.default,{monitoringMachineName:this.state.monitoringMachineName,hecPort:this.state.hecPort,receiverPort:this.state.receiverPort,ufInstallLocation:this.state.ufInstallLocation,hecToken:this.state.hecToken,isInputErrorVisible:this.state.isInputErrorVisible,isReceiverPortRequired:isReceiverPortRequired,handleDockerMonitor:this.handleDockerMonitor,isDockerMonitor:this.state.isDockerMonitor,dockerSockLocation:this.state.dockerSockLocation,dockerDisable:this.state.dockerDisable,onUpdateFormData:this.handleUpdateFormData,disabled:isFormFieldDisabled}))),_react2.default.createElement(_CustomList2.default.Item,null,_react2.default.createElement(_Paragraph2.default,{style:this.styles.title},(0,_i18n._)("Copy and paste the following into the command line of your entity")),_react2.default.createElement(_Paragraph2.default,null,(0,_i18n._)("This script must be run by user with administrator privileges, and it should also have the following dependencies available on the entity:")),_react2.default.createElement(_List2.default,null,_stateConstants.OSX_COLLECTOR_DEPENDENCIES.map(function(dependency){return _react2.default.createElement(_List2.default.Item,{key:dependency},dependency)})),_react2.default.createElement(_TabLayout2.default,{activePanelId:this.state.activePanelId,onChange:this.handleTabChange},_react2.default.createElement(_TabLayout2.default.Panel,{label:(0,_i18n._)("Collect"),panelId:"collect",style:{marginLeft:"-10px"}},this.renderSnippet()),_react2.default.createElement(_TabLayout2.default.Panel,{label:(0,_i18n._)("Remove"),panelId:"remove"},this.renderSnippet()))),_react2.default.createElement(_CustomList2.default.Item,{key:"status"},"collect"===this.state.activePanelId?_react2.default.createElement("div",null,_react2.default.createElement(_Paragraph2.default,{style:this.styles.title},(0,_i18n._)("Once the script finishes running, verify your data connection.")),_react2.default.createElement(_Paragraph2.default,null,(0,_i18n._)("It may take up to 5 minutes to show entities in the UI.")),_react2.default.createElement(_ConfigurationStatus2.default,{connectedCount:this.props.connectedCount,newCount:this.props.newCount,initialFetchDone:this.props.initialFetchDone,handleCount:this.props.handleCount,entityType:_stateConstants.ENTITY_TYPE.OSX})):_react2.default.createElement(_AgentRemoveInfo2.default,null))))}}]),OsxConfiguration}(_react2.default.Component),_class.propTypes={isHttpInputEnabled:_propTypes2.default.bool,isFetchingToken:_propTypes2.default.bool,monitoringMachineName:_propTypes2.default.string,hecPort:_propTypes2.default.string,hecToken:_propTypes2.default.string,receiverPort:_propTypes2.default.string,packageLink:_propTypes2.default.string,dockerSockLocation:_propTypes2.default.string,selectedDimensions:_propTypes2.default.arrayOf(_propTypes2.default.arrayOf(_propTypes2.default.string)),connectedCount:_propTypes2.default.number,newCount:_propTypes2.default.number,initialFetchDone:_propTypes2.default.bool,clearDockerSockPath:_propTypes2.default.func,handleCount:_propTypes2.default.func,loadAllSourceTypes:_propTypes2.default.func,sourceTypes:_propTypes2.default.arrayOf(_propTypes2.default.string),selectedOSXMetrics:_propTypes2.default.object,selectedOSXLogs:_propTypes2.default.object,updateOSXCustomMetricsAndLogs:_propTypes2.default.func.isRequired,metricsDisplayOrder:_propTypes2.default.arrayOf(_propTypes2.default.string),ufInstallLocation:_propTypes2.default.string},_class.defaultProps={isHttpInputEnabled:!1,isFetchingToken:!0,monitoringMachineName:"",hecPort:"",hecToken:"",dockerSockLocation:_stateConstants.DOCKER_SOCK_PATH,receiverPort:(0,_utils.getDefaultReceiverPort)(),ufInstallLocation:_stateConstants.OSX_DEFAULT_DIR,packageLink:"",selectedDimensions:[],connectedCount:0,newCount:0,initialFetchDone:!1,handleCount:function(){},clearDockerSockPath:function(){},loadAllSourceTypes:function(){},sourceTypes:[],selectedOSXLogs:_stateConstants.OSX_SELECTED_LOGS,selectedOSXMetrics:_stateConstants.OSX_SELECTED_METRICS.reduce(function(result,_ref4){var metric=_ref4.metric,metricDetails=(0,_objectWithoutProperties3.default)(_ref4,["metric"]);return result[metric]=metricDetails,result},{}),metricsDisplayOrder:_stateConstants.OSX_SELECTED_METRICS.map(function(obj){return obj.metric})},_temp);exports.default=OsxConfiguration,module.exports=exports.default}).call(this,"src/main/webapp/configure/os/components/OsxConfiguration.js")},2094:function(module,exports,__webpack_require__){"use strict";(function(__filename){Object.defineProperty(exports,"__esModule",{value:!0});var _class,_temp,_getPrototypeOf2=_interopRequireDefault(__webpack_require__(14)),_classCallCheck3=_interopRequireDefault(__webpack_require__(9)),_createClass3=_interopRequireDefault(__webpack_require__(12)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(8)),_inherits3=_interopRequireDefault(__webpack_require__(11)),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_lodash2=_interopRequireDefault(__webpack_require__(16)),_Switch2=_interopRequireDefault(__webpack_require__(78)),_propTypes2=_interopRequireDefault(__webpack_require__(1)),_Clickable2=_interopRequireDefault(__webpack_require__(139)),_ChevronRight2=_interopRequireDefault(__webpack_require__(2095)),_ChevronDown2=_interopRequireDefault(__webpack_require__(2096)),_testSupportUtils=__webpack_require__(27);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var NestedCheckbox=(_temp=_class=function(_Component){function NestedCheckbox(props,context){(0,_classCallCheck3.default)(this,NestedCheckbox);var _this=(0,_possibleConstructorReturn3.default)(this,(NestedCheckbox.__proto__||(0,_getPrototypeOf2.default)(NestedCheckbox)).call(this,props,context));return _this.handleExpansion=function(){_this.setState({expanded:!_this.state.expanded})},_this.state={expanded:!1},_this.styles={nestedCheckbox:{marginLeft:"20px"},switch:{display:"inline",marginRight:"5px"},selectAllContainer:{fontSize:"12px"},selectAll:{marginRight:"5px"}},_this}return(0,_inherits3.default)(NestedCheckbox,_Component),(0,_createClass3.default)(NestedCheckbox,[{key:"render",value:function(){var _this2=this,nestedItems=this.props.defaultItems.map(function(item){return _react2.default.createElement(_Switch2.default,{style:_this2.styles.nestedCheckbox,key:item,value:item,selected:_lodash2.default.includes(_this2.props.selectedItems,item),onClick:_this2.props.handleItemClick,appearance:"checkbox",size:"small"},_this2.props.processDisplayLabel?_this2.props.processDisplayLabel(item):item)}),numSelected=_lodash2.default.intersection(this.props.selectedItems,this.props.defaultItems).length,selectedState=0<numSelected&&numSelected<this.props.defaultItems.length?"some":0!==numSelected;return _react2.default.createElement("div",(0,_testSupportUtils.createTestHook)(__filename,name),0<=this.props.defaultItems.length&&_react2.default.createElement("div",{style:this.styles.selectAllContainer},_react2.default.createElement(_Switch2.default,{key:this.props.rootText,value:this.props.rootText,onClick:this.props.handleSelectAll,selected:selectedState,appearance:"checkbox",style:this.styles.switch,size:"small"}),_react2.default.createElement(_Clickable2.default,{onClick:this.handleExpansion,id:"expand-internal-logs"},this.state.expanded?_react2.default.createElement(_ChevronDown2.default,{style:this.styles.selectAll}):_react2.default.createElement(_ChevronRight2.default,{style:this.styles.selectAll})),this.props.rootText),this.state.expanded&&nestedItems)}}]),NestedCheckbox}(_react.Component),_class.propTypes={defaultItems:_propTypes2.default.array,selectedItems:_propTypes2.default.array,rootText:_propTypes2.default.string,handleItemClick:_propTypes2.default.func.isRequired,handleSelectAll:_propTypes2.default.func.isRequired,processDisplayLabel:_propTypes2.default.func},_class.defaultProps={defaultItems:[],selectedItems:[],rootText:"",processDisplayLabel:null},_temp);exports.default=NestedCheckbox,module.exports=exports.default}).call(this,"src/main/webapp/configure/common/components/NestedCheckbox.js")},2095:function(module,exports,__webpack_require__){
/*!
 * Copyright © 2018 Splunk Inc.
 * SPLUNK CONFIDENTIAL – Use or disclosure of this material in whole or in part
 * without a valid written license from Splunk Inc. is PROHIBITED.
 */
module.exports=function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=41)}({0:function(module,exports){module.exports=__webpack_require__(0)},1:function(module,exports){module.exports=__webpack_require__(2)},2:function(module,exports){module.exports=__webpack_require__(58)},41:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"default",function(){return ChevronRight});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_splunk_ui_utils_i18n__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_splunk_react_icons_SVG__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),_splunk_react_icons_SVG__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_splunk_react_icons_SVG__WEBPACK_IMPORTED_MODULE_2__),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function ChevronRight(props){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_splunk_react_icons_SVG__WEBPACK_IMPORTED_MODULE_2___default.a,_extends({screenReaderText:Object(_splunk_ui_utils_i18n__WEBPACK_IMPORTED_MODULE_1__._)("Chevron Right"),viewBox:"0 0 885 1500"},props),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path",{d:"M134.59 0l750 750-751.028 750L0 1365.41 615.41 750 0 134.59"}))}}})},2096:function(module,exports,__webpack_require__){
/*!
 * Copyright © 2018 Splunk Inc.
 * SPLUNK CONFIDENTIAL – Use or disclosure of this material in whole or in part
 * without a valid written license from Splunk Inc. is PROHIBITED.
 */
module.exports=function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=39)}({0:function(module,exports){module.exports=__webpack_require__(0)},1:function(module,exports){module.exports=__webpack_require__(2)},2:function(module,exports){module.exports=__webpack_require__(58)},39:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"default",function(){return ChevronDown});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_splunk_ui_utils_i18n__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_splunk_react_icons_SVG__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),_splunk_react_icons_SVG__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_splunk_react_icons_SVG__WEBPACK_IMPORTED_MODULE_2__),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function ChevronDown(props){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_splunk_react_icons_SVG__WEBPACK_IMPORTED_MODULE_2___default.a,_extends({screenReaderText:Object(_splunk_ui_utils_i18n__WEBPACK_IMPORTED_MODULE_1__._)("Chevron Down"),viewBox:"0 0 1500 885"},props),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path",{d:"M1500 134.59l-750 750L0 133.56 134.59 0 750 615.41 1365.41 0"}))}}})},2097:function(module,exports,__webpack_require__){"use strict";(function(__filename){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _class,_temp,_objectWithoutProperties3=_interopRequireDefault(__webpack_require__(46)),_defineProperty3=_interopRequireDefault(__webpack_require__(23)),_slicedToArray3=_interopRequireDefault(__webpack_require__(92)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(14)),_classCallCheck3=_interopRequireDefault(__webpack_require__(9)),_createClass3=_interopRequireDefault(__webpack_require__(12)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(8)),_inherits3=_interopRequireDefault(__webpack_require__(11)),_taggedTemplateLiteral3=_interopRequireDefault(__webpack_require__(44)),_templateObject=(0,_taggedTemplateLiteral3.default)(["\n  padding-top: 15px;\n"],["\n  padding-top: 15px;\n"]),_templateObject2=(0,_taggedTemplateLiteral3.default)(["\n  margin-top: 15px;\n"],["\n  margin-top: 15px;\n"]),_templateObject3=(0,_taggedTemplateLiteral3.default)(["\n  color: ",";\n  margin-left: 5px;\n"],["\n  color: ",";\n  margin-left: 5px;\n"]),_templateObject4=(0,_taggedTemplateLiteral3.default)(["\n  margin-left: 62px;\n"],["\n  margin-left: 62px;\n"]),_react2=_interopRequireDefault(__webpack_require__(0)),_propTypes2=_interopRequireDefault(__webpack_require__(1)),_styledComponents2=_interopRequireDefault(__webpack_require__(7)),_lodash2=_interopRequireDefault(__webpack_require__(16)),_Link2=_interopRequireDefault(__webpack_require__(57)),_Paragraph2=_interopRequireDefault(__webpack_require__(40)),_List2=_interopRequireDefault(__webpack_require__(591)),_ControlGroup2=_interopRequireDefault(__webpack_require__(64)),_i18n=__webpack_require__(2),_format=__webpack_require__(39),_WaitSpinner2=_interopRequireDefault(__webpack_require__(67)),_InfoCircle2=_interopRequireDefault(__webpack_require__(280)),_Metrics2=_interopRequireDefault(__webpack_require__(592)),_Events2=_interopRequireDefault(__webpack_require__(293)),_TabLayout2=_interopRequireDefault(__webpack_require__(199)),_CustomList2=_interopRequireDefault(__webpack_require__(202)),_CopyableConfigText2=_interopRequireDefault(__webpack_require__(237)),_commonUtils=__webpack_require__(24),_emUtils=__webpack_require__(26),_messageConstants=__webpack_require__(593),_stateConstants=__webpack_require__(15),_testSupportUtils=__webpack_require__(27),_DimensionMultiSelectContainer2=_interopRequireDefault(__webpack_require__(282)),_commonUtils2=__webpack_require__(73),_ConfigurationStatus2=_interopRequireDefault(__webpack_require__(236)),_ConfigureOptions2=_interopRequireDefault(__webpack_require__(939)),_CustomizeInputsModal2=_interopRequireDefault(__webpack_require__(594)),_AgentRemoveInfo2=_interopRequireDefault(__webpack_require__(595)),_utils=__webpack_require__(294),_utils2=__webpack_require__(596);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var StyledWrapper=_styledComponents2.default.div(_templateObject),StyledInfoWrapper=_styledComponents2.default.div(_templateObject2),StyledOs=_styledComponents2.default.span(_templateObject3,function(props){return props.theme.syntaxGray}),StyledSupportedOsLinkWrapper=_styledComponents2.default.div(_templateObject4),UnixConfiguration=(_temp=_class=function(_React$Component){function UnixConfiguration(props){(0,_classCallCheck3.default)(this,UnixConfiguration);var _this=(0,_possibleConstructorReturn3.default)(this,(UnixConfiguration.__proto__||(0,_getPrototypeOf2.default)(UnixConfiguration)).call(this,props));return _this.hasError=function(){if("remove"===_this.state.activePanelId)return!1;var selectedLogsLength=_lodash2.default.keys(_this.props.selectedLogs).length,_this$state=_this.state,monitoringMachineName=_this$state.monitoringMachineName,hecPort=_this$state.hecPort,receiverPort=_this$state.receiverPort,hecToken=_this$state.hecToken,dockerSockLocation=_this$state.dockerSockLocation,ufInstallLocation=_this$state.ufInstallLocation;return!monitoringMachineName||!(0,_commonUtils.isNumeric)(hecPort)||!(0,_commonUtils.isNumeric)(receiverPort)&&0!==selectedLogsLength||!hecToken||!dockerSockLocation||!ufInstallLocation&&0!==selectedLogsLength},_this.renderSnippet=function(){var ufScript="",flattenedDimensions=_this.props.selectedDimensions.map(function(_ref){var _ref2=(0,_slicedToArray3.default)(_ref,2);return _ref2[0]+':"'+_ref2[1].trim()+'"'}).join(",").replace(/\$/g,"\\$"),isHECReady=_this.props.isHttpInputEnabled&&!_this.props.isFetchingToken,agentFileName=_lodash2.default.last(_this.props.packageLink?_this.props.packageLink.split("/"):[]);return 0!==_lodash2.default.size(_this.props.selectedLogs)&&(ufScript="collect"===_this.state.activePanelId?"&& bash install_uf.sh ":""),_this.props.packageLink?(0,_commonUtils.isEnterprise)()||isHECReady?_react2.default.createElement(_CopyableConfigText2.default,{onClick:_this.enableInputErrorVisibility,error:_this.hasError(),errorText:(0,_i18n._)("Fill in input fields with proper values")},"collect"===_this.state.activePanelId?"export SPLUNK_URL="+_this.state.monitoringMachineName+" && export HEC_PORT="+_this.state.hecPort+" && export RECEIVER_PORT="+_this.state.receiverPort+" && export INSTALL_LOCATION="+_this.state.ufInstallLocation+" && export HEC_TOKEN="+_this.state.hecToken+" "+(_this.state.isDockerMonitor?"&& export SAI_ENABLE_DOCKER=true":"&& export SAI_ENABLE_DOCKER=")+" "+(_this.state.isDockerMonitor&&_this.state.dockerSockLocation?"&& export SAI_DOCKER_SOCK="+_this.state.dockerSockLocation:"")+" && export DIMENSIONS="+flattenedDimensions+" METRIC_TYPES="+(0,_utils.stringifyMetrics)(_this.props.selectedMetrics,_this.props.metricsDisplayOrder)+" METRIC_OPTS="+(0,_utils.stringifyMetricsOpts)(_this.props.selectedMetrics,_this.props.metricsDisplayOrder)+" LOG_SOURCES="+(0,_utils.stringifyLogs)(_this.props.selectedLogs)+" AUTHENTICATED_INSTALL="+(_this.state.useAuthenticatedInstall?"Yes":"No")+" && ":"","wget --no-check-certificate "+window.location.protocol+"//"+window.location.hostname+":"+window.location.port+_this.props.packageLink+" && tar -xzf "+agentFileName+" || gunzip -c unix-agent.tgz | tar xvf - && cd unix-agent "+ufScript+("collect"===_this.state.activePanelId?"&& bash install_agent.sh":"&& bash uninstall_agent.sh")+" && cd .. && rm -rf unix-agent && rm -rf unix-agent.tgz"):_react2.default.createElement("div",null,_react2.default.createElement(_WaitSpinner2.default,{size:"medium"})):_react2.default.createElement("div",null,_messageConstants.INSTALL_AGENT_FETCH_ERROR)},_this.openCustomizeInputsModal=function(){_this.setState({isCustomizeInputsModalOpen:!0}),_this.props.loadAllSourceTypes()},_this.closeCustomizeInputsModal=function(){_this.setState({isCustomizeInputsModalOpen:!1})},_this.enableInputErrorVisibility=function(){_this.setState({isInputErrorVisible:_this.hasError()})},_this.handleTabChange=function(e,data){_this.setState(function(prevState){return{activePanelId:data.activePanelId,dockerDisable:!prevState.dockerDisable}},function(){_this.setState({isInputErrorVisible:_this.hasError()})})},_this.handleAllowUnauthenticatedInstall=function(){_this.setState(function(prevState){return{useAuthenticatedInstall:!prevState.useAuthenticatedInstall}})},_this.handleDockerMonitor=function(){_this.setState(function(prevState){return{isDockerMonitor:!prevState.isDockerMonitor}},function(){_this.props.clearDockerSockPath()})},_this.handleUpdateFormData=function(e,_ref3){var value=_ref3.value,name=_ref3.name;_this.setState((0,_defineProperty3.default)({},name,value))},_this.styles={title:{fontSize:14,fontWeight:600},InfoCircleStyle:{margin:"0px 15px 0px 30px"}},_this.state={isCustomizeInputsModalOpen:!1,isInputErrorVisible:!1,activePanelId:"collect",useAuthenticatedInstall:!0,isDockerMonitor:!1,dockerDisable:!1,monitoringMachineName:props.monitoringMachineName,hecToken:props.hecToken,hecPort:props.hecPort,receiverPort:props.receiverPort,dockerSockLocation:props.dockerSockLocation,ufInstallLocation:props.ufInstallLocation},_this}return(0,_inherits3.default)(UnixConfiguration,_React$Component),(0,_createClass3.default)(UnixConfiguration,[{key:"componentDidUpdate",value:function(prevProps){this.state.hecPort||prevProps.hecPort===this.props.hecPort||this.setState({hecPort:this.props.hecPort}),!this.state.hecToken&&this.props.hecToken&&""===prevProps.hecToken&&this.setState({hecToken:this.props.hecToken})}},{key:"render",value:function(){var selectedMetricsLength=_lodash2.default.filter(this.props.selectedMetrics,"selected").length,selectedLogsLength=_lodash2.default.keys(this.props.selectedLogs).length,isFormFieldDisabled=!("collect"===this.state.activePanelId),isReceiverPortRequired=0!==selectedLogsLength;return _react2.default.createElement(StyledWrapper,(0,_testSupportUtils.createTestHook)(__filename,name),_react2.default.createElement(_CustomizeInputsModal2.default,{handleRequestClose:this.closeCustomizeInputsModal,open:this.state.isCustomizeInputsModalOpen,updateCustomMetricsAndLogs:this.props.updateUnixCustomMetricsAndLogs,sourceTypes:this.props.sourceTypes,selectedLogs:this.props.selectedLogs,selectedMetrics:this.props.selectedMetrics,internalLogs:_stateConstants.UNIX_INTERNAL_LOGS,defaultLogs:_stateConstants.UNIX_SELECTED_LOGS,metricsDisplayOrder:this.props.metricsDisplayOrder,isValidPath:_utils2.isValidNixPath}),_react2.default.createElement(_Paragraph2.default,{style:{marginLeft:"25px",marginBottom:"0px"}},(0,_i18n._)("Follow the instructions to install an agent on your Linux machine.")),_react2.default.createElement(StyledInfoWrapper,null,_react2.default.createElement("div",null,_react2.default.createElement(_InfoCircle2.default,{style:this.styles.InfoCircleStyle,size:1.25}),(0,_format.sprintf)((0,_i18n._)("Supported OS types: %(types)s"),{types:_stateConstants.SUPPORTED_NIX_OS.join(", ")})),_react2.default.createElement(StyledSupportedOsLinkWrapper,null,(0,_i18n._)("For specific version support see documentation.")," ",_react2.default.createElement(_Link2.default,{openInNewContext:!0,to:(0,_commonUtils2.getDocsURL)("Install/SystemRequirements#Operating_system_support_for_data_collection")},(0,_i18n._)("Operating system support for data collection")))),_react2.default.createElement(_CustomList2.default,null,_react2.default.createElement(_CustomList2.default.Item,{key:"options"},_react2.default.createElement("div",null,_react2.default.createElement(_Paragraph2.default,{style:this.styles.title},(0,_i18n._)("Specify configuration options")),_react2.default.createElement(_ControlGroup2.default,{label:(0,_i18n._)("Data to be collected")},_react2.default.createElement("div",{id:"metrics-logs-summary"},_react2.default.createElement(_Metrics2.default,{style:{fontSize:"20px",marginRight:"5px"}}),(0,_format.sprintf)((0,_emUtils.ungettext)("%d Metric","%d Metrics",selectedMetricsLength),selectedMetricsLength)," + "," ",_react2.default.createElement(_Events2.default,{style:{fontSize:"20px",margin:"0 5px"}}),(0,_format.sprintf)((0,_emUtils.ungettext)("%d Log source","%d Log sources",selectedLogsLength),selectedLogsLength),_react2.default.createElement(_Link2.default,{id:"open-custom-data-modal",onClick:this.openCustomizeInputsModal,style:{marginLeft:"15px"}},(0,_i18n._)("Customize")))),_react2.default.createElement(_ControlGroup2.default,{label:(0,_i18n._)("Dimensions"),help:_react2.default.createElement("span",null,(0,_i18n._)("Dimensions are key-value pairs you can use for troubleshooting, analyzing, and filtering hosts. For example, you can enter location:seattle or role:webserver."))},_react2.default.createElement(_DimensionMultiSelectContainer2.default,{multiselectStyle:{width:"100%"},allowNewDimensions:!0,disabled:isFormFieldDisabled})),_react2.default.createElement(_ConfigureOptions2.default,{monitoringMachineName:this.state.monitoringMachineName,hecPort:this.state.hecPort,receiverPort:this.state.receiverPort,ufInstallLocation:this.state.ufInstallLocation,hecToken:this.state.hecToken,dockerSockLocation:this.state.dockerSockLocation,isInputErrorVisible:this.state.isInputErrorVisible,isReceiverPortRequired:isReceiverPortRequired,handleAllowUnauthenticatedInstall:this.handleAllowUnauthenticatedInstall,handleDockerMonitor:this.handleDockerMonitor,isDockerMonitor:this.state.isDockerMonitor,dockerDisable:this.state.dockerDisable,useAuthenticatedInstall:this.state.useAuthenticatedInstall,onUpdateFormData:this.handleUpdateFormData,disabled:isFormFieldDisabled,showAuthenticatedInstallOption:!0}))),_react2.default.createElement(_CustomList2.default.Item,{key:"snippet"},_react2.default.createElement(_Paragraph2.default,{style:this.styles.title},(0,_i18n._)("Copy and paste the following into the command line of your entity")),_react2.default.createElement(_Paragraph2.default,null,(0,_i18n._)("This script must be run by user with root privileges, and it should also have the following dependencies available on the entity:")),_react2.default.createElement(_List2.default,null,_stateConstants.COLLECTOR_DEPENDENCIES.map(function(_ref4){var dependency=_ref4.dependency,os=_ref4.os;return _react2.default.createElement(_List2.default.Item,{key:dependency},dependency,os.length?_react2.default.createElement(StyledOs,null,"(",os.join(", "),")"):null)})),_react2.default.createElement(_TabLayout2.default,{activePanelId:this.state.activePanelId,onChange:this.handleTabChange},_react2.default.createElement(_TabLayout2.default.Panel,{label:(0,_i18n._)("Collect"),panelId:"collect",style:{marginLeft:"-10px"}},this.renderSnippet()),_react2.default.createElement(_TabLayout2.default.Panel,{label:(0,_i18n._)("Remove"),panelId:"remove"},this.renderSnippet()))),_react2.default.createElement(_CustomList2.default.Item,{key:"status"},"collect"===this.state.activePanelId?_react2.default.createElement("div",null,_react2.default.createElement(_Paragraph2.default,{style:this.styles.title},(0,_i18n._)("Once the script finishes running, verify your data connection.")),_react2.default.createElement(_Paragraph2.default,{"data-profiler-marker-id":"addDataPageProfilerMarker"},(0,_i18n._)("It may take up to 5 minutes to show entities in the UI.")),_react2.default.createElement(_ConfigurationStatus2.default,{connectedCount:this.props.connectedCount,newCount:this.props.newCount,initialFetchDone:this.props.initialFetchDone,handleCount:this.props.handleCount,entityType:_stateConstants.ENTITY_TYPE.UNIX})):_react2.default.createElement(_AgentRemoveInfo2.default,null))))}}]),UnixConfiguration}(_react2.default.Component),_class.propTypes={isHttpInputEnabled:_propTypes2.default.bool,isFetchingToken:_propTypes2.default.bool,monitoringMachineName:_propTypes2.default.string,hecPort:_propTypes2.default.string,hecToken:_propTypes2.default.string,receiverPort:_propTypes2.default.string,dockerSockLocation:_propTypes2.default.string,packageLink:_propTypes2.default.string,selectedDimensions:_propTypes2.default.arrayOf(_propTypes2.default.arrayOf(_propTypes2.default.string)),connectedCount:_propTypes2.default.number,newCount:_propTypes2.default.number,initialFetchDone:_propTypes2.default.bool,handleCount:_propTypes2.default.func,clearDockerSockPath:_propTypes2.default.func,loadAllSourceTypes:_propTypes2.default.func,sourceTypes:_propTypes2.default.arrayOf(_propTypes2.default.string),selectedMetrics:_propTypes2.default.object,selectedLogs:_propTypes2.default.object,updateUnixCustomMetricsAndLogs:_propTypes2.default.func.isRequired,metricsDisplayOrder:_propTypes2.default.arrayOf(_propTypes2.default.string),ufInstallLocation:_propTypes2.default.string},_class.defaultProps={isHttpInputEnabled:!1,isFetchingToken:!0,monitoringMachineName:"",hecPort:"",hecToken:"",dockerSockLocation:_stateConstants.DOCKER_SOCK_PATH,receiverPort:(0,_utils.getDefaultReceiverPort)(),ufInstallLocation:_stateConstants.UNIX_DEFAULT_DIR,packageLink:"",selectedDimensions:[],connectedCount:0,newCount:0,initialFetchDone:!1,handleCount:function(){},clearDockerSockPath:function(){},loadAllSourceTypes:null,sourceTypes:[],selectedLogs:_stateConstants.UNIX_SELECTED_LOGS,selectedMetrics:_stateConstants.UNIX_SELECTED_METRICS.reduce(function(result,_ref5){var metric=_ref5.metric,metricDetails=(0,_objectWithoutProperties3.default)(_ref5,["metric"]);return result[metric]=metricDetails,result},{}),metricsDisplayOrder:_stateConstants.UNIX_SELECTED_METRICS.map(function(obj){return obj.metric})},_temp);exports.default=UnixConfiguration,module.exports=exports.default}).call(this,"src/main/webapp/configure/os/components/UnixConfiguration.js")},2098:function(module,exports,__webpack_require__){"use strict";(function(__filename){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _class,_temp,_objectWithoutProperties3=_interopRequireDefault(__webpack_require__(46)),_extends3=_interopRequireDefault(__webpack_require__(6)),_defineProperty3=_interopRequireDefault(__webpack_require__(23)),_slicedToArray3=_interopRequireDefault(__webpack_require__(92)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(14)),_classCallCheck3=_interopRequireDefault(__webpack_require__(9)),_createClass3=_interopRequireDefault(__webpack_require__(12)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(8)),_inherits3=_interopRequireDefault(__webpack_require__(11)),_react2=_interopRequireDefault(__webpack_require__(0)),_propTypes2=_interopRequireDefault(__webpack_require__(1)),_lodash2=_interopRequireDefault(__webpack_require__(16)),_Text2=_interopRequireDefault(__webpack_require__(68)),_Link2=_interopRequireDefault(__webpack_require__(57)),_Paragraph2=_interopRequireDefault(__webpack_require__(40)),_List2=_interopRequireDefault(__webpack_require__(591)),_ControlGroup2=_interopRequireDefault(__webpack_require__(64)),_i18n=__webpack_require__(2),_format=__webpack_require__(39),_InfoCircle2=_interopRequireDefault(__webpack_require__(280)),_Metrics2=_interopRequireDefault(__webpack_require__(592)),_Events2=_interopRequireDefault(__webpack_require__(293)),_TabLayout2=_interopRequireDefault(__webpack_require__(199)),_CustomList2=_interopRequireDefault(__webpack_require__(202)),_CopyableConfigText2=_interopRequireDefault(__webpack_require__(237)),_colors=__webpack_require__(79),_emUtils=__webpack_require__(26),_messageConstants=__webpack_require__(593),_stateConstants=__webpack_require__(15),_testSupportUtils=__webpack_require__(27),_commonUtils=__webpack_require__(24),_DimensionMultiSelectContainer2=_interopRequireDefault(__webpack_require__(282)),_commonUtils2=__webpack_require__(73),_ConfigurationStatus2=_interopRequireDefault(__webpack_require__(236)),_CustomizeInputsModal2=_interopRequireDefault(__webpack_require__(594)),_AgentRemoveInfo2=_interopRequireDefault(__webpack_require__(595)),_utils=__webpack_require__(294),_utils2=__webpack_require__(596);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var WindowsConfiguration=(_temp=_class=function(_React$Component){function WindowsConfiguration(props){(0,_classCallCheck3.default)(this,WindowsConfiguration);var _this=(0,_possibleConstructorReturn3.default)(this,(WindowsConfiguration.__proto__||(0,_getPrototypeOf2.default)(WindowsConfiguration)).call(this,props));return _this.hasError=function(){if("remove"===_this.state.activePanelId)return!1;var _this$state=_this.state,monitoringMachineName=_this$state.monitoringMachineName,displayInstallDir=_this$state.displayInstallDir,receiverPort=_this$state.receiverPort;return!((0,_emUtils.isSplunkCloud)()||monitoringMachineName&&displayInstallDir&&(0,_commonUtils.isNumeric)(receiverPort))},_this.renderSnippet=function(){var flattenedDimensions=_this.props.selectedDimensions.map(function(_ref){var _ref2=(0,_slicedToArray3.default)(_ref,2);return _ref2[0]+":"+('`"'+_ref2[1].trim()+'`"')});flattenedDimensions=flattenedDimensions.join(" ").replace(/:/g,"::").replace(/\$/g,"`$");var agentFileName=_this.props.packageLink?_this.props.packageLink.replace("unix_agent/unix-agent.tgz","windows_scripts/$file"):"";return _this.props.packageLink?"collect"===_this.state.activePanelId?_react2.default.createElement(_CopyableConfigText2.default,{onClick:_this.enableInputErrorVisibility,error:_this.hasError(),errorText:(0,_i18n._)("Fill in input fields with proper values.")},'$env:SPLUNK_URL="'+_this.state.monitoringMachineName+'" ; $env:RECEIVER_PORT="'+_this.state.receiverPort+'" ; $env:DIMENSIONS="'+flattenedDimensions+'" ; $env:SPLUNK_HOME="'+_this.state.displayInstallDir+'"','; $env:METRICS="'+(0,_utils.stringifyMetrics)(_this.props.selectedWindowsMetrics,_this.props.metricsDisplayOrder)+'"','; $env:PER_CPU="'+_this.stringifyOpts(_this.props.selectedWindowsMetrics)+'"','; $env:LOG_SOURCES="'+(0,_utils.stringifyLogs)(_this.props.selectedWindowsLogs)+'"',"; $web=New-Object Net.WebClient; $path=Convert-Path .; [System.Net.ServicePointManager]::ServerCertificateValidationCallback={$true}; [Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12",' ; $files="install_uf.ps1","install_uf_script.ps1"; Foreach($file in $files) { $web.DownloadFile("'+window.location.protocol+"//"+window.location.hostname+":"+window.location.port+agentFileName+'",$path+"\\$file")}; [System.Net.ServicePointManager]::ServerCertificateValidationCallback = $null; if ($?) { .\\install_uf.ps1 }'):_react2.default.createElement(_CopyableConfigText2.default,{onClick:_this.enableInputErrorVisibility,errorText:(0,_i18n._)("Fill in empty fields.")},'wmic product where name="UniversalForwarder" call uninstall'):_react2.default.createElement("div",null,(0,_i18n._)(_messageConstants.INSTALL_AGENT_FETCH_ERROR))},_this.handleUpdateFormData=function(e,_ref3){var value=_ref3.value,name=_ref3.name;_this.setState((0,_defineProperty3.default)({},name,value))},_this.openCustomizeInputsModal=function(){_this.setState({isCustomizeInputsModalOpen:!0}),_this.props.loadAllSourceTypes()},_this.closeCustomizeInputsModal=function(){_this.setState({isCustomizeInputsModalOpen:!1})},_this.enableInputErrorVisibility=function(){_this.setState({isInputErrorVisible:_this.hasError()})},_this.isInputErrorDisplayed=function(value){var shouldBeNumeric=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return!!_this.state.isInputErrorVisible&&(!value||!!shouldBeNumeric&&!(0,_commonUtils.isNumeric)(value))},_this.stringifyOpts=function(metricsObject){return"cpu.by_cpu"===(0,_utils.stringifyMetricsOpts)(metricsObject,_this.props.metricsDisplayOrder)[0]},_this.handleTabChange=function(e,data){_this.setState({activePanelId:data.activePanelId},function(){_this.setState({isInputErrorVisible:_this.hasError()})})},_this.styles={title:{fontSize:14,fontWeight:600},InfoCircleStyle:{margin:"0px 15px 0px 30px"}},_this.state={isCustomizeInputsModalOpen:!1,isInputErrorVisible:!1,activePanelId:"collect",monitoringMachineName:props.monitoringMachineName,receiverPort:props.receiverPort,displayInstallDir:props.displayInstallDir},_this}return(0,_inherits3.default)(WindowsConfiguration,_React$Component),(0,_createClass3.default)(WindowsConfiguration,[{key:"render",value:function(){var selectedMetricsLength=_lodash2.default.filter(this.props.selectedWindowsMetrics,"selected").length,selectedLogsLength=_lodash2.default.keys(this.props.selectedWindowsLogs).length,isFormFieldDisabled=!("collect"===this.state.activePanelId),dependencies="collect"===this.state.activePanelId?_stateConstants.WINDOWS_COLLECTOR_DEPENDENCIES:_stateConstants.WINDOWS_REMOVE_AGENT_DEPENDENCIES;return _react2.default.createElement("div",(0,_extends3.default)({style:{paddingTop:"15px"}},(0,_testSupportUtils.createTestHook)(__filename,name)),_react2.default.createElement(_CustomizeInputsModal2.default,{handleRequestClose:this.closeCustomizeInputsModal,open:this.state.isCustomizeInputsModalOpen,updateCustomMetricsAndLogs:this.props.updateWindowsCustomMetricsAndLogs,sourceTypes:this.props.sourceTypes,selectedLogs:this.props.selectedWindowsLogs,selectedMetrics:this.props.selectedWindowsMetrics,internalLogs:_stateConstants.WINDOWS_INTERNAL_LOGS,defaultLogs:_stateConstants.WINDOWS_SELECTED_LOGS,metricsDisplayOrder:this.props.metricsDisplayOrder,isValidPath:_utils2.isValidWindowsPath}),_react2.default.createElement(_Paragraph2.default,{style:{marginLeft:"25px",marginBottom:"0px"}},(0,_i18n._)("Follow the instructions to install an agent on your Windows machine.")),_react2.default.createElement("div",{style:{marginTop:"20px "}},_react2.default.createElement(_InfoCircle2.default,{style:this.styles.InfoCircleStyle,size:1.25,color:_colors.INFO_ICON}),(0,_format.sprintf)((0,_i18n._)("Supported OS types: %(types)s"),{types:_stateConstants.SUPPORTED_WINDOWS_OS.join(", ")})),_react2.default.createElement(_CustomList2.default,null,_react2.default.createElement(_CustomList2.default.Item,null,_react2.default.createElement("div",null,_react2.default.createElement(_Paragraph2.default,{style:this.styles.title},(0,_i18n._)("Specify configuration options")),_react2.default.createElement(_ControlGroup2.default,{label:(0,_i18n._)("Data to be collected")},_react2.default.createElement("div",{id:"metrics-logs-summary",style:{paddingTop:"5px"}},_react2.default.createElement(_Metrics2.default,{style:{fontSize:"20px",marginRight:"5px"}}),(0,_format.sprintf)((0,_emUtils.ungettext)("%d Metric","%d Metrics",selectedMetricsLength),selectedMetricsLength)," + "," ",_react2.default.createElement(_Events2.default,{style:{fontSize:"20px",margin:"0 5px"}}),(0,_format.sprintf)((0,_emUtils.ungettext)("%d Log source","%d Log sources",selectedLogsLength),selectedLogsLength),_react2.default.createElement(_Link2.default,{id:"open-custom-data-modal",onClick:this.openCustomizeInputsModal,style:{marginLeft:"15px"}},(0,_i18n._)("Customize")))),_react2.default.createElement(_ControlGroup2.default,{label:(0,_i18n._)("Dimensions"),help:_react2.default.createElement("span",null,(0,_i18n._)("Dimensions are key-value pairs you can use for troubleshooting, analyzing, and filtering hosts. For example, you can enter location:seattle or role:webserver."))},_react2.default.createElement(_DimensionMultiSelectContainer2.default,{multiselectStyle:{width:"100%"},allowNewDimensions:!0,disabled:isFormFieldDisabled})),!(0,_emUtils.isSplunkCloud)()&&_react2.default.createElement("div",null,_react2.default.createElement(_ControlGroup2.default,{label:(0,_i18n._)("Monitoring machine"),help:this.isInputErrorDisplayed(this.state.monitoringMachineName)?_react2.default.createElement("span",null,(0,_i18n._)("Host name is required to use the Easy Deployment Script")):_react2.default.createElement("span",null,(0,_i18n._)("Specify the hostname or IP address of the system you want to send data to.")),error:this.isInputErrorDisplayed(this.state.monitoringMachineName)},_react2.default.createElement(_Text2.default,{name:"monitoringMachineName",inputId:"monitoring-machine-input",canClear:!0,value:this.state.monitoringMachineName,placeholder:(0,_i18n._)("Hostname or IP address"),onChange:this.handleUpdateFormData,error:this.isInputErrorDisplayed(this.state.monitoringMachineName),disabled:isFormFieldDisabled})),_react2.default.createElement(_ControlGroup2.default,{label:(0,_i18n._)("Receiver port"),help:this.isInputErrorDisplayed(this.state.receiverPort,!0)?_react2.default.createElement("span",null,(0,_i18n._)("Numeric value for Receiver port is required to use the Easy Deployment Script")):_react2.default.createElement("span",null,(0,_i18n._)("Enter the receiver port of the system you want to send log data to. The recommended port is 9997.")),error:this.isInputErrorDisplayed(this.state.receiverPort,!0)},_react2.default.createElement(_Text2.default,{name:"receiverPort",inputId:"receiver-input",canClear:!0,value:this.state.receiverPort,placeholder:(0,_i18n._)("Receiver port"),onChange:this.handleUpdateFormData,error:this.isInputErrorDisplayed(this.state.receiverPort,!0),disabled:isFormFieldDisabled})),_react2.default.createElement(_ControlGroup2.default,{label:(0,_i18n._)("Install Location"),help:this.isInputErrorDisplayed(this.state.displayInstallDir)?_react2.default.createElement("span",null,(0,_i18n._)("Install location is required to use the Easy Deployment Script")):_react2.default.createElement("span",null,(0,_format.sprintf)((0,_i18n._)("The location where the script installs the %(packageName)s agent for log and metrics collection"),{packageName:(0,_commonUtils2.getPackageName)()})),error:this.isInputErrorDisplayed(this.state.displayInstallDir)},_react2.default.createElement(_Text2.default,{id:"windows-install-location",name:"displayInstallDir",inputId:"monitoring-install-dir",canClear:!0,value:this.state.displayInstallDir,placeholder:(0,_i18n._)("Install directory"),onChange:this.handleUpdateFormData,error:this.isInputErrorDisplayed(this.state.displayInstallDir),disabled:isFormFieldDisabled}))))),_react2.default.createElement(_CustomList2.default.Item,null,_react2.default.createElement(_Paragraph2.default,{style:this.styles.title},(0,_i18n._)("Copy and paste the following into the command line of your entity")),_react2.default.createElement(_Paragraph2.default,null,(0,_i18n._)("This script must be run by user with administrator privileges, and it should also have the following dependencies available on the entity:")),_react2.default.createElement(_List2.default,null,dependencies.map(function(dependency){return _react2.default.createElement(_List2.default.Item,{key:dependency},(0,_i18n._)(dependency))})),_react2.default.createElement(_TabLayout2.default,{activePanelId:this.state.activePanelId,onChange:this.handleTabChange},_react2.default.createElement(_TabLayout2.default.Panel,{label:(0,_i18n._)("Collect"),panelId:"collect",style:{marginLeft:"-10px"}},this.renderSnippet()),_react2.default.createElement(_TabLayout2.default.Panel,{label:(0,_i18n._)("Remove"),panelId:"remove"},this.renderSnippet()))),_react2.default.createElement(_CustomList2.default.Item,null,"collect"===this.state.activePanelId?_react2.default.createElement("div",null,_react2.default.createElement(_Paragraph2.default,{style:this.styles.title},(0,_i18n._)("Once the script finishes running, verify your data connection.")),_react2.default.createElement(_Paragraph2.default,null,(0,_i18n._)("It may take up to 5 minutes to show entities in the UI.")),_react2.default.createElement(_ConfigurationStatus2.default,{connectedCount:this.props.connectedCount,newCount:this.props.newCount,initialFetchDone:this.props.initialFetchDone,handleCount:this.props.handleCount,entityType:_stateConstants.ENTITY_TYPE.WINDOWS})):_react2.default.createElement(_AgentRemoveInfo2.default,null))))}}]),WindowsConfiguration}(_react2.default.Component),_class.propTypes={monitoringMachineName:_propTypes2.default.string,displayInstallDir:_propTypes2.default.string,receiverPort:_propTypes2.default.string,packageLink:_propTypes2.default.string,selectedDimensions:_propTypes2.default.arrayOf(_propTypes2.default.arrayOf(_propTypes2.default.string)),connectedCount:_propTypes2.default.number,newCount:_propTypes2.default.number,initialFetchDone:_propTypes2.default.bool,handleCount:_propTypes2.default.func,loadAllSourceTypes:_propTypes2.default.func,sourceTypes:_propTypes2.default.arrayOf(_propTypes2.default.string),selectedWindowsMetrics:_propTypes2.default.object,selectedWindowsLogs:_propTypes2.default.object,updateWindowsCustomMetricsAndLogs:_propTypes2.default.func.isRequired,metricsDisplayOrder:_propTypes2.default.arrayOf(_propTypes2.default.string)},_class.defaultProps={monitoringMachineName:"",displayInstallDir:_stateConstants.WINDOWS_DEFAULT_DIR,receiverPort:(0,_utils.getDefaultReceiverPort)(),packageLink:"",selectedDimensions:[],connectedCount:0,newCount:0,initialFetchDone:!1,handleCount:function(){},loadAllSourceTypes:null,sourceTypes:[],selectedWindowsLogs:_stateConstants.WINDOWS_SELECTED_LOGS,selectedWindowsMetrics:_stateConstants.WINDOWS_SELECTED_METRICS.reduce(function(result,_ref4){var metric=_ref4.metric,metricDetails=(0,_objectWithoutProperties3.default)(_ref4,["metric"]);return result[metric]=metricDetails,result},{}),metricsDisplayOrder:_stateConstants.WINDOWS_SELECTED_METRICS.map(function(obj){return obj.metric})},_temp);exports.default=WindowsConfiguration,module.exports=exports.default}).call(this,"src/main/webapp/configure/os/components/WindowsConfiguration.js")},2099:function(module,exports,__webpack_require__){"use strict";(function(__filename){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _class,_temp,_objectWithoutProperties3=_interopRequireDefault(__webpack_require__(46)),_extends3=_interopRequireDefault(__webpack_require__(6)),_defineProperty3=_interopRequireDefault(__webpack_require__(23)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(14)),_classCallCheck3=_interopRequireDefault(__webpack_require__(9)),_createClass3=_interopRequireDefault(__webpack_require__(12)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(8)),_inherits3=_interopRequireDefault(__webpack_require__(11)),_react2=_interopRequireDefault(__webpack_require__(0)),_propTypes2=_interopRequireDefault(__webpack_require__(1)),_filter2=_interopRequireDefault(__webpack_require__(587)),_pick2=_interopRequireDefault(__webpack_require__(276)),_Text2=_interopRequireDefault(__webpack_require__(68)),_Link2=_interopRequireDefault(__webpack_require__(57)),_Paragraph2=_interopRequireDefault(__webpack_require__(40)),_ControlGroup2=_interopRequireDefault(__webpack_require__(64)),_i18n=__webpack_require__(2),_Events2=_interopRequireDefault(__webpack_require__(293)),_format=__webpack_require__(39),_emUtils=__webpack_require__(26),_commonUtils=__webpack_require__(24),_testSupportUtils=__webpack_require__(27),_CustomList2=_interopRequireDefault(__webpack_require__(202)),_CopyableConfigText2=_interopRequireDefault(__webpack_require__(237)),_stateConstants=__webpack_require__(15),_CustomizeObjectsModal2=_interopRequireDefault(__webpack_require__(940)),_utils=__webpack_require__(294),_ConfigureIndexOptions2=_interopRequireDefault(__webpack_require__(941)),_ConfigurationStatus2=_interopRequireDefault(__webpack_require__(236)),_SCKSecurityOptions2=_interopRequireDefault(__webpack_require__(942)),_SCKLoggingOptions2=_interopRequireDefault(__webpack_require__(943)),_SCKMetricsOptions2=_interopRequireDefault(__webpack_require__(944));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var KubernetesConfiguration=(_temp=_class=function(_React$Component){function KubernetesConfiguration(props){(0,_classCallCheck3.default)(this,KubernetesConfiguration);var _this=(0,_possibleConstructorReturn3.default)(this,(KubernetesConfiguration.__proto__||(0,_getPrototypeOf2.default)(KubernetesConfiguration)).call(this,props));return _this.updateTextFieldState=function(fieldName,value){_this.setState((0,_defineProperty3.default)({},fieldName,value))},_this.updateSwitchFieldState=function(fieldName){_this.setState(function(prevState){return(0,_defineProperty3.default)({},fieldName,!prevState[fieldName])})},_this.updateRadioListFieldState=function(fieldName,value){_this.setState((0,_defineProperty3.default)({},fieldName,value))},_this.openCustomizeObjectsModal=function(){_this.setState({isCustomizeObjectsModalOpen:!0})},_this.closeCustomizeObjectsModal=function(){_this.setState({isCustomizeObjectsModalOpen:!1})},_this.enableInputErrorVisibility=function(){_this.setState({isInputErrorVisible:_this.hasError()})},_this.isInputErrorDisplayed=function(value){var shouldBeNumeric=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return!!_this.state.isInputErrorVisible&&(!value||!!shouldBeNumeric&&!(0,_commonUtils.isNumeric)(value))},_this.hasError=function(){var _this$state=_this.state,monitoringMachineName=_this$state.monitoringMachineName,hecToken=_this$state.hecToken,hecPort=_this$state.hecPort,kubernetesNamespace=_this$state.kubernetesNamespace,helmReleaseName=_this$state.helmReleaseName,metricsIndex=_this$state.metricsIndex,logIndex=_this$state.logIndex,metaIndex=_this$state.metaIndex,clusterName=_this$state.clusterName;return!(monitoringMachineName&&(0,_commonUtils.isNumeric)(hecPort)&&hecToken&&kubernetesNamespace&&helmReleaseName&&metricsIndex&&logIndex&&metaIndex&&clusterName)},_this.state={monitoringMachineName:"",hecToken:props.hecToken,hecPort:props.hecPort,helmReleaseName:"",kubernetesNamespace:"",isCustomizeObjectsModalOpen:!1,clusterName:"",useGlobalInsecureSSL:!1,useObjectsInsecureSSL:!0,useMetricsInsecureSSL:!0,journaldPath:_stateConstants.K8S_DEFAULT_JOURNALD_PATH,kubeletProtocol:"https",metricsIndex:_stateConstants.K8S_DEFAULT_INDEXES.METRICS_INDEX,logIndex:_stateConstants.K8S_DEFAULT_INDEXES.LOG_INDEX,metaIndex:_stateConstants.K8S_DEFAULT_INDEXES.META_INDEX,isInputErrorVisible:!1},_this.styles={title:{fontSize:14,fontWeight:600},InfoCircleStyle:{margin:"0px 15px 0px 30px"},outerDivStyle:{paddingTop:"15px"},paragraphStyle:{marginLeft:"25px",marginBottom:"0px"}},_this.helmReleaseNameRegex=RegExp(/^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$/),_this.coreMetrics=(0,_filter2.default)(_stateConstants.K8S_SELECTED_METRICS,["apiGroup","core"]).map(function(obj){return obj.metric}),_this.appsMetrics=(0,_filter2.default)(_stateConstants.K8S_SELECTED_METRICS,["apiGroup","apps"]).map(function(obj){return obj.metric}),_this}return(0,_inherits3.default)(KubernetesConfiguration,_React$Component),(0,_createClass3.default)(KubernetesConfiguration,[{key:"render",value:function(){var _this2=this,selectedObjectsLength=(0,_filter2.default)(this.props.selectedK8sObjects,"selected").length,coreObjects=(0,_pick2.default)(this.props.selectedK8sObjects,this.coreMetrics),appsObjects=(0,_pick2.default)(this.props.selectedK8sObjects,this.appsMetrics),setupHelmElement=_react2.default.createElement(_CustomList2.default.Item,null,_react2.default.createElement("div",null,_react2.default.createElement(_Paragraph2.default,{style:this.styles.title},(0,_i18n._)("Set up Helm")),_react2.default.createElement(_Paragraph2.default,null,(0,_i18n._)("If you haven't already, install Helm.")," ",_react2.default.createElement(_Link2.default,{openInNewContext:!0,to:"https://docs.helm.sh/using_helm"},(0,_i18n._)("Helm Quickstart Guide"))))),configOptionsElement=_react2.default.createElement(_CustomList2.default.Item,null,_react2.default.createElement(_CustomizeObjectsModal2.default,{handleRequestClose:this.closeCustomizeObjectsModal,open:this.state.isCustomizeObjectsModalOpen,updateCustomObjects:this.props.updateK8sObjects,selectedObjects:this.props.selectedK8sObjects,objectsDisplayOrder:this.props.objectsDisplayOrder}),_react2.default.createElement(_Paragraph2.default,{style:this.styles.title},(0,_i18n._)("Specify configuration options")),_react2.default.createElement(_ControlGroup2.default,{label:(0,_i18n._)("Data to be collected")},_react2.default.createElement("div",{id:"metrics-logs-summary"},_react2.default.createElement(_Events2.default,{style:{fontSize:"20px",marginRight:"5px"}}),(0,_format.sprintf)((0,_emUtils.ungettext)("%d Object","%d Objects",selectedObjectsLength),selectedObjectsLength),_react2.default.createElement(_Link2.default,{id:"open-custom-data-modal",onClick:this.openCustomizeObjectsModal,style:{marginLeft:"15px"}},(0,_i18n._)("Customize Objects")))),_react2.default.createElement(_ControlGroup2.default,{label:(0,_i18n._)("Monitoring machine"),help:this.isInputErrorDisplayed(this.state.monitoringMachineName)?_react2.default.createElement("span",null," ",(0,_i18n._)("A FQDN or IP address is required to use the script.")," "):_react2.default.createElement("span",null,(0,_i18n._)("Specify the FQDN or IP address of the system you want to send data to. Do not enter a hostname.")),error:this.isInputErrorDisplayed(this.state.monitoringMachineName)},_react2.default.createElement(_Text2.default,{inputId:"monitoring-machine-input",name:"monitoringMachineName",canClear:!0,value:this.state.monitoringMachineName,placeholder:(0,_i18n._)("FQDN or IP (hostname is insufficient)"),onChange:function(e,_ref2){var name=_ref2.name,value=_ref2.value;return _this2.updateTextFieldState(name,value)},error:this.isInputErrorDisplayed(this.state.monitoringMachineName)})),(0,_commonUtils.isEnterprise)()&&_react2.default.createElement(_ControlGroup2.default,{label:(0,_i18n._)("HEC token"),help:this.isInputErrorDisplayed(this.state.hecToken)?_react2.default.createElement("span",null," ",(0,_i18n._)("An HEC token is required to use the script.")," "):_react2.default.createElement("span",null,(0,_i18n._)("Enter the HEC token you configured to send data to the app. The HEC token's sourcetype must be em_metrics.")," ",_react2.default.createElement(_Link2.default,{openInNewContext:!0,to:"../../manager/splunk_app_infrastructure/http-eventcollector"},(0,_i18n._)("Global HEC settings must have tokens enabled."))),error:this.isInputErrorDisplayed(this.state.hecToken)},_react2.default.createElement(_Text2.default,{inputId:"hec-token-input",name:"hecToken",canClear:!0,value:this.state.hecToken,placeholder:(0,_i18n._)("HEC token"),onChange:function(e,_ref3){var name=_ref3.name,value=_ref3.value;return _this2.updateTextFieldState(name,value)},error:this.isInputErrorDisplayed(this.state.hecToken)})),_react2.default.createElement(_ControlGroup2.default,{label:(0,_i18n._)("HEC port"),help:this.isInputErrorDisplayed(this.state.hecPort,!0)?_react2.default.createElement("span",null," ",(0,_i18n._)("An HEC port is required to use the script.")," "):_react2.default.createElement("span",null,(0,_i18n._)("Enter the HEC port of the system you want to send metrics data to. The recommended port is 8088.")),error:this.isInputErrorDisplayed(this.state.hecPort,!0)},_react2.default.createElement(_Text2.default,{name:"hecPort",inputId:"hec-input",canClear:!0,value:this.state.hecPort,placeholder:(0,_i18n._)("HEC port"),onChange:function(e,_ref4){var name=_ref4.name,value=_ref4.value;return _this2.updateTextFieldState(name,value)},error:this.isInputErrorDisplayed(this.state.hecPort,!0)})),_react2.default.createElement(_ControlGroup2.default,{label:(0,_i18n._)("Kubernetes namespace"),help:this.isInputErrorDisplayed(this.state.kubernetesNamespace)?_react2.default.createElement("span",null," ",(0,_i18n._)("A Kubernetes namespace is required to use the script.")," "):_react2.default.createElement("span",null,(0,_i18n._)("Enter the namespace where you want to deploy Splunk Connect for Kubernetes. Use a unique namespace. ")),error:this.isInputErrorDisplayed(this.state.kubernetesNamespace)},_react2.default.createElement(_Text2.default,{inputId:"kubernetes-namespace",name:"kubernetesNamespace",canClear:!0,value:this.state.kubernetesNamespace,placeholder:(0,_i18n._)("Kubernetes namespace"),onChange:function(e,_ref5){var name=_ref5.name,value=_ref5.value;return _this2.updateTextFieldState(name,value)},error:this.isInputErrorDisplayed(this.state.kubernetesNamespace)})),_react2.default.createElement(_ControlGroup2.default,{label:(0,_i18n._)("Cluster name"),help:this.isInputErrorDisplayed(this.state.clusterName)?_react2.default.createElement("span",null," ",(0,_i18n._)("A Kubernetes cluster name is required to use the script.")," "):_react2.default.createElement("span",null,(0,_i18n._)("Specify a unique name for the Kubernetes cluster.")),error:this.isInputErrorDisplayed(this.state.clusterName)},_react2.default.createElement(_Text2.default,{inputId:"cluster-name",name:"clusterName",canClear:!0,value:this.state.clusterName,placeholder:(0,_i18n._)("Cluster name"),onChange:function(e,_ref6){var name=_ref6.name,value=_ref6.value;return _this2.updateTextFieldState(name,value)},error:this.isInputErrorDisplayed(this.state.clusterName)})),_react2.default.createElement(_ControlGroup2.default,{label:(0,_i18n._)("Release name"),help:this.isInputErrorDisplayed(this.state.helmReleaseName)?_react2.default.createElement("span",null," ",(0,_i18n._)("A Helm release name is required to use the script.")," "):_react2.default.createElement("span",null,(0,_i18n._)("Enter a unique name for the Helm release. Use the release name to identify SCK in your cluster. The release name must consist of lower case alphanumeric characters, '-' or '.', and must start and end with an alphanumeric character.")),error:this.isInputErrorDisplayed(this.state.helmReleaseName)},_react2.default.createElement(_Text2.default,{inputId:"helm-release-name",name:"helmReleaseName",canClear:!0,value:this.state.helmReleaseName,placeholder:(0,_i18n._)("Helm release"),onChange:function(e,_ref7){var name=_ref7.name,value=_ref7.value;return _this2.updateTextFieldState(name,value)},error:this.state.helmReleaseName.length&&!this.helmReleaseNameRegex.test(this.state.helmReleaseName)||this.isInputErrorDisplayed(this.state.helmReleaseName)}))),kubernetesOptionsElement=_react2.default.createElement(_CustomList2.default.Item,null,_react2.default.createElement("div",null,_react2.default.createElement(_Paragraph2.default,{style:this.styles.title},(0,_i18n._)("Configure Kubernetes options")),_react2.default.createElement(_SCKSecurityOptions2.default,{hecInsecureSSLEnabled:this.state.useGlobalInsecureSSL,onToggleHecInsecureSSL:this.updateSwitchFieldState,objectsInsecureSSLEnabled:this.state.useObjectsInsecureSSL,onToggleObjectsInsecureSSL:this.updateSwitchFieldState,metricsInsecureSSLEnabled:this.state.useMetricsInsecureSSL,onToggleMetricsInsecureSSL:this.updateSwitchFieldState}),_react2.default.createElement(_Paragraph2.default,{style:this.styles.subtitle},(0,_i18n._)("Logging and Metrics Options")),_react2.default.createElement(_SCKLoggingOptions2.default,{journaldPath:this.state.journaldPath,onUpdateJournaldPath:this.updateTextFieldState,shouldDisplayError:this.isInputErrorDisplayed(this.state.journaldPath)}),_react2.default.createElement(_SCKMetricsOptions2.default,{kubeletProtocol:this.state.kubeletProtocol,onUpdateProtocol:this.updateRadioListFieldState}))),indexOptionsElement=_react2.default.createElement(_CustomList2.default.Item,null,_react2.default.createElement("div",null,_react2.default.createElement(_Paragraph2.default,{style:this.styles.title},(0,_i18n._)("Index Options")),_react2.default.createElement(_ConfigureIndexOptions2.default,{metricsIndex:this.state.metricsIndex,logIndex:this.state.logIndex,metaIndex:this.state.metaIndex,onChange:function(e,_ref8){var name=_ref8.name,value=_ref8.value;return _this2.updateTextFieldState(name,value)}}))),snippetElement=_react2.default.createElement(_CustomList2.default.Item,null,_react2.default.createElement(_Paragraph2.default,{style:this.styles.title},(0,_i18n._)("Run the configuration script on your command line")),_react2.default.createElement(_Paragraph2.default,null,(0,_i18n._)("Run this script in the terminal of your target machine. This script sets up your environment according to the specifications of your config file.")),_react2.default.createElement(_Paragraph2.default,null,(0,_i18n._)("After running the script, it may take up to 5 minutes for entities to appear in the UI.")),_react2.default.createElement(_CopyableConfigText2.default,{onClick:this.enableInputErrorVisibility,error:this.hasError(),errorText:(0,_i18n._)("Fill in input fields with proper values.")},"export MONITORING_MACHINE="+this.state.monitoringMachineName+" && export HEC_TOKEN="+this.state.hecToken+" && export HEC_PORT="+this.state.hecPort+" && export GLOBAL_HEC_INSECURE_SSL="+this.state.useGlobalInsecureSSL+" && export OBJECTS_INSECURE_SSL="+this.state.useObjectsInsecureSSL+" && export METRICS_INSECURE_SSL="+this.state.useMetricsInsecureSSL+" && export JOURNALD_PATH="+this.state.journaldPath+" && export KUBELET_PROTOCOL="+this.state.kubeletProtocol+" && export METRICS_INDEX="+this.state.metricsIndex+" && export LOG_INDEX="+this.state.logIndex+" && export META_INDEX="+this.state.metaIndex+" && export CLUSTER_NAME="+this.state.clusterName+" && export HELM_RELEASE_NAME="+this.state.helmReleaseName+" && export KUBERNETES_NAMESPACE="+this.state.kubernetesNamespace+" && export CORE_OBJ="+(0,_utils.stringifyMetrics)(coreObjects,this.coreMetrics)+" && export APPS_OBJ="+(0,_utils.stringifyMetrics)(appsObjects,this.appsMetrics)+' && files=("kubernetes_connect_template.yaml" "deploy_sck_k8s.sh") && for each in "${files[@]}"; do wget -O- '+(this.state.useGlobalInsecureSSL?"--no-check-certificate":"")+" "+window.location.protocol+"//"+window.location.hostname+":"+window.location.port+'/en-US/static/app/splunk_app_infrastructure/kubernetes_connect/"$each" > $each; done && wget https://github.com/splunk/splunk-connect-for-kubernetes/releases/download/1.2.0/splunk-connect-for-kubernetes-1.2.0.tgz -O splunk-connect-for-kubernetes.tgz && bash deploy_sck_k8s.sh')),connectedCountElement=_react2.default.createElement(_CustomList2.default.Item,null,_react2.default.createElement("div",null,_react2.default.createElement(_Paragraph2.default,{style:this.styles.title},(0,_i18n._)("Once the script finishes running, verify your data connection.")),_react2.default.createElement(_Paragraph2.default,null,(0,_i18n._)("It may take up to 5 minutes to show entities in the UI.")),_react2.default.createElement(_ConfigurationStatus2.default,{connectedCount:this.props.connectedCount,newCount:this.props.newCount,initialFetchDone:this.props.initialFetchDone,handleCount:this.props.handleCount,entityType:_stateConstants.ENTITY_TYPE.K8S_OR_OPENSHIFT})));return _react2.default.createElement("div",(0,_extends3.default)({style:this.styles.outerDivStyle},(0,_testSupportUtils.createTestHook)(__filename,name)),_react2.default.createElement(_Paragraph2.default,{style:this.styles.paragraphStyle},(0,_i18n._)("To monitor your Kubernetes deployment, follow the instructions below.")),(0,_commonUtils.isEnterprise)()?_react2.default.createElement(_CustomList2.default,null,setupHelmElement,configOptionsElement,kubernetesOptionsElement,indexOptionsElement,snippetElement,connectedCountElement):_react2.default.createElement(_CustomList2.default,null,setupHelmElement,configOptionsElement,kubernetesOptionsElement,snippetElement,connectedCountElement))}}]),KubernetesConfiguration}(_react2.default.Component),_class.propTypes={isHttpInputEnabled:_propTypes2.default.bool,isFetchingToken:_propTypes2.default.bool,hecPort:_propTypes2.default.string,hecToken:_propTypes2.default.string,selectedK8sObjects:_propTypes2.default.object,objectsDisplayOrder:_propTypes2.default.arrayOf(_propTypes2.default.string),updateK8sObjects:_propTypes2.default.func.isRequired,connectedCount:_propTypes2.default.number,newCount:_propTypes2.default.number,initialFetchDone:_propTypes2.default.bool,handleCount:_propTypes2.default.func},_class.defaultProps={isHttpInputEnabled:!1,isFetchingToken:!0,hecPort:"",hecToken:"",selectedK8sObjects:_stateConstants.K8S_SELECTED_METRICS.reduce(function(result,_ref9){var metric=_ref9.metric,objectDetails=(0,_objectWithoutProperties3.default)(_ref9,["metric"]);return result[metric]=objectDetails,result},{}),objectsDisplayOrder:_stateConstants.K8S_SELECTED_METRICS.map(function(obj){return obj.metric}),connectedCount:0,newCount:0,initialFetchDone:!1,handleCount:function(){}},_temp);exports.default=KubernetesConfiguration,module.exports=exports.default}).call(this,"src/main/webapp/configure/kubernetes/components/KubernetesConfiguration.js")},2100:function(module,exports,__webpack_require__){"use strict";(function(__filename){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _class,_temp,_objectWithoutProperties3=_interopRequireDefault(__webpack_require__(46)),_extends3=_interopRequireDefault(__webpack_require__(6)),_defineProperty3=_interopRequireDefault(__webpack_require__(23)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(14)),_classCallCheck3=_interopRequireDefault(__webpack_require__(9)),_createClass3=_interopRequireDefault(__webpack_require__(12)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(8)),_inherits3=_interopRequireDefault(__webpack_require__(11)),_react2=_interopRequireDefault(__webpack_require__(0)),_propTypes2=_interopRequireDefault(__webpack_require__(1)),_filter2=_interopRequireDefault(__webpack_require__(587)),_pick2=_interopRequireDefault(__webpack_require__(276)),_Text2=_interopRequireDefault(__webpack_require__(68)),_Link2=_interopRequireDefault(__webpack_require__(57)),_Switch2=_interopRequireDefault(__webpack_require__(78)),_Paragraph2=_interopRequireDefault(__webpack_require__(40)),_ControlGroup2=_interopRequireDefault(__webpack_require__(64)),_Events2=_interopRequireDefault(__webpack_require__(293)),_format=__webpack_require__(39),_emUtils=__webpack_require__(26),_i18n=__webpack_require__(2),_commonUtils=__webpack_require__(24),_testSupportUtils=__webpack_require__(27),_CustomList2=_interopRequireDefault(__webpack_require__(202)),_CopyableConfigText2=_interopRequireDefault(__webpack_require__(237)),_stateConstants=__webpack_require__(15),_CustomizeObjectsModal2=_interopRequireDefault(__webpack_require__(940)),_ConfigureIndexOptions2=_interopRequireDefault(__webpack_require__(941)),_utils=__webpack_require__(294),_ConfigurationStatus2=_interopRequireDefault(__webpack_require__(236)),_SCKSecurityOptions2=_interopRequireDefault(__webpack_require__(942)),_SCKLoggingOptions2=_interopRequireDefault(__webpack_require__(943)),_SCKMetricsOptions2=_interopRequireDefault(__webpack_require__(944));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var OpenShiftConfiguration=(_temp=_class=function(_React$Component){function OpenShiftConfiguration(props){(0,_classCallCheck3.default)(this,OpenShiftConfiguration);var _this=(0,_possibleConstructorReturn3.default)(this,(OpenShiftConfiguration.__proto__||(0,_getPrototypeOf2.default)(OpenShiftConfiguration)).call(this,props));return _this.updateTextFieldState=function(fieldName,value){_this.setState((0,_defineProperty3.default)({},fieldName,value))},_this.updateSwitchFieldState=function(fieldName){_this.setState(function(prevState){return(0,_defineProperty3.default)({},fieldName,!prevState[fieldName])})},_this.updateRadioListFieldState=function(fieldName,value){_this.setState((0,_defineProperty3.default)({},fieldName,value))},_this.isInputErrorDisplayed=function(value){var shouldBeNumeric=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return!!_this.state.isInputErrorVisible&&(!value||!!shouldBeNumeric&&!(0,_commonUtils.isNumeric)(value))},_this.openCustomizeObjectsModal=function(){_this.setState({isCustomizeObjectsModalOpen:!0})},_this.closeCustomizeObjectsModal=function(){_this.setState({isCustomizeObjectsModalOpen:!1})},_this.enableInputErrorVisibility=function(){_this.setState({isInputErrorVisible:_this.hasError()})},_this.renderPendingEntityUIMessage=function(){return _this.state.sckDownloadOnly?null:_react2.default.createElement(_Paragraph2.default,null,(0,_i18n._)("After running the script, it may take up to 5 minutes for entities to appear in the UI."))},_this.hasError=function(){var _this$state=_this.state,monitoringMachine=_this$state.monitoringMachine,hecPort=_this$state.hecPort,hecToken=_this$state.hecToken,journaldPath=_this$state.journaldPath,metricsIndex=_this$state.metricsIndex,logIndex=_this$state.logIndex,metaIndex=_this$state.metaIndex,openShiftProject=_this$state.openShiftProject,clusterName=_this$state.clusterName;return!(monitoringMachine&&(0,_commonUtils.isNumeric)(hecPort)&&journaldPath&&hecToken&&metricsIndex&&logIndex&&metaIndex&&clusterName&&openShiftProject)},_this.state={monitoringMachine:"",hecToken:props.hecToken,hecPort:props.hecPort,openShiftProject:"",useGlobalInsecureSSL:!1,useObjectsInsecureSSL:!0,useMetricsInsecureSSL:!0,journaldPath:_stateConstants.K8S_DEFAULT_JOURNALD_PATH,kubeletProtocol:"https",metricsIndex:_stateConstants.K8S_DEFAULT_INDEXES.METRICS_INDEX,logIndex:_stateConstants.K8S_DEFAULT_INDEXES.LOG_INDEX,metaIndex:_stateConstants.K8S_DEFAULT_INDEXES.META_INDEX,isInputErrorVisible:!1,sckDownloadOnly:!1},_this.styles={title:{fontSize:14,fontWeight:600},subtitle:{fontWeight:500},outerDivStyle:{paddingTop:"15px"},paragraphStyle:{marginLeft:"25px",marginBottom:"0px"},events:{fontSize:"20px",marginRight:"5px"},codeStyle:{background:"#f4f4f4",color:"#E51670",fontFamily:"monospace"}},_this.coreMetrics=(0,_filter2.default)(_stateConstants.OPENSHIFT_SELECTED_OBJECTS,["apiGroup","core"]).map(function(obj){return obj.metric}),_this.appsMetrics=(0,_filter2.default)(_stateConstants.OPENSHIFT_SELECTED_OBJECTS,["apiGroup","apps"]).map(function(obj){return obj.metric}),_this}return(0,_inherits3.default)(OpenShiftConfiguration,_React$Component),(0,_createClass3.default)(OpenShiftConfiguration,[{key:"render",value:function(){var _this2=this,selectedObjectsLength=(0,_filter2.default)(this.props.selectedOpenShiftObjects,"selected").length,coreObjects=(0,_pick2.default)(this.props.selectedOpenShiftObjects,this.coreMetrics),appsObjects=(0,_pick2.default)(this.props.selectedOpenShiftObjects,this.appsMetrics),setupHelmElement=_react2.default.createElement(_CustomList2.default.Item,null,_react2.default.createElement("div",null,_react2.default.createElement(_Paragraph2.default,{style:this.styles.title},(0,_i18n._)("Prepare for deployment")),_react2.default.createElement(_Paragraph2.default,null,(0,_i18n._)("Install the")," ",_react2.default.createElement(_Link2.default,{openInNewContext:!0,to:"https://helm.sh/docs/using_helm/#installing-the-helm-client"},(0,_i18n._)("Helm client "))," ",(0,_i18n._)("and")," ",_react2.default.createElement(_Link2.default,{openInNewContext:!0,to:"https://docs.openshift.com/container-platform/3.11/cli_reference/get_started_cli.html"},(0,_i18n._)(" OpenShift Container Platform CLI"))," ",(0,_i18n._)("on a local machine you'll use to set up data collection.")," "),_react2.default.createElement(_Paragraph2.default,null,(0,_i18n._)("The script runs the "),_react2.default.createElement("span",{style:this.styles.codeStyle}," ",(0,_i18n._)("helm template")," ")," ",(0,_i18n._)(" command to render manifests locally. The script does not attempt to install Tiller on your cluster to deploy manifests.")),_react2.default.createElement(_ControlGroup2.default,{label:(0,_i18n._)("Download Config Only"),help:_react2.default.createElement("span",null," ",(0,_i18n._)("This option generates manifests but does not deploy them. If you enable this option, you have to manually deploy the manifests.")," ")},_react2.default.createElement(_Switch2.default,{id:"download-config-only",value:"sckDownloadOnly",appearance:"toggle",selected:this.state.sckDownloadOnly,onClick:function(e,_ref2){var value=_ref2.value;return _this2.updateSwitchFieldState(value)}})))),configOptionsElement=_react2.default.createElement(_CustomList2.default.Item,null,_react2.default.createElement(_CustomizeObjectsModal2.default,{handleRequestClose:this.closeCustomizeObjectsModal,open:this.state.isCustomizeObjectsModalOpen,updateCustomObjects:this.props.updateOpenShiftObjects,selectedObjects:this.props.selectedOpenShiftObjects,objectsDisplayOrder:this.props.objectsDisplayOrder}),_react2.default.createElement(_Paragraph2.default,{style:this.styles.title},(0,_i18n._)("Specify configuration options")),_react2.default.createElement(_ControlGroup2.default,{label:(0,_i18n._)("Data to be collected")},_react2.default.createElement("div",{id:"selected-objects-summary"},_react2.default.createElement(_Events2.default,{style:this.styles.events}),(0,_format.sprintf)((0,_emUtils.ungettext)("%d Object","%d Objects",selectedObjectsLength),selectedObjectsLength),_react2.default.createElement(_Link2.default,{id:"open-custom-data-modal",onClick:this.openCustomizeObjectsModal,style:{marginLeft:"15px"}},(0,_i18n._)("Customize Objects")))),_react2.default.createElement(_ControlGroup2.default,{label:(0,_i18n._)("Monitoring machine"),help:this.isInputErrorDisplayed(this.state.monitoringMachine)?_react2.default.createElement("span",null," ",(0,_i18n._)("A FQDN or IP address is required to use the script.")," "):_react2.default.createElement("span",null,(0,_i18n._)("Specify the FQDN or IP address of the system you want to send data to. Do not enter a hostname.")),error:this.isInputErrorDisplayed(this.state.monitoringMachine)},_react2.default.createElement(_Text2.default,{inputId:"monitoring-machine-input",name:"monitoringMachine",canClear:!0,value:this.state.monitoringMachine,placeholder:(0,_i18n._)("FQDN or IP (hostname is insufficient)"),onChange:function(e,_ref3){var name=_ref3.name,value=_ref3.value;return _this2.updateTextFieldState(name,value)},error:this.isInputErrorDisplayed(this.state.monitoringMachine)})),(0,_commonUtils.isEnterprise)()&&_react2.default.createElement(_ControlGroup2.default,{label:(0,_i18n._)("HEC token"),help:this.isInputErrorDisplayed(this.state.hecToken)?_react2.default.createElement("span",null," ",(0,_i18n._)("An HEC token is required to use the script.")," "):_react2.default.createElement("span",null,(0,_i18n._)("Enter the HEC token you configured to send data to the app. The HEC token's sourcetype must be em_metrics.")," ",_react2.default.createElement(_Link2.default,{openInNewContext:!0,to:"../../manager/splunk_app_infrastructure/http-eventcollector"},(0,_i18n._)("Global HEC settings must have tokens enabled."))),error:this.isInputErrorDisplayed(this.state.hecToken)},_react2.default.createElement(_Text2.default,{inputId:"hec-token-input",name:"hecToken",canClear:!0,value:this.state.hecToken,placeholder:(0,_i18n._)("HEC token"),onChange:function(e,_ref4){var name=_ref4.name,value=_ref4.value;return _this2.updateTextFieldState(name,value)},error:this.isInputErrorDisplayed(this.state.hecToken)})),_react2.default.createElement(_ControlGroup2.default,{label:(0,_i18n._)("HEC port"),help:this.isInputErrorDisplayed(this.state.hecPort,!0)?_react2.default.createElement("span",null," ",(0,_i18n._)("An HEC port is required to use the script.")," "):_react2.default.createElement("span",null,(0,_i18n._)("Enter the HEC port of the system you want to send metrics data to. The recommended port is 8088.")),error:this.isInputErrorDisplayed(this.state.hecPort,!0)},_react2.default.createElement(_Text2.default,{name:"hecPort",inputId:"hec-input",canClear:!0,value:this.state.hecPort,placeholder:(0,_i18n._)("HEC port"),onChange:function(e,_ref5){var name=_ref5.name,value=_ref5.value;return _this2.updateTextFieldState(name,value)},error:this.isInputErrorDisplayed(this.state.hecPort,!0)})),_react2.default.createElement(_ControlGroup2.default,{label:(0,_i18n._)("Cluster name"),help:this.isInputErrorDisplayed(this.state.clusterName)?_react2.default.createElement("span",null," ",(0,_i18n._)("A OpenShift cluster name is required to use the script.")," "):_react2.default.createElement("span",null,(0,_i18n._)("Specify a name for the cluster. Use a unique name. This creates a cluster name dimension to track entities from the cluster.")),error:this.isInputErrorDisplayed(this.state.clusterName)},_react2.default.createElement(_Text2.default,{inputId:"cluster-name",name:"clusterName",canClear:!0,value:this.state.clusterName,placeholder:(0,_i18n._)("Cluster name"),onChange:function(e,_ref6){var name=_ref6.name,value=_ref6.value;return _this2.updateTextFieldState(name,value)},error:this.isInputErrorDisplayed(this.state.clusterName)})),_react2.default.createElement(_ControlGroup2.default,{label:(0,_i18n._)("OpenShift project"),help:this.isInputErrorDisplayed(this.state.openShiftProject)?_react2.default.createElement("span",null," ",(0,_i18n._)("An OpenShift project name is required to use the script.")," "):_react2.default.createElement("span",null,(0,_i18n._)("Enter a unique name for the project. The project contains Splunk Connect for Kubernetes objects, policies, constraints, and service accounts.")),error:this.isInputErrorDisplayed(this.state.openShiftProject)},_react2.default.createElement(_Text2.default,{inputId:"openshift-project",name:"openShiftProject",canClear:!0,value:this.state.openShiftProject,placeholder:(0,_i18n._)("OpenShift Project"),onChange:function(e,_ref7){var name=_ref7.name,value=_ref7.value;return _this2.updateTextFieldState(name,value)},error:this.isInputErrorDisplayed(this.state.openShiftProject)}))),openShiftOptionsElement=_react2.default.createElement(_CustomList2.default.Item,null,_react2.default.createElement("div",null,_react2.default.createElement(_Paragraph2.default,{style:this.styles.title},(0,_i18n._)("Configure Openshift options")),_react2.default.createElement(_SCKSecurityOptions2.default,{hecInsecureSSLEnabled:this.state.useGlobalInsecureSSL,onToggleHecInsecureSSL:this.updateSwitchFieldState,objectsInsecureSSLEnabled:this.state.useObjectsInsecureSSL,onToggleObjectsInsecureSSL:this.updateSwitchFieldState,metricsInsecureSSLEnabled:this.state.useMetricsInsecureSSL,onToggleMetricsInsecureSSL:this.updateSwitchFieldState}),_react2.default.createElement(_Paragraph2.default,{style:this.styles.subtitle},(0,_i18n._)("Logging and Metrics Options")),_react2.default.createElement(_SCKLoggingOptions2.default,{journaldPath:this.state.journaldPath,onUpdateJournaldPath:this.updateTextFieldState,shouldDisplayError:this.isInputErrorDisplayed(this.state.journaldPath)}),_react2.default.createElement(_SCKMetricsOptions2.default,{kubeletProtocol:this.state.kubeletProtocol,onUpdateProtocol:this.updateRadioListFieldState}))),indexOptionsElement=_react2.default.createElement(_CustomList2.default.Item,null,_react2.default.createElement("div",null,_react2.default.createElement(_Paragraph2.default,{style:this.styles.title},(0,_i18n._)("Index Options")),_react2.default.createElement(_ConfigureIndexOptions2.default,{metricsIndex:this.state.metricsIndex,logIndex:this.state.logIndex,metaIndex:this.state.metaIndex,onChange:function(e,_ref8){var name=_ref8.name,value=_ref8.value;return _this2.updateTextFieldState(name,value)},isOpenShift:!0}))),snippetElement=_react2.default.createElement(_CustomList2.default.Item,null,_react2.default.createElement(_Paragraph2.default,{style:this.styles.title},(0,_i18n._)("Run the configuration script on your command line")),_react2.default.createElement(_Paragraph2.default,null,(0,_i18n._)("Run this script in the terminal of your target machine. This script sets up your environment according to the specifications of your config file.")),this.renderPendingEntityUIMessage(),_react2.default.createElement(_CopyableConfigText2.default,{onClick:this.enableInputErrorVisibility,error:this.hasError(),errorText:(0,_i18n._)("Fill in input fields with proper values")},"export MONITORING_MACHINE="+this.state.monitoringMachine+" && export HEC_TOKEN="+this.state.hecToken+" && export HEC_PORT="+this.state.hecPort+" && export GLOBAL_HEC_INSECURE_SSL="+this.state.useGlobalInsecureSSL+" && export OBJECTS_INSECURE_SSL="+this.state.useObjectsInsecureSSL+" && export METRICS_INSECURE_SSL="+this.state.useMetricsInsecureSSL+" && export JOURNALD_PATH="+this.state.journaldPath+" && export SAI_SCK_PROJECT="+this.state.openShiftProject+" && export KUBELET_PROTOCOL="+this.state.kubeletProtocol+" && export METRICS_INDEX="+this.state.metricsIndex+" && export LOG_INDEX="+this.state.logIndex+" && export META_INDEX="+this.state.metaIndex+" && export CLUSTER_NAME="+this.state.clusterName+" && export SCK_DOWNLOAD_ONLY="+this.state.sckDownloadOnly+" && export CORE_OBJ="+(0,_utils.stringifyMetrics)(coreObjects,this.coreMetrics)+" && export APPS_OBJ="+(0,_utils.stringifyMetrics)(appsObjects,this.appsMetrics)+' && wget https://github.com/splunk/splunk-connect-for-kubernetes/releases/download/1.2.0/splunk-connect-for-kubernetes-1.2.0.tgz -O splunk-connect-for-kubernetes.tgz && files=("openshift_connect_template.yaml" "deploy_sck_openshift.sh") && for each in "${files[@]}"; do wget -O- '+(this.state.useGlobalInsecureSSL?"--no-check-certificate":"")+" "+window.location.protocol+"//"+window.location.hostname+":"+window.location.port+'/en-US/static/app/splunk_app_infrastructure/openshift_connect/"$each" > $each; done && bash deploy_sck_openshift.sh ')),connectedCountElement=_react2.default.createElement(_CustomList2.default.Item,null,_react2.default.createElement("div",null,_react2.default.createElement(_Paragraph2.default,{style:this.styles.title},(0,_i18n._)("Once the script finishes running, verify your data connection.")),_react2.default.createElement(_Paragraph2.default,null,(0,_i18n._)("It may take up to 5 minutes to show entities in the UI.")),_react2.default.createElement(_ConfigurationStatus2.default,{connectedCount:this.props.connectedCount,newCount:this.props.newCount,initialFetchDone:this.props.initialFetchDone,handleCount:this.props.handleCount,entityType:_stateConstants.ENTITY_TYPE.K8S_OR_OPENSHIFT})));return _react2.default.createElement("div",(0,_extends3.default)({style:this.styles.outerDivStyle},(0,_testSupportUtils.createTestHook)(__filename,name)),_react2.default.createElement(_Paragraph2.default,{style:this.styles.paragraphStyle},(0,_i18n._)("To monitor your OpenShift deployment, follow the instructions below.")),(0,_commonUtils.isEnterprise)()?_react2.default.createElement(_CustomList2.default,null,setupHelmElement,configOptionsElement,openShiftOptionsElement,indexOptionsElement,snippetElement,connectedCountElement):_react2.default.createElement(_CustomList2.default,null,setupHelmElement,configOptionsElement,openShiftOptionsElement,snippetElement,connectedCountElement))}}]),OpenShiftConfiguration}(_react2.default.Component),_class.propTypes={isHttpInputEnabled:_propTypes2.default.bool,isFetchingToken:_propTypes2.default.bool,hecPort:_propTypes2.default.string,hecToken:_propTypes2.default.string,selectedOpenShiftObjects:_propTypes2.default.object,updateOpenShiftObjects:_propTypes2.default.func.isRequired,objectsDisplayOrder:_propTypes2.default.arrayOf(_propTypes2.default.string),connectedCount:_propTypes2.default.number,newCount:_propTypes2.default.number,initialFetchDone:_propTypes2.default.bool,handleCount:_propTypes2.default.func},_class.defaultProps={isHttpInputEnabled:!1,isFetchingToken:!0,hecPort:"",hecToken:"",selectedOpenShiftObjects:_stateConstants.OPENSHIFT_SELECTED_OBJECTS.reduce(function(result,_ref9){var metric=_ref9.metric,objectDetails=(0,_objectWithoutProperties3.default)(_ref9,["metric"]);return result[metric]=objectDetails,result},{}),objectsDisplayOrder:_stateConstants.OPENSHIFT_SELECTED_OBJECTS.map(function(obj){return obj.metric}),connectedCount:0,newCount:0,initialFetchDone:!1,handleCount:function(){}},_temp);exports.default=OpenShiftConfiguration,module.exports=exports.default}).call(this,"src/main/webapp/configure/openshift/components/OpenShiftConfiguration.js")},235:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.loadDeploymentEnv=exports.deploymentEnvRetrieveStatusDispatcher=exports.DEPLOYMENT_ENV_RETRIEVE_TRACKER=exports.loadCloudWatchLogsInput=exports.loadAllCloudWatchLogsInputs=exports.cloudWatchLogsInputsRetrieveStatusDispatcher=exports.CLOUDWATCH_LOGS_INPUT_RETRIEVE_TRACKER=exports.createCloudWatchLogsInput=exports.cloudWatchLogsInputCreateStatusDispatcher=exports.CLOUDWATCH_LOGS_INPUT_CREATION_TRACKER=exports.bulkEditCloudWatchLogsInput=exports.cloudWatchLogsInputBulkEditStatusDispatcher=exports.CLOUDWATCH_LOGS_INPUT_BULK_EDIT_TRACKER=exports.updateCloudWatchInput=exports.updateCloudWatchInputStatusDispatcher=exports.CLOUDWATCH_INPUT_UPDATE_TRACKER=exports.loadCloudWatchInput=exports.loadAllCloudWatchInputs=exports.cloudWatchInputsRetrieveStatusDispatcher=exports.CLOUDWATCH_INPUT_RETRIEVE_TRACKER=exports.loadCloudWatchRegions=exports.cloudWatchRegionsRetrieveStatusDispatcher=exports.CLOUDWATCH_REGIONS_RETRIEVE_TRACKER=exports.createCloudWatchInput=exports.addNewCloudWatchInput=exports.CLOUDWATCH_INPUT_CREATION_TRACKER=exports.awsUpdateAccountStatusDispatcher=exports.AWS_ACCOUNT_UPDATE_TRACKER=exports.loadAwsAccountInfo=exports.awsAccountInfoRetrieveStatusDispatcher=exports.AWS_ACCOUNT_RETRIEVE_TRACKER=exports.onDeleteAwsAccount=exports.accountDeletionReady=exports.accountDeletionConfirm=exports.awsDeleteAccountStatusDispatcher=exports.AWS_ACCOUNT_DELETE_TRACKER=exports.awsCreateAccountStatusDispatcher=exports.AWS_ACCOUNT_CREATE_TRACKER=exports.loadAwsTaPresenceInfo=exports.awsCheckTaPresenceStatusDispatcher=exports.AWS_CHECK_TA_PRESENCE_TRACKER=void 0,exports.onCreateAwsAccount=function(name,keyId,secretKey,regionCategory){return{type:_actionTypes2.AWS_ACCOUNT_CREATE,name:name,key_id:keyId,secret_key:secretKey,category:regionCategory}},exports.onUpdateAwsAccount=function(name,keyId,secretKey,regionCategory){return{type:_actionTypes2.AWS_ACCOUNT_UPDATE,name:name,key_id:keyId,secret_key:secretKey,category:regionCategory}};var _actionUtils=__webpack_require__(43),_actionTypes=__webpack_require__(350),_actionTypes2=__webpack_require__(584),AWS_CHECK_TA_PRESENCE_TRACKER=exports.AWS_CHECK_TA_PRESENCE_TRACKER=(0,_actionUtils.createRequestTypes)(_actionTypes2.AWS_CHECK_TA_PRESENCE),AWS_ACCOUNT_CREATE_TRACKER=(exports.awsCheckTaPresenceStatusDispatcher=(0,_actionUtils.createActionStatusDispatcher)(AWS_CHECK_TA_PRESENCE_TRACKER),exports.loadAwsTaPresenceInfo=function(data){return(0,_actionUtils.createAction)(_actionTypes2.AWS_CHECK_TA_PRESENCE,data)},exports.AWS_ACCOUNT_CREATE_TRACKER=(0,_actionUtils.createRequestTypes)(_actionTypes2.AWS_ACCOUNT_CREATE));exports.awsCreateAccountStatusDispatcher=(0,_actionUtils.createActionStatusDispatcher)(AWS_ACCOUNT_CREATE_TRACKER);var AWS_ACCOUNT_DELETE_TRACKER=exports.AWS_ACCOUNT_DELETE_TRACKER=(0,_actionUtils.createRequestTypes)(_actionTypes2.AWS_ACCOUNT_DELETE),AWS_ACCOUNT_RETRIEVE_TRACKER=(exports.awsDeleteAccountStatusDispatcher=(0,_actionUtils.createActionStatusDispatcher)(AWS_ACCOUNT_DELETE_TRACKER),exports.accountDeletionConfirm=function(){return{type:_actionTypes2.AWS_ACCOUNT_DELETION_CONFIRM}},exports.accountDeletionReady=function(){return{type:_actionTypes2.AWS_ACCOUNT_DELETION_READY}},exports.onDeleteAwsAccount=function(inputArgs,logInputArgs,accountArgs){return{type:_actionTypes2.AWS_ACCOUNT_DELETE,inputArgs:inputArgs,logInputArgs:logInputArgs,accountArgs:accountArgs}},exports.AWS_ACCOUNT_RETRIEVE_TRACKER=(0,_actionUtils.createRequestTypes)(_actionTypes2.AWS_ACCOUNT_RETRIEVE)),AWS_ACCOUNT_UPDATE_TRACKER=(exports.awsAccountInfoRetrieveStatusDispatcher=(0,_actionUtils.createActionStatusDispatcher)(AWS_ACCOUNT_RETRIEVE_TRACKER),exports.loadAwsAccountInfo=function(){return{type:_actionTypes2.AWS_ACCOUNT_RETRIEVE}},exports.AWS_ACCOUNT_UPDATE_TRACKER=(0,_actionUtils.createRequestTypes)(_actionTypes2.AWS_ACCOUNT_UPDATE));exports.awsUpdateAccountStatusDispatcher=(0,_actionUtils.createActionStatusDispatcher)(AWS_ACCOUNT_UPDATE_TRACKER);var CLOUDWATCH_INPUT_CREATION_TRACKER=exports.CLOUDWATCH_INPUT_CREATION_TRACKER=(0,_actionUtils.createRequestTypes)(_actionTypes2.CLOUDWATCH_INPUT_CREATE),CLOUDWATCH_REGIONS_RETRIEVE_TRACKER=(exports.addNewCloudWatchInput=(0,_actionUtils.createActionStatusDispatcher)(CLOUDWATCH_INPUT_CREATION_TRACKER),exports.createCloudWatchInput=function(name,accountName,awsRegions,selectedNamespaces,customDimensions){return{type:_actionTypes2.CLOUDWATCH_INPUT_CREATE,name:name,accountName:accountName,awsRegions:awsRegions,selectedNamespaces:selectedNamespaces,customDimensions:customDimensions}},exports.CLOUDWATCH_REGIONS_RETRIEVE_TRACKER=(0,_actionUtils.createRequestTypes)(_actionTypes2.CLOUDWATCH_REGIONS_RETRIEVE)),CLOUDWATCH_INPUT_RETRIEVE_TRACKER=(exports.cloudWatchRegionsRetrieveStatusDispatcher=(0,_actionUtils.createActionStatusDispatcher)(CLOUDWATCH_REGIONS_RETRIEVE_TRACKER),exports.loadCloudWatchRegions=function(awsAccount){return{type:_actionTypes2.CLOUDWATCH_REGIONS_RETRIEVE,awsAccount:awsAccount}},exports.CLOUDWATCH_INPUT_RETRIEVE_TRACKER=(0,_actionUtils.createRequestTypes)(_actionTypes2.CLOUDWATCH_INPUT_RETRIEVE)),CLOUDWATCH_INPUT_UPDATE_TRACKER=(exports.cloudWatchInputsRetrieveStatusDispatcher=(0,_actionUtils.createActionStatusDispatcher)(CLOUDWATCH_INPUT_RETRIEVE_TRACKER),exports.loadAllCloudWatchInputs=function(){return{type:_actionTypes2.CLOUDWATCH_INPUT_RETRIEVE}},exports.loadCloudWatchInput=function(inputName){return{type:_actionTypes2.CLOUDWATCH_INPUT_RETRIEVE,inputName:inputName}},exports.CLOUDWATCH_INPUT_UPDATE_TRACKER=(0,_actionUtils.createRequestTypes)(_actionTypes2.CLOUDWATCH_INPUT_UPDATE)),CLOUDWATCH_LOGS_INPUT_BULK_EDIT_TRACKER=(exports.updateCloudWatchInputStatusDispatcher=(0,_actionUtils.createActionStatusDispatcher)(CLOUDWATCH_INPUT_UPDATE_TRACKER),exports.updateCloudWatchInput=function(name,accountName,awsRegions,selectedNamespaces,customDimensions){return{type:_actionTypes2.CLOUDWATCH_INPUT_UPDATE,name:name,accountName:accountName,awsRegions:awsRegions,selectedNamespaces:selectedNamespaces,customDimensions:customDimensions}},exports.CLOUDWATCH_LOGS_INPUT_BULK_EDIT_TRACKER=(0,_actionUtils.createBulkRequestType)(_actionTypes2.CLOUDWATCH_LOGS_INPUT_BULK_EDIT)),CLOUDWATCH_LOGS_INPUT_CREATION_TRACKER=(exports.cloudWatchLogsInputBulkEditStatusDispatcher={start:function(){return(0,_actionUtils.createAction)(CLOUDWATCH_LOGS_INPUT_BULK_EDIT_TRACKER[_actionTypes.BULK_START],{})},complete:function(response){return(0,_actionUtils.createAction)(CLOUDWATCH_LOGS_INPUT_BULK_EDIT_TRACKER[_actionTypes.BULK_COMPLETE],{response:response})}},exports.bulkEditCloudWatchLogsInput=function(_ref){var account=_ref.account,useCloudWatchLogs=_ref.useCloudWatchLogs,prevInputs=_ref.prevInputs,newInputs=_ref.newInputs;return{type:_actionTypes2.CLOUDWATCH_LOGS_INPUT_BULK_EDIT,useCloudWatchLogs:useCloudWatchLogs,prevInputs:prevInputs,newInputs:newInputs,account:account}},exports.CLOUDWATCH_LOGS_INPUT_CREATION_TRACKER=(0,_actionUtils.createRequestTypes)(_actionTypes2.CLOUDWATCH_LOGS_INPUT_CREATE)),CLOUDWATCH_LOGS_INPUT_RETRIEVE_TRACKER=(exports.cloudWatchLogsInputCreateStatusDispatcher=(0,_actionUtils.createActionStatusDispatcher)(CLOUDWATCH_LOGS_INPUT_CREATION_TRACKER),exports.createCloudWatchLogsInput=function(name,accountName,awsRegion,logGroups){return{type:_actionTypes2.CLOUDWATCH_LOGS_INPUT_CREATE,name:name,accountName:accountName,awsRegion:awsRegion,logGroups:logGroups}},exports.CLOUDWATCH_LOGS_INPUT_RETRIEVE_TRACKER=(0,_actionUtils.createRequestTypes)(_actionTypes2.CLOUDWATCH_LOGS_INPUT_RETRIEVE)),DEPLOYMENT_ENV_RETRIEVE_TRACKER=(exports.cloudWatchLogsInputsRetrieveStatusDispatcher=(0,_actionUtils.createActionStatusDispatcher)(CLOUDWATCH_LOGS_INPUT_RETRIEVE_TRACKER),exports.loadAllCloudWatchLogsInputs=function(){return{type:_actionTypes2.CLOUDWATCH_LOGS_INPUT_RETRIEVE}},exports.loadCloudWatchLogsInput=function(inputName){return{type:_actionTypes2.CLOUDWATCH_LOGS_INPUT_RETRIEVE,inputName:inputName}},exports.DEPLOYMENT_ENV_RETRIEVE_TRACKER=(0,_actionUtils.createRequestTypes)(_actionTypes2.DEPLOYMENT_ENV_RETRIEVE));exports.deploymentEnvRetrieveStatusDispatcher=(0,_actionUtils.createActionStatusDispatcher)(DEPLOYMENT_ENV_RETRIEVE_TRACKER),exports.loadDeploymentEnv=function(){return{type:_actionTypes2.DEPLOYMENT_ENV_RETRIEVE}}},236:function(module,exports,__webpack_require__){"use strict";(function(__filename){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _class,_temp,_getPrototypeOf2=_interopRequireDefault(__webpack_require__(14)),_classCallCheck3=_interopRequireDefault(__webpack_require__(9)),_createClass3=_interopRequireDefault(__webpack_require__(12)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(8)),_inherits3=_interopRequireDefault(__webpack_require__(11)),_react2=_interopRequireDefault(__webpack_require__(0)),_propTypes2=_interopRequireDefault(__webpack_require__(1)),_Paragraph2=_interopRequireDefault(__webpack_require__(40)),_Button2=_interopRequireDefault(__webpack_require__(32)),_Link2=_interopRequireDefault(__webpack_require__(57)),_RotateCounter2=_interopRequireDefault(__webpack_require__(918)),_i18n=__webpack_require__(2),_format=__webpack_require__(39),_emUtils=__webpack_require__(26),_testSupportUtils=__webpack_require__(27),_SPLStore2=_interopRequireDefault(__webpack_require__(919)),_DataManagerModel2=_interopRequireDefault(__webpack_require__(1991));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ENTITIES_LIST_URL=(0,_emUtils.getAppPageUrl)("investigate"),CONNECTION_STATUS_STYLE={marginBottom:"0px"},REFRESH_BUTTON_STYLE={marginLeft:"5px"},REFRESH_TEXT_STYLES={fontSize:10,fontWeight:100,color:"#999999"},ConfigurationStatus=(_temp=_class=function(_React$Component){function ConfigurationStatus(props){(0,_classCallCheck3.default)(this,ConfigurationStatus);var _this=(0,_possibleConstructorReturn3.default)(this,(ConfigurationStatus.__proto__||(0,_getPrototypeOf2.default)(ConfigurationStatus)).call(this,props));return _this.state={timer:60},_this.handleCountFetched=_this.handleCountFetched.bind(_this),_this.onRefreshClicked=_this.onRefreshClicked.bind(_this),_this.getMessage=_this.getMessage.bind(_this),_this.updateTimer=_this.updateTimer.bind(_this),_this}return(0,_inherits3.default)(ConfigurationStatus,_React$Component),(0,_createClass3.default)(ConfigurationStatus,[{key:"componentDidMount",value:function(){this.intervalId=setInterval(this.updateTimer,1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalId)}},{key:"onRefreshClicked",value:function(){this.entitiesCountModel.forceUpdate(),this.setState({timer:60})}},{key:"getMessage",value:function(){var newCount=this.props.newCount;if(0===newCount)return(0,_i18n._)("No new entities connected yet...");if(newCount<0){var count=Math.abs(newCount);return(0,_format.sprintf)((0,_emUtils.ungettext)("You have removed %d entity","You have removed %d entities",count),count)}return(0,_format.sprintf)((0,_emUtils.ungettext)("Congratulations, you've got %d entity coming in.","Congratulations, you've got %d entities coming in.",newCount),newCount)}},{key:"handleCountFetched",value:function(results){if(results.data&&results.data[0]&&results.data[0][0]){var value=parseInt(results.data[0][0],10);isNaN(value)||this.props.handleCount(value)}}},{key:"updateTimer",value:function(){0===this.state.timer&&this.entitiesCountModel.forceUpdate(),this.setState({timer:0===this.state.timer?60:this.state.timer-1})}},{key:"render",value:function(){var _this2=this;return _react2.default.createElement("div",(0,_testSupportUtils.createTestHook)(__filename,name),_react2.default.createElement(_Paragraph2.default,{style:CONNECTION_STATUS_STYLE},this.getMessage()," ",0!==this.props.newCount&&_react2.default.createElement(_Link2.default,{openInNewContext:!0,to:ENTITIES_LIST_URL},(0,_i18n._)("Take a look now"))),_react2.default.createElement(_Paragraph2.default,{style:REFRESH_TEXT_STYLES},(0,_format.sprintf)((0,_i18n._)("Auto refresh in %(numberOfSeconds)ss"),{numberOfSeconds:this.state.timer}),_react2.default.createElement(_Button2.default,{label:(0,_i18n._)("Refresh"),style:REFRESH_BUTTON_STYLE,icon:_react2.default.createElement(_RotateCounter2.default,{screenReaderText:null}),appearance:"pill",onClick:this.onRefreshClicked})),_react2.default.createElement(_DataManagerModel2.default,{ref:function(_ref){_this2.entitiesCountModel=_ref},earliest_time:"-1h",latest_time:"now",search:_SPLStore2.default.getNumOfEntities(this.props.entityType),onStateChange:this.handleCountFetched}))}}]),ConfigurationStatus}(_react2.default.Component),_class.propTypes={newCount:_propTypes2.default.number,handleCount:_propTypes2.default.func,entityType:_propTypes2.default.string},_class.defaultProps={newCount:0,handleCount:null,entityType:""},_temp);exports.default=ConfigurationStatus,module.exports=exports.default}).call(this,"src/main/webapp/configure/common/components/ConfigurationStatus.js")},237:function(module,exports,__webpack_require__){"use strict";(function(__filename){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _class,_temp,_extends3=_interopRequireDefault(__webpack_require__(6)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(14)),_classCallCheck3=_interopRequireDefault(__webpack_require__(9)),_createClass3=_interopRequireDefault(__webpack_require__(12)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(8)),_inherits3=_interopRequireDefault(__webpack_require__(11)),_react2=_interopRequireDefault(__webpack_require__(0)),_propTypes2=_interopRequireDefault(__webpack_require__(1)),_Tooltip2=_interopRequireDefault(__webpack_require__(126)),_Clipboard2=_interopRequireDefault(__webpack_require__(2086)),_i18n=__webpack_require__(2),_testSupportUtils=__webpack_require__(27);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CopyableConfigText=(_temp=_class=function(_React$Component){function CopyableConfigText(){(0,_classCallCheck3.default)(this,CopyableConfigText);var _this=(0,_possibleConstructorReturn3.default)(this,(CopyableConfigText.__proto__||(0,_getPrototypeOf2.default)(CopyableConfigText)).call(this));return _this.styles={clipboard:{verticalAlign:"top",width:15,height:15,border:"1px solid #ccc",borderRight:"0px",padding:"6px",borderRadius:"5px 0px 0px 5px",cursor:"pointer"},clipboardWithoutText:{width:15,height:15,border:"1px solid #ccc",padding:"6px",borderRadius:"5px 5px 5px 5px",cursor:"pointer"},code:{width:"90%",backgroundColor:"#eeeeee",padding:5,border:"1px solid #ccc",borderRadius:"0px 5px 5px 0px",fontFamily:"Splunk Platform Mono,Droid Sans Mono,Consolas,Monaco,Courier New,Courier,monospace",fontSize:"11px",color:"dimgray",whiteSpace:"pre-wrap",overflow:"auto"}},_this.defaultTooltipText=(0,_i18n._)("Copy to clipboard"),_this.copiedTooltipText=(0,_i18n._)("Copied!"),_this.state={tooltipText:_this.defaultTooltipText,open:!1},_this.handleClick=_this.handleClick.bind(_this),_this.onTooltipOpen=_this.onTooltipOpen.bind(_this),_this.onTooltipClose=_this.onTooltipClose.bind(_this),_this}return(0,_inherits3.default)(CopyableConfigText,_React$Component),(0,_createClass3.default)(CopyableConfigText,[{key:"onTooltipOpen",value:function(){this.setState({tooltipText:this.defaultTooltipText,open:!0})}},{key:"onTooltipClose",value:function(){this.setState({open:!1})}},{key:"handleClick",value:function(e){if(e.preventDefault(),this.props.onClick(),this.props.error)this.setState({tooltipText:this.props.errorText});else{this.setState({tooltipText:this.copiedTooltipText});var input=document.createElement("input"),command=_react2.default.Children.toArray(this.props.children).join("");input.setAttribute("value",command),document.body.appendChild(input),input.select(),document.execCommand("copy"),document.body.removeChild(input)}return!1}},{key:"render",value:function(){return _react2.default.createElement("div",(0,_extends3.default)({style:{display:"inline-flex"}},(0,_testSupportUtils.createTestHook)(__filename,name)),_react2.default.createElement(_Tooltip2.default,{content:this.state.tooltipText,onRequestOpen:this.onTooltipOpen,onRequestClose:this.onTooltipClose,open:this.state.open},_react2.default.createElement(_Clipboard2.default,{id:"copy-code-clipboard",style:this.props.showText?this.styles.clipboard:this.styles.clipboardWithoutText,onClick:this.handleClick})),this.props.showText&&_react2.default.createElement("code",{style:this.styles.code},this.props.children))}}]),CopyableConfigText}(_react2.default.Component),_class.propTypes={children:_propTypes2.default.any,onClick:_propTypes2.default.func,error:_propTypes2.default.bool,errorText:_propTypes2.default.string,showText:_propTypes2.default.bool},_class.defaultProps={children:null,onClick:function(){},error:!1,errorText:"",showText:!0},_temp);exports.default=CopyableConfigText,module.exports=exports.default}).call(this,"../../packages/ui/components/CopyableConfigText.js")},293:function(module,exports,__webpack_require__){
/*!
 * Copyright © 2018 Splunk Inc.
 * SPLUNK CONFIDENTIAL – Use or disclosure of this material in whole or in part
 * without a valid written license from Splunk Inc. is PROHIBITED.
 */
module.exports=function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=62)}({0:function(module,exports){module.exports=__webpack_require__(0)},1:function(module,exports){module.exports=__webpack_require__(2)},2:function(module,exports){module.exports=__webpack_require__(58)},62:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"default",function(){return Events});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_splunk_ui_utils_i18n__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_splunk_react_icons_SVG__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),_splunk_react_icons_SVG__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_splunk_react_icons_SVG__WEBPACK_IMPORTED_MODULE_2__),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function Events(props){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_splunk_react_icons_SVG__WEBPACK_IMPORTED_MODULE_2___default.a,_extends({viewBox:"0 0 24 24",screenReaderText:Object(_splunk_ui_utils_i18n__WEBPACK_IMPORTED_MODULE_1__._)("Events")},props),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path",{d:"M6 2h12c1.105 0 2 .895 2 2v16c0 1.105-.895 2-2 2H6c-1.105 0-2-.895-2-2V4c0-1.105.895-2 2-2zm0 2v16h12V4H6zm6 12h3c.552 0 1 .448 1 1s-.448 1-1 1h-3c-.552 0-1-.448-1-1s.448-1 1-1zm-3 0c.552 0 1 .448 1 1s-.448 1-1 1-1-.448-1-1 .448-1 1-1zm6-5c.552 0 1 .448 1 1s-.448 1-1 1-1-.448-1-1 .448-1 1-1zm-6 0h3c.552 0 1 .448 1 1s-.448 1-1 1H9c-.552 0-1-.448-1-1s.448-1 1-1zm4-5h2c.552 0 1 .448 1 1s-.448 1-1 1h-2c-.552 0-1-.448-1-1s.448-1 1-1zM9 6h1c.552 0 1 .448 1 1s-.448 1-1 1H9c-.552 0-1-.448-1-1s.448-1 1-1z"}))}}})},294:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDefaultReceiverPort=exports.stringifyMetricsOpts=exports.stringifyMetrics=exports.stringifyLogs=void 0;var obj,_lodash=__webpack_require__(16),_lodash2=(obj=_lodash)&&obj.__esModule?obj:{default:obj},_commonUtils=__webpack_require__(24);exports.stringifyLogs=function(logObject){return _lodash2.default.map(logObject,function(value,key){return key+"%"+value})},exports.stringifyMetrics=function(metricsObject,METRIC_DISPLAY_ORDER){return _lodash2.default.filter(METRIC_DISPLAY_ORDER,function(metricName){return metricsObject[metricName].selected})},exports.stringifyMetricsOpts=function(metricsObject,METRIC_DISPLAY_ORDER){var options=[];return _lodash2.default.each(METRIC_DISPLAY_ORDER,function(metricName){var metricSettings=metricsObject[metricName];metricSettings&&metricSettings.selected&&("selection"in metricSettings&&options.push(metricName+"."+metricSettings.selection.value),"options"in metricSettings&&_lodash2.default.each(metricSettings.options,function(optionSettings,optionName){optionSettings.selected&&options.push(metricName+"."+optionName)}))}),options},exports.getDefaultReceiverPort=function(){return(0,_commonUtils.isEnterprise)()?"":"9997"}},407:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.updateAwsAccountConfig=exports.fetchAllAwsRegions=exports.awsFetchAllRegionsStatusDispatcher=exports.AWS_FETCH_ALL_REGIONS_TRACKER=exports.fetchAllAwsServices=exports.awsFetchAllServicesStatusDispatcher=exports.AWS_FETCH_ALL_SERVICES_TRACKER=void 0;var _actionUtils=__webpack_require__(43),_actionTypes=__webpack_require__(583),AWS_FETCH_ALL_SERVICES_TRACKER=exports.AWS_FETCH_ALL_SERVICES_TRACKER=(0,_actionUtils.createRequestTypes)(_actionTypes.AWS_FETCH_ALL_SERVICES),AWS_FETCH_ALL_REGIONS_TRACKER=(exports.awsFetchAllServicesStatusDispatcher=(0,_actionUtils.createActionStatusDispatcher)(AWS_FETCH_ALL_SERVICES_TRACKER),exports.fetchAllAwsServices=function(){return{type:_actionTypes.AWS_FETCH_ALL_SERVICES}},exports.AWS_FETCH_ALL_REGIONS_TRACKER=(0,_actionUtils.createRequestTypes)(_actionTypes.AWS_FETCH_ALL_REGIONS));exports.awsFetchAllRegionsStatusDispatcher=(0,_actionUtils.createActionStatusDispatcher)(AWS_FETCH_ALL_REGIONS_TRACKER),exports.fetchAllAwsRegions=function(){return{type:_actionTypes.AWS_FETCH_ALL_REGIONS}},exports.updateAwsAccountConfig=function(account){return{type:_actionTypes.AWS_ACCOUNT_CONFIG_CHANGE,payload:account}}},408:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.onLoadAllSourceTypes=exports.sourcetypesRetrieveStatusDispatcher=exports.SOURCETYPES_RETRIEVE_TRACKER=void 0,exports.enableHEC=function(){return{type:actions.ENABLE_HEC_INITIATE}},exports.enableHecStatus=function(status,settings){return{type:actions.ENABLE_HEC,status:status,settings:settings}},exports.fetchHECToken=function(){var tokenName=0<arguments.length&&void 0!==arguments[0]?arguments[0]:defaultHECName,sourcetype=1<arguments.length&&void 0!==arguments[1]?arguments[1]:defaultHECSourcetype,index=2<arguments.length&&void 0!==arguments[2]?arguments[2]:defaultHECIndex;return{type:actions.FETCH_HEC_TOKEN_INITIATE,tokenName:tokenName,sourcetype:sourcetype,index:index}},exports.fetchHECTokenStatus=function(status,response){return{type:actions.FETCH_HEC_TOKEN,status:status,response:response}},exports.fetchAgentUrl=function(){var collector=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"collectd";return{type:actions.FETCH_AGENT_URL_INITIATE,collector:collector}},exports.fetchAgentUrlStatus=function(agentUrl){return{type:actions.FETCH_AGENT_URL,agent_url:agentUrl}},exports.handleCount=function(count){return{type:actions.UPDATE_COUNT,count:count}},exports.resetInitialFetch=function(){return{type:actions.RESET_INITIAL_FETCH}};var _actionUtils=__webpack_require__(43),actions=function(obj){{if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}}(__webpack_require__(585));var defaultHECSourcetype="em_metrics",defaultHECIndex="em_metrics",defaultHECName="http://splunk_app_infrastructure";var SOURCETYPES_RETRIEVE_TRACKER=exports.SOURCETYPES_RETRIEVE_TRACKER=(0,_actionUtils.createRequestTypes)(actions.SOURCETYPES_RETRIEVE);exports.sourcetypesRetrieveStatusDispatcher=(0,_actionUtils.createActionStatusDispatcher)(SOURCETYPES_RETRIEVE_TRACKER),exports.onLoadAllSourceTypes=function(){return{type:actions.SOURCETYPES_RETRIEVE}}},411:function(module,exports,__webpack_require__){var assignValue=__webpack_require__(555),baseAssignValue=__webpack_require__(855);module.exports=function(source,props,object,customizer){var isNew=!object;object||(object={});for(var index=-1,length=props.length;++index<length;){var key=props[index],newValue=customizer?customizer(object[key],source[key],key,object,source):void 0;void 0===newValue&&(newValue=source[key]),isNew?baseAssignValue(object,key,newValue):assignValue(object,key,newValue)}return object}},583:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.AWS_FETCH_ALL_SERVICES="AWS_FETCH_ALL_SERVICES",exports.AWS_FETCH_ALL_REGIONS="AWS_FETCH_ALL_REGIONS",exports.AWS_ACCOUNT_CONFIG_CHANGE="AWS_ACCOUNT_CONFIG_CHANGE"},584:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.AWS_ACCOUNT_CREATE="AWS_ACCOUNT_CREATE",exports.AWS_ACCOUNT_DELETE="AWS_ACCOUNT_DELETE",exports.AWS_ACCOUNT_DELETION_CONFIRM="AWS_ACCOUNT_DELETION_CONFIRM",exports.AWS_ACCOUNT_DELETION_READY="AWS_ACCOUNT_DELETION_READY",exports.AWS_ACCOUNT_RETRIEVE="AWS_ACCOUNT_RETRIEVE",exports.AWS_ACCOUNT_UPDATE="AWS_ACCOUNT_UPDATE",exports.AWS_CHECK_TA_PRESENCE="AWS_CHECK_TA_PRESENCE",exports.CLOUDWATCH_INPUT_CREATE="CLOUDWATCH_INPUT_CREATE",exports.CLOUDWATCH_INPUT_RETRIEVE="CLOUDWATCH_INPUT_RETRIEVE",exports.CLOUDWATCH_INPUT_UPDATE="CLOUDWATCH_INPUT_UPDATE",exports.CLOUDWATCH_LOGS_INPUT_BULK_EDIT="CLOUDWATCH_LOGS_INPUT_BULK_EDIT",exports.CLOUDWATCH_LOGS_INPUT_CREATE="CLOUDWATCH_LOGS_INPUT_CREATE",exports.CLOUDWATCH_LOGS_INPUT_RETRIEVE="CLOUDWATCH_LOGS_INPUT_RETRIEVE",exports.CLOUDWATCH_REGIONS_RETRIEVE="CLOUDWATCH_REGIONS_RETRIEVE",exports.DEPLOYMENT_ENV_RETRIEVE="DEPLOYMENT_ENV_RETRIEVE"},585:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.RESET_INITIAL_FETCH="RESET_INITIAL_FETCH",exports.SOURCETYPES_RETRIEVE="SOURCETYPES_RETRIEVE",exports.UPDATE_COUNT="UPDATE_COUNT",exports.ENABLE_HEC="ENABLE_HEC",exports.ENABLE_HEC_INITIATE="ENABLE_HEC_INITIATE",exports.FETCH_AGENT_URL="FETCH_AGENT_URL",exports.FETCH_AGENT_URL_INITIATE="FETCH_AGENT_URL_INITIATE",exports.FETCH_HEC_TOKEN="FETCH_HEC_TOKEN",exports.FETCH_HEC_TOKEN_INITIATE="FETCH_HEC_TOKEN_INITIATE"},586:function(module,exports,__webpack_require__){var Uint8Array=__webpack_require__(894);module.exports=function(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);return new Uint8Array(result).set(new Uint8Array(arrayBuffer)),result}},587:function(module,exports,__webpack_require__){var arrayFilter=__webpack_require__(897),baseFilter=__webpack_require__(2027),baseIteratee=__webpack_require__(890),isArray=__webpack_require__(102);module.exports=function(collection,predicate){return(isArray(collection)?arrayFilter:baseFilter)(collection,baseIteratee(predicate,3))}},591:function(module,exports,__webpack_require__){
/*!
 * Copyright © 2018 Splunk Inc.
 * SPLUNK CONFIDENTIAL – Use or disclosure of this material in whole or in part
 * without a valid written license from Splunk Inc. is PROHIBITED.
 */
module.exports=function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=102)}({0:function(module,exports){module.exports=__webpack_require__(1)},1:function(module,exports){module.exports=__webpack_require__(21)},102:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var external_react_=__webpack_require__(2),external_react_default=__webpack_require__.n(external_react_),external_prop_types_=__webpack_require__(0),external_prop_types_default=__webpack_require__.n(external_prop_types_),external_lodash_=__webpack_require__(4),themes_=__webpack_require__(1),external_styled_components_=__webpack_require__(3),external_styled_components_default=__webpack_require__.n(external_styled_components_),StyledUl=external_styled_components_default.a.ul.withConfig({displayName:"ListStyles__StyledUl",componentId:"kowsjn-0"})(["",";padding-left:calc("," * 2);margin-bottom:1.3em;margin-top:1em;"],Object(themes_.mixin)("reset")("block"),Object(themes_.variable)("spacing")),StyledOl=StyledUl.withComponent("ol"),StyledItem=external_styled_components_default.a.li.withConfig({displayName:"ListStyles__StyledItem",componentId:"kowsjn-1"})(["",";list-style-type:inherit;"],Object(themes_.mixin)("reset")("list-item"));function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],0<=excluded.indexOf(key)||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],0<=excluded.indexOf(key)||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var propTypes={children:external_prop_types_default.a.node,elementRef:external_prop_types_default.a.func};function Item(props){var children=props.children,elementRef=props.elementRef,otherProps=_objectWithoutProperties(props,["children","elementRef"]);return external_react_default.a.createElement(StyledItem,_extends({"data-test":"item"},Object(themes_.ref)(elementRef),otherProps),children)}function List_extends(){return(List_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function List_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],0<=excluded.indexOf(key)||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],0<=excluded.indexOf(key)||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}Item.propTypes=propTypes;var List_propTypes={children:external_prop_types_default.a.node,elementRef:external_prop_types_default.a.func,type:external_prop_types_default.a.oneOf(["disc","decimal","lower-alpha","upper-alpha"]),style:external_prop_types_default.a.object};function List(props){var children=props.children,elementRef=props.elementRef,style=props.style,type=props.type,otherProps=List_objectWithoutProperties(props,["children","elementRef","style","type"]),Styled="disc"===type?StyledUl:StyledOl;return external_react_default.a.createElement(Styled,List_extends({"data-test":"list"},Object(themes_.ref)(elementRef),{style:Object(external_lodash_.extend)({listStyleType:type},style)},otherProps),children)}List.propTypes=List_propTypes,List.defaultProps={type:"disc"},List.Item=Item,__webpack_require__.d(__webpack_exports__,"default",function(){return List}),__webpack_require__.d(__webpack_exports__,"Item",function(){return Item})},2:function(module,exports){module.exports=__webpack_require__(0)},3:function(module,exports){module.exports=__webpack_require__(7)},4:function(module,exports){module.exports=__webpack_require__(13)}})},592:function(module,exports,__webpack_require__){
/*!
 * Copyright © 2018 Splunk Inc.
 * SPLUNK CONFIDENTIAL – Use or disclosure of this material in whole or in part
 * without a valid written license from Splunk Inc. is PROHIBITED.
 */
module.exports=function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=90)}({0:function(module,exports){module.exports=__webpack_require__(0)},1:function(module,exports){module.exports=__webpack_require__(2)},2:function(module,exports){module.exports=__webpack_require__(58)},90:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"default",function(){return Metrics});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_splunk_ui_utils_i18n__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_splunk_react_icons_SVG__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),_splunk_react_icons_SVG__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_splunk_react_icons_SVG__WEBPACK_IMPORTED_MODULE_2__),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function Metrics(props){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_splunk_react_icons_SVG__WEBPACK_IMPORTED_MODULE_2___default.a,_extends({viewBox:"0 0 24 24",screenReaderText:Object(_splunk_ui_utils_i18n__WEBPACK_IMPORTED_MODULE_1__._)("Metrics")},props),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path",{d:"M5.013 13.427l-2.048 2.048 5.56 5.56 12.51-12.51-5.56-5.56h-.003l-2.046 2.047L16.414 8 15 9.414l-2.988-2.988-2.085 2.086L13.414 12 12 13.414 8.512 9.927l-2.085 2.086L9.414 15 8 16.414l-2.987-2.987zM15.473 1c.504 0 1.007.192 1.39.576l5.56 5.56c.768.767.768 2.01 0 2.78L9.913 22.423c-.382.384-.885.576-1.388.576-.503 0-1.006-.193-1.39-.577l-5.56-5.56c-.767-.767-.767-2.01 0-2.78l12.51-12.508c.383-.384.886-.576 1.39-.576z"}))}}})},593:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.INSTALL_AGENT_FETCH_ERROR=void 0;var _i18n=__webpack_require__(2);exports.INSTALL_AGENT_FETCH_ERROR=(0,_i18n._)("Unable to fetch install agent URL. Please make sure you have correct settings in collectors.conf.")},594:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _class,_temp,_extends3=_interopRequireDefault(__webpack_require__(6)),_slicedToArray3=_interopRequireDefault(__webpack_require__(92)),_toConsumableArray3=_interopRequireDefault(__webpack_require__(61)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(14)),_classCallCheck3=_interopRequireDefault(__webpack_require__(9)),_createClass3=_interopRequireDefault(__webpack_require__(12)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(8)),_inherits3=_interopRequireDefault(__webpack_require__(11)),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_styledComponents=__webpack_require__(7),_i18n=__webpack_require__(2),_format=__webpack_require__(39),_lodash2=_interopRequireDefault(__webpack_require__(16)),_propTypes2=_interopRequireDefault(__webpack_require__(1)),_Button2=_interopRequireDefault(__webpack_require__(32)),_Paragraph2=_interopRequireDefault(__webpack_require__(40)),_Modal2=_interopRequireDefault(__webpack_require__(140)),_ColumnLayout2=_interopRequireDefault(__webpack_require__(537)),_Switch2=_interopRequireDefault(__webpack_require__(78)),_Message2=_interopRequireDefault(__webpack_require__(90)),_Link2=_interopRequireDefault(__webpack_require__(57)),_Text2=_interopRequireDefault(__webpack_require__(68)),_Select2=_interopRequireDefault(__webpack_require__(231)),_Remove2=_interopRequireDefault(__webpack_require__(902)),_RadioList2=_interopRequireDefault(__webpack_require__(544)),_emUtils=__webpack_require__(26),_NestedCheckbox2=_interopRequireDefault(__webpack_require__(2094));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CustomizeInputsModal=(_temp=_class=function(_Component){function CustomizeInputsModal(props,context){(0,_classCallCheck3.default)(this,CustomizeInputsModal);var _this=(0,_possibleConstructorReturn3.default)(this,(CustomizeInputsModal.__proto__||(0,_getPrototypeOf2.default)(CustomizeInputsModal)).call(this,props,context));return _this.checkAllCustomLogsValidity=function(){var retVal=!0;_this.state.customLogs.length&&(retVal=_lodash2.default.reduce(_this.state.customLogs,function(reducedBool,log){return reducedBool&&log.isValidLog},!0)),_this.setState({saveBtnEnabled:retVal})},_this.displayCustomLogs=function(){return _lodash2.default.map(_this.state.customLogs,function(log){return _react2.default.createElement(_ColumnLayout2.default,{key:log.key,style:_this.styles.customLogInput},_react2.default.createElement(_ColumnLayout2.default.Row,null,_react2.default.createElement(_ColumnLayout2.default.Column,{span:12,style:{marginRight:"10px"}},_react2.default.createElement(_Text2.default,{error:!log.isValidLog&&""!==log.path,canClear:!0,value:log.path,onChange:function(e,v){return _this.saveCustomLogPath(v.value,log.key)},placeholder:(0,_i18n._)("Enter a valid log source")})),_react2.default.createElement(_ColumnLayout2.default.Column,{span:12,style:{marginLeft:"0px"}},_react2.default.createElement(_Select2.default,{value:log.sourceType||"",onChange:function(e,v){return _this.saveCustomLogSourcetype(v.value,log.key)},"data-test":"sourcetype-dropdown",prefixLabel:(0,_i18n._)("Sourcetype")},_react2.default.createElement(_Select2.default.Option,{key:"Automatic",label:(0,_i18n._)("Automatic"),value:""}),_this.props.sourceTypes.map(function(option){return _react2.default.createElement(_Select2.default.Option,{key:""+option,label:""+option,value:""+option})}))),_react2.default.createElement(_ColumnLayout2.default.Column,{span:2,style:_this.styles.removeLogContainer},_react2.default.createElement(_Remove2.default,{style:_this.styles.removeLog,onClick:function(e){return _this.removeCustomLog(log.key,e)}}))))})},_this.addNewCustomLog=function(){var customLogId=_lodash2.default.uniqueId("customLog-"),oldCustomLogs=_this.state.customLogs,newCustomLog={key:customLogId,path:"",sourceType:"",isValidLog:!1};_this.setState({customLogs:[].concat((0,_toConsumableArray3.default)(oldCustomLogs),[newCustomLog])},_this.checkAllCustomLogsValidity)},_this.removeCustomLog=function(customLogId){_this.setState({customLogs:_this.state.customLogs.filter(function(e){return e.key!==customLogId})},_this.checkAllCustomLogsValidity)},_this.saveCustomLogPath=function(value,logId){var customLogs=_lodash2.default.clone(_this.state.customLogs),targetLog=_lodash2.default.find(customLogs,function(log){return log.key===logId});targetLog.path=value,targetLog.isValidLog=_this.props.isValidPath(value),_this.setState({customLogs:customLogs},_this.checkAllCustomLogsValidity)},_this.saveCustomLogSourcetype=function(value,logId){var customLogs=_lodash2.default.clone(_this.state.customLogs);_lodash2.default.find(customLogs,function(log){return log.key===logId}).sourceType=value,_this.setState({customLogs:customLogs})},_this.handleMetricsClick=function(e,_ref){var value=_ref.value,newState=_lodash2.default.cloneDeep(_this.state.selectedMetrics);newState[value].selected=!newState[value].selected,_this.setState({selectedMetrics:newState})},_this.handleMetricRadioOptionChange=function(e,data){var newState=_lodash2.default.cloneDeep(_this.state.selectedMetrics);newState[data.name].selection.value=data.value,_this.setState({selectedMetrics:newState})},_this.handleMetricOptionChange=function(e,_ref2){var value=_ref2.value,newState=_lodash2.default.cloneDeep(_this.state.selectedMetrics),_value$split=value.split("."),_value$split2=(0,_slicedToArray3.default)(_value$split,2),metric=_value$split2[0],option=_value$split2[1];newState[metric].options[option].selected=!newState[metric].options[option].selected,_this.setState({selectedMetrics:newState})},_this.metricOptions=function(settings,metricName){var hasCheckboxOptions="options"in settings;return"selection"in settings?_react2.default.createElement(_RadioList2.default,{name:metricName,value:settings.selection.value,onChange:_this.handleMetricRadioOptionChange,size:"small"},_lodash2.default.map(settings.selection.options,function(value,key){return _react2.default.createElement(_RadioList2.default.Option,{key:key+"-"+value,value:key},value)})):hasCheckboxOptions?_react2.default.createElement("div",null,_lodash2.default.map(settings.options,function(value,key){return _react2.default.createElement(_Switch2.default,{key:key,value:metricName+"."+key,selected:value.selected,onClick:_this.handleMetricOptionChange,appearance:"checkbox",size:"small"},value.label)})):[]},_this.sanitizeDisplayLabel=function(label){return label.replace("\\","")},_this.handleLogClick=function(e,_ref3){var value=_ref3.value,previousSelectedLogs=_this.state.selectedLogs;_lodash2.default.includes(previousSelectedLogs,value)?_this.setState({selectedLogs:_lodash2.default.without(previousSelectedLogs,value)}):_this.setState({selectedLogs:[].concat((0,_toConsumableArray3.default)(previousSelectedLogs),[value])})},_this.showMetricsError=function(){_this.setState({showMetricsError:!0})},_this.hideMetricsError=function(){_this.setState({showMetricsError:!1})},_this.selectAllMetrics=function(){var newState=_lodash2.default.cloneDeep(_this.state.selectedMetrics);_lodash2.default.each(newState,function(value,key){newState[key].selected=!0}),_this.setState({selectedMetrics:newState}),_this.hideMetricsError()},_this.deselectAllMetrics=function(){var newState=_lodash2.default.cloneDeep(_this.state.selectedMetrics);_lodash2.default.each(newState,function(value,key){newState[key].required||(newState[key].selected=!1)}),_this.setState({selectedMetrics:newState})},_this.selectAllLogs=function(){_this.setState({selectedLogs:_lodash2.default.keys(_this.props.defaultLogs)})},_this.deselectAllLogs=function(){_this.setState({selectedLogs:[]})},_this.handleSelectAllInternalLogs=function(){var intersection=_lodash2.default.intersection(_this.state.selectedLogs,_this.internalLogs),selectedLogs=[];selectedLogs=intersection.length===_this.internalLogs.length?_lodash2.default.difference(_this.state.selectedLogs,intersection):_lodash2.default.union(_this.state.selectedLogs,_this.internalLogs),_this.setState({selectedLogs:selectedLogs})},_this.internalLogs=_this.props.internalLogs,_this.nonInternalLogSources=_lodash2.default.difference(_lodash2.default.keys(_this.props.defaultLogs),_this.internalLogs),_this.state={customLogs:[],selectedMetrics:_this.props.selectedMetrics,selectedLogs:_lodash2.default.keys(_this.props.selectedLogs),saveBtnEnabled:!0,showMetricsError:!1},_this.savedState=_this.state,_this.styles={removeLog:{color:props.theme.syntaxRed,fontSize:"23px",cursor:"pointer"},removeLogContainer:{marginLeft:"0px",marginRight:"15px",marginTop:"4px"},customLogInput:{marginTop:"10px"},addNewSource:{marginTop:"10px"}},_this.submit=_this.submit.bind(_this),_this.cancelAndCloseModal=_this.cancelAndCloseModal.bind(_this),_this}return(0,_inherits3.default)(CustomizeInputsModal,_Component),(0,_createClass3.default)(CustomizeInputsModal,[{key:"cancelAndCloseModal",value:function(){this.setState((0,_extends3.default)({},this.savedState)),this.props.handleRequestClose()}},{key:"submit",value:function(){var selectedLogsWithSources=_lodash2.default.pick(this.props.defaultLogs,this.state.selectedLogs);0<_lodash2.default.filter(this.state.selectedMetrics,"selected").length?(this.props.updateCustomMetricsAndLogs({selectedMetrics:this.state.selectedMetrics,selectedLogs:selectedLogsWithSources,customLogs:this.state.customLogs}),this.savedState=this.state,this.props.handleRequestClose()):this.showMetricsError()}},{key:"render",value:function(){var _this2=this,colStyle={padding:10},metricsSwitches=_lodash2.default.map(this.props.metricsDisplayOrder,function(metric){var metricOptions=_this2.metricOptions(_this2.state.selectedMetrics[metric],metric);return _react2.default.createElement("div",{key:metric},_react2.default.createElement(_Switch2.default,{key:metric,value:metric,selected:_this2.state.selectedMetrics[metric].selected,disabled:_this2.state.selectedMetrics[metric].required,onClick:_this2.handleMetricsClick,appearance:"checkbox",size:"small",tag:"metric"},metric),_react2.default.createElement("div",{style:{marginLeft:"20px"}},metricOptions))}),logSourcesSwitches=this.nonInternalLogSources.map(function(value){return _react2.default.createElement(_Switch2.default,{key:value,value:value,selected:_lodash2.default.includes(_this2.state.selectedLogs,value),onClick:_this2.handleLogClick,appearance:"checkbox",size:"small"},value)}),numSelectedMetrics=_lodash2.default.filter(this.state.selectedMetrics,"selected").length,numSelectedLogs=this.state.selectedLogs.length+this.state.customLogs.length;return _react2.default.createElement(_Modal2.default,{onRequestClose:this.cancelAndCloseModal,open:this.props.open,style:{minWidth:"700px"},id:"customize-data-collection-modal"},_react2.default.createElement(_Modal2.default.Header,{title:(0,_i18n._)("Customize Data Collection"),onRequestClose:this.cancelAndCloseModal}),_react2.default.createElement(_Modal2.default.Body,{style:{padding:"0"}},_react2.default.createElement(_ColumnLayout2.default,{divider:"vertical",gutter:0,style:{paddingLeft:"10px"}},_react2.default.createElement(_ColumnLayout2.default.Row,null,_react2.default.createElement(_ColumnLayout2.default.Column,{span:5,style:colStyle},_react2.default.createElement(_Paragraph2.default,null,(0,_format.sprintf)((0,_emUtils.ungettext)("%d Metric Selected","%d Metrics Selected",numSelectedMetrics),numSelectedMetrics)),_react2.default.createElement(_ColumnLayout2.default.Row,{gutter:0},_react2.default.createElement(_ColumnLayout2.default.Column,{span:6},_react2.default.createElement(_Link2.default,{id:"select-all-metrics",onClick:this.selectAllMetrics},(0,_i18n._)("Select All"))),_react2.default.createElement(_ColumnLayout2.default.Column,{span:6},_react2.default.createElement(_Link2.default,{id:"deselect-all-metrics",onClick:this.deselectAllMetrics},(0,_i18n._)("Deselect All"))))),_react2.default.createElement(_ColumnLayout2.default.Column,{span:7,style:colStyle},_react2.default.createElement(_Paragraph2.default,null,(0,_format.sprintf)((0,_emUtils.ungettext)("%d Log Source Selected","%d Log Sources Selected",numSelectedLogs),numSelectedLogs)),_react2.default.createElement(_ColumnLayout2.default.Row,{gutter:0},_react2.default.createElement(_ColumnLayout2.default.Column,{span:3},_react2.default.createElement(_Link2.default,{id:"select-all-logs",onClick:this.selectAllLogs},(0,_i18n._)("Select All"))),_react2.default.createElement(_ColumnLayout2.default.Column,{span:9},_react2.default.createElement(_Link2.default,{id:"deselect-all-logs",onClick:this.deselectAllLogs},(0,_i18n._)("Deselect All")))))),_react2.default.createElement(_ColumnLayout2.default.Row,null,_react2.default.createElement(_ColumnLayout2.default.Column,{span:5,style:colStyle,"data-test":"metrics-column"},_react2.default.createElement("div",null,metricsSwitches),_react2.default.createElement(_Message2.default,{id:"metrics-error-message",fill:!0,type:"error",style:{visibility:this.state.showMetricsError?"visible":"hidden"}},(0,_i18n._)("You must select at least one metric."))),_react2.default.createElement(_ColumnLayout2.default.Column,{span:7,style:colStyle,"data-test":"logs-column"},_react2.default.createElement("div",null,_react2.default.createElement(_NestedCheckbox2.default,{defaultItems:this.internalLogs,selectedItems:this.state.selectedLogs,rootText:(0,_i18n._)("Collect internal logs for debugging"),handleItemClick:this.handleLogClick,handleSelectAll:this.handleSelectAllInternalLogs,processDisplayLabel:this.sanitizeDisplayLabel})),_react2.default.createElement("div",null,logSourcesSwitches),_react2.default.createElement("div",null,this.displayCustomLogs()),_react2.default.createElement(_Link2.default,{style:this.styles.addNewSource,onClick:this.addNewCustomLog,id:"add-custom-source"},(0,_i18n._)("+ Add Custom Source")))))),_react2.default.createElement(_Modal2.default.Footer,null,_react2.default.createElement(_Button2.default,{onClick:this.cancelAndCloseModal,label:(0,_i18n._)("Cancel")}),_react2.default.createElement(_Button2.default,{appearance:"primary",onClick:this.submit,label:(0,_i18n._)("Save"),disabled:!this.state.saveBtnEnabled})))}}]),CustomizeInputsModal}(_react.Component),_class.propTypes={theme:_propTypes2.default.object.isRequired,open:_propTypes2.default.bool,handleRequestClose:_propTypes2.default.func.isRequired,updateCustomMetricsAndLogs:_propTypes2.default.func.isRequired,sourceTypes:_propTypes2.default.arrayOf(_propTypes2.default.string),selectedMetrics:_propTypes2.default.object.isRequired,internalLogs:_propTypes2.default.array.isRequired,metricsDisplayOrder:_propTypes2.default.arrayOf(_propTypes2.default.string).isRequired,isValidPath:_propTypes2.default.func.isRequired,defaultLogs:_propTypes2.default.object.isRequired,selectedLogs:_propTypes2.default.object.isRequired},_class.defaultProps={open:!1,sourceTypes:[]},_temp);exports.default=(0,_styledComponents.withTheme)(CustomizeInputsModal),module.exports=exports.default},595:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _react2=_interopRequireDefault(__webpack_require__(0)),_Paragraph2=_interopRequireDefault(__webpack_require__(40)),_i18n=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var styles={title:{fontSize:14,fontWeight:600}};exports.default=function(){return _react2.default.createElement("div",null,_react2.default.createElement(_Paragraph2.default,{style:styles.title},(0,_i18n._)("Once the script finishes running, your entities will appear as inactive.")),_react2.default.createElement(_Paragraph2.default,null,(0,_i18n._)("Running the removal script stops all Splunk agents and removes all packages on the monitored entity. This process cannot be undone, and you will have to manually add new agents and packages to start collecting data again.")),_react2.default.createElement(_Paragraph2.default,null,(0,_i18n._)("After you run the script, the entity will appear as inactive. You must manually delete the entity to remove it from the instance.")))},module.exports=exports.default},596:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.isValidNixPath=function(path){return!!(0<path.length&&null===path.match("[^a-zA-Z0-9_.-/*]+"))},exports.isValidWindowsPath=function(path){return!!(0<path.length&&null===path.match("[^a-zA-Z0-9_.-/*:\\\\]+"))}},915:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.UPDATE_UNIX_CUSTOM_METRICS_AND_LOGS="UPDATE_UNIX_CUSTOM_METRICS_AND_LOGS",exports.UPDATE_OSX_CUSTOM_METRICS_AND_LOGS="UPDATE_OSX_CUSTOM_METRICS_AND_LOGS",exports.UPDATE_WINDOWS_CUSTOM_METRICS_AND_LOGS="UPDATE_WINDOWS_CUSTOM_METRICS_AND_LOGS",exports.UPDATE_K8S_OBJECTS="UPDATE_K8S_OBJECTS",exports.UPDATE_OPENSHIFT_OBJECTS="UPDATE_OPENSHIFT_OBJECTS"},916:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.CLOUDWATCH_INPUT_NAME="em_cloudwatch_input"},917:function(module,exports,__webpack_require__){"use strict";(function(__filename){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _class,_temp2,_extends3=_interopRequireDefault(__webpack_require__(6)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(14)),_classCallCheck3=_interopRequireDefault(__webpack_require__(9)),_createClass3=_interopRequireDefault(__webpack_require__(12)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(8)),_inherits3=_interopRequireDefault(__webpack_require__(11)),_react2=_interopRequireDefault(__webpack_require__(0)),_propTypes2=_interopRequireDefault(__webpack_require__(1)),_testSupportUtils=__webpack_require__(27);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CustomListItem=(_temp2=_class=function(_React$Component){function CustomListItem(){var _ref,_temp,_this,_ret;(0,_classCallCheck3.default)(this,CustomListItem);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_temp=_this=(0,_possibleConstructorReturn3.default)(this,(_ref=CustomListItem.__proto__||(0,_getPrototypeOf2.default)(CustomListItem)).call.apply(_ref,[this].concat(args)))).css={display:"flex",marginBottom:"20px"},_this.beforeCss={marginRight:"15px",backgroundColor:"#006d9c",color:"white",fontWeight:"bold",textAlign:"center",lineHeight:"24px",borderRadius:"100px",width:"24px",height:"24px",flexShrink:0},_ret=_temp,(0,_possibleConstructorReturn3.default)(_this,_ret)}return(0,_inherits3.default)(CustomListItem,_React$Component),(0,_createClass3.default)(CustomListItem,[{key:"render",value:function(){return _react2.default.createElement("li",(0,_extends3.default)({style:this.css},(0,_testSupportUtils.createTestHook)(__filename,name)),_react2.default.createElement("span",{style:this.beforeCss},this.props.itemNumber),_react2.default.createElement("div",{style:{paddingTop:"3px",width:"100%"}},this.props.children))}}]),CustomListItem}(_react2.default.Component),_class.propTypes={children:_propTypes2.default.node,itemNumber:_propTypes2.default.number},_class.defaultProps={children:null,itemNumber:0},_temp2);exports.default=CustomListItem,module.exports=exports.default}).call(this,"../../packages/ui/components/CustomList/CustomListItem.js")},918:function(module,exports,__webpack_require__){
/*!
 * Copyright © 2018 Splunk Inc.
 * SPLUNK CONFIDENTIAL – Use or disclosure of this material in whole or in part
 * without a valid written license from Splunk Inc. is PROHIBITED.
 */
module.exports=function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=116)}({0:function(module,exports){module.exports=__webpack_require__(0)},1:function(module,exports){module.exports=__webpack_require__(2)},116:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"default",function(){return RotateCounter});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_splunk_ui_utils_i18n__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),_splunk_react_icons_SVG__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),_splunk_react_icons_SVG__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_splunk_react_icons_SVG__WEBPACK_IMPORTED_MODULE_2__),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function RotateCounter(props){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_splunk_react_icons_SVG__WEBPACK_IMPORTED_MODULE_2___default.a,_extends({screenReaderText:Object(_splunk_ui_utils_i18n__WEBPACK_IMPORTED_MODULE_1__._)("Rotate Counter"),viewBox:"0 0 1500 1277"},props),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("path",{d:"M1314.415 185.585c59.024 59.023 104.71 127.695 137.06 206.015 32.35 78.32 48.525 160.613 48.525 246.88 0 86.265-16.175 168.557-48.524 246.878-32.35 78.32-78.037 146.992-137.06 206.015-59.024 59.024-127.696 104.71-206.016 137.06-78.32 32.35-160.613 48.525-246.88 48.525-86.265 0-168.557-16.175-246.878-48.524-78.32-32.35-146.992-78.037-206.015-137.06l109.818-110.67c50.51 50.51 101.73 86.55 153.66 108.116 51.93 21.566 115.07 32.35 189.416 32.35 74.348 0 137.203-10.784 188.565-32.35 51.362-21.567 102.3-57.605 152.81-108.116 51.078-51.08 87.258-102.3 108.54-153.66 21.284-51.363 31.925-114.218 31.925-188.565 0-74.348-10.783-137.345-32.35-188.99-21.566-51.647-57.605-103.01-108.116-154.087-50.51-50.51-101.59-86.69-153.235-108.54-51.646-21.852-114.36-32.777-188.14-32.777-74.346 0-137.343 10.925-188.99 32.776-51.645 21.85-103.007 58.03-154.085 108.54-62.43 64.7-103.86 137.345-124.29 217.935h234.96L306.47 887.06 0 515.89h234.96C260.5 389.9 318.388 279.797 408.627 185.586c59.023-59.024 127.695-104.71 206.015-137.06C692.962 16.174 775.255 0 861.522 0c86.265 0 168.557 16.175 246.878 48.524 78.32 32.35 146.992 78.037 206.015 137.06z"}))}},2:function(module,exports){module.exports=__webpack_require__(58)}})},921:function(module,exports,__webpack_require__){var arrayLikeKeys=__webpack_require__(887),baseKeysIn=__webpack_require__(2006),isArrayLike=__webpack_require__(287);module.exports=function(object){return isArrayLike(object)?arrayLikeKeys(object,!0):baseKeysIn(object)}},922:function(module,exports,__webpack_require__){var arrayPush=__webpack_require__(558),getPrototype=__webpack_require__(923),getSymbols=__webpack_require__(577),stubArray=__webpack_require__(898),getSymbolsIn=Object.getOwnPropertySymbols?function(object){for(var result=[];object;)arrayPush(result,getSymbols(object)),object=getPrototype(object);return result}:stubArray;module.exports=getSymbolsIn},923:function(module,exports,__webpack_require__){var getPrototype=__webpack_require__(889)(Object.getPrototypeOf,Object);module.exports=getPrototype},924:function(module,exports,__webpack_require__){
/*!
 * Copyright © 2018 Splunk Inc.
 * SPLUNK CONFIDENTIAL – Use or disclosure of this material in whole or in part
 * without a valid written license from Splunk Inc. is PROHIBITED.
 */
module.exports=function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=96)}({0:function(module,exports){module.exports=__webpack_require__(1)},1:function(module,exports){module.exports=__webpack_require__(21)},12:function(module,exports){module.exports=__webpack_require__(123)},17:function(module,exports){module.exports=__webpack_require__(32)},2:function(module,exports){module.exports=__webpack_require__(0)},3:function(module,exports){module.exports=__webpack_require__(7)},38:function(module,exports){module.exports=__webpack_require__(534)},4:function(module,exports){module.exports=__webpack_require__(13)},42:function(module,exports){module.exports=__webpack_require__(925)},52:function(module,exports){module.exports=__webpack_require__(2081)},6:function(module,exports){module.exports=__webpack_require__(2)},7:function(module,exports){module.exports=__webpack_require__(51)},8:function(module,exports){module.exports=__webpack_require__(91)},96:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var external_react_=__webpack_require__(2),external_react_default=__webpack_require__.n(external_react_),external_prop_types_=__webpack_require__(0),external_prop_types_default=__webpack_require__.n(external_prop_types_),external_react_sortable_hoc_=__webpack_require__(42),i18n_=__webpack_require__(6),Button_=__webpack_require__(17),Button_default=__webpack_require__.n(Button_),Plus_=__webpack_require__(52),Plus_default=__webpack_require__.n(Plus_),keyboard_=__webpack_require__(7),external_lodash_=__webpack_require__(4),CloseButton_=__webpack_require__(38),CloseButton_default=__webpack_require__.n(CloseButton_),ScreenReaderContent_=__webpack_require__(12),ScreenReaderContent_default=__webpack_require__.n(ScreenReaderContent_),themes_=__webpack_require__(1),external_styled_components_=__webpack_require__(3),external_styled_components_default=__webpack_require__.n(external_styled_components_),Box_=__webpack_require__(8),Box_default=__webpack_require__.n(Box_),StyledBox=external_styled_components_default()(Box_default.a).withConfig({displayName:"FormRowsStyles__StyledBox",componentId:"sc-1ovjocz-0"})(["",";"],Object(themes_.mixin)("reset")("block")),StyledHeader=external_styled_components_default.a.div.withConfig({displayName:"FormRowsStyles__StyledHeader",componentId:"sc-1ovjocz-1"})(["padding-left:",";"],Object(themes_.variable)("spacingHalf")),StyledRows=external_styled_components_default.a.div.withConfig({displayName:"FormRowsStyles__StyledRows",componentId:"sc-1ovjocz-2"})(["position:relative;"]),Styled=external_styled_components_default.a.div.withConfig({displayName:"FormRowsStyles__Styled",componentId:"sc-1ovjocz-3"})(["padding:3px calc("," + 3px) 3px 0;position:relative;&.sorting{z-index:",";}&[data-sortable='true']{padding-left:",";}&:focus{outline:0;box-shadow:",";}"],Object(themes_.variable)("inputHeight"),function(props){return Object(themes_.variable)("zindexPopover")(props)+1},Object(themes_.variable)("spacingHalf"),Object(themes_.variable)("focusShadow")),StyledButton=external_styled_components_default.a.div.withConfig({displayName:"FormRowsStyles__StyledButton",componentId:"sc-1ovjocz-4"})(["position:absolute;right:0;top:3px;float:right;"]),StyledDrag=external_styled_components_default.a.div.withConfig({displayName:"FormRowsStyles__StyledDrag",componentId:"sc-1ovjocz-5"})(["position:absolute;left:0;right:0;top:4px;bottom:3px;content:'';cursor:move;width:7px;background:",";opacity:0.5;"],Object(themes_.variable)("draggableBackground"));function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],0<=excluded.indexOf(key)||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],0<=excluded.indexOf(key)||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var Row_Row=function(_Component){function Row(){var _getPrototypeOf2,_this;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Row);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_assertThisInitialized(_assertThisInitialized(_this=function(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}(this,(_getPrototypeOf2=_getPrototypeOf(Row)).call.apply(_getPrototypeOf2,[this].concat(args))))),"handleKeyDown",function(e){_this.props.onKeyDown(e,{index:_this.props.rowIndex})}),_defineProperty(_assertThisInitialized(_assertThisInitialized(_this)),"handleRequestRemove",function(e){_this.props.onRequestRemove(e,{index:_this.props.rowIndex})}),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Row,external_react_["Component"]),function(Constructor,protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps)}(Row,[{key:"render",value:function(){var _this$props=this.props,children=_this$props.children,disabledDeleteButton=_this$props.disabledDeleteButton,sortable=_this$props.sortable,elementRef=_this$props.elementRef,otherProps=_objectWithoutProperties(_this$props,["children","disabledDeleteButton","sortable","elementRef"]),DragHandle=Object(external_react_sortable_hoc_.SortableHandle)(function(){return external_react_default.a.createElement(StyledDrag,{"data-test":"drag-handle"},external_react_default.a.createElement(ScreenReaderContent_default.a,null,"Press arrow up or arrow down to re-order items"))});return external_react_default.a.createElement(Styled,_extends({"data-sortable":sortable,"data-test":"row"},Object(themes_.ref)(elementRef),{onKeyDown:this.handleKeyDown,tabIndex:sortable?0:void 0},Object(external_lodash_.omit)(otherProps,["onKeyDown","onRequestRemove","rowIndex"])),sortable&&external_react_default.a.createElement(DragHandle,null),children,external_react_default.a.createElement(StyledButton,null,external_react_default.a.createElement(CloseButton_default.a,{disabled:disabledDeleteButton,"data-test":"remove",onClick:this.handleRequestRemove,screenReaderText:Object(i18n_._)("Remove Row")})))}}]),Row}();_defineProperty(Row_Row,"propTypes",{children:external_prop_types_default.a.node,disabledDeleteButton:external_prop_types_default.a.bool,elementRef:external_prop_types_default.a.func,index:external_prop_types_default.a.number,onKeyDown:external_prop_types_default.a.func,onRequestRemove:external_prop_types_default.a.func,rowIndex:external_prop_types_default.a.number,sortable:external_prop_types_default.a.bool,value:external_prop_types_default.a.node}),_defineProperty(Row_Row,"defaultProps",{disabledDeleteButton:!1,sortable:!0});var FormRows_Row=Row_Row;function FormRows_typeof(obj){return(FormRows_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function FormRows_extends(){return(FormRows_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function FormRows_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],0<=excluded.indexOf(key)||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],0<=excluded.indexOf(key)||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function FormRows_defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function FormRows_getPrototypeOf(o){return(FormRows_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function FormRows_setPrototypeOf(o,p){return(FormRows_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function FormRows_assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function FormRows_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var SortableList=Object(external_react_sortable_hoc_.SortableContainer)(function(_ref){var children=_ref.children;return external_react_default.a.createElement(StyledRows,null,children)}),FormRows_FormRows_Row=Object(external_react_sortable_hoc_.SortableElement)(FormRows_Row),FormRows_FormRows=function(_Component){function FormRows(){var _getPrototypeOf2,_this;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,FormRows);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return FormRows_defineProperty(FormRows_assertThisInitialized(FormRows_assertThisInitialized(_this=function(self,call){return!call||"object"!==FormRows_typeof(call)&&"function"!=typeof call?FormRows_assertThisInitialized(self):call}(this,(_getPrototypeOf2=FormRows_getPrototypeOf(FormRows)).call.apply(_getPrototypeOf2,[this].concat(args))))),"handleKeyDown",function(e,_ref2){var index=_ref2.index;e.currentTarget===e.target&&("up"===Object(keyboard_.keycode)(e)?(e.preventDefault(),0<index&&_this.props.onRequestMove({fromIndex:index,toIndex:index-1})):"down"===Object(keyboard_.keycode)(e)&&(e.preventDefault(),index<_this.props.children.length-1&&_this.props.onRequestMove({fromIndex:index,toIndex:index+1})))}),FormRows_defineProperty(FormRows_assertThisInitialized(FormRows_assertThisInitialized(_this)),"handleSortEnd",function(_ref3){var oldIndex=_ref3.oldIndex,newIndex=_ref3.newIndex;_this.props.onRequestMove({fromIndex:oldIndex,toIndex:newIndex})}),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&FormRows_setPrototypeOf(subClass,superClass)}(FormRows,external_react_["Component"]),function(Constructor,protoProps,staticProps){protoProps&&FormRows_defineProperties(Constructor.prototype,protoProps),staticProps&&FormRows_defineProperties(Constructor,staticProps)}(FormRows,[{key:"render",value:function(){var _this2=this,_this$props=this.props,addLabel=_this$props.addLabel,children=_this$props.children,disabled=_this$props.disabled,header=_this$props.header,menu=_this$props.menu,onRequestAdd=_this$props.onRequestAdd,onRequestMove=_this$props.onRequestMove,onRequestRemove=_this$props.onRequestRemove,otherProps=FormRows_objectWithoutProperties(_this$props,["addLabel","children","disabled","header","menu","onRequestAdd","onRequestMove","onRequestRemove"]),sortable=onRequestMove!==FormRows.defaultProps.onRequestMove&&!disabled,StyledHeaderComp=sortable?StyledHeader:"div",clonedChildren=external_react_.Children.toArray(children).filter(external_react_.isValidElement).map(function(item){return Object(external_react_.cloneElement)(item,{onKeyDown:_this2.handleKeyDown,rowIndex:item.props.index,disabledDeleteButton:disabled,sortable:sortable})});return external_react_default.a.createElement(StyledBox,FormRows_extends({"data-test":"form-rows"},otherProps),header&&external_react_default.a.createElement(StyledHeaderComp,null,header),external_react_default.a.createElement(SortableList,{helperClass:"sorting",onSortEnd:this.handleSortEnd,onRequestRemove:onRequestRemove,sortable:sortable,useDragHandle:!0},clonedChildren),menu||external_react_default.a.createElement(Button_default.a,{disabled:disabled,appearance:"pill","data-test":"add-row",icon:external_react_default.a.createElement(Plus_default.a,null),label:addLabel,onClick:onRequestAdd}))}}],[{key:"addRow",value:function(element,items){return items.concat(element)}},{key:"moveRow",value:function(fromIndex,toIndex,items){var tempArray=items.filter(function(val,idx){return idx!==fromIndex});return tempArray.splice(toIndex,0,items[fromIndex]),tempArray.map(function(item,index){return Object(external_react_.cloneElement)(item,{index:index})})}},{key:"removeRow",value:function(index,items){return items.filter(function(val,idx){return idx!==index}).map(function(item,idx){return Object(external_react_.cloneElement)(item,{index:idx})})}}]),FormRows}();FormRows_defineProperty(FormRows_FormRows,"propTypes",{addLabel:external_prop_types_default.a.string,children:external_prop_types_default.a.node,disabled:external_prop_types_default.a.bool,elementRef:external_prop_types_default.a.func,header:external_prop_types_default.a.node,menu:external_prop_types_default.a.node,onRequestAdd:external_prop_types_default.a.func,onRequestMove:external_prop_types_default.a.func,onRequestRemove:external_prop_types_default.a.func}),FormRows_defineProperty(FormRows_FormRows,"defaultProps",{addLabel:Object(i18n_._)("Add Row"),disabled:!1,header:null,onRequestAdd:function(){},onRequestMove:function(){},onRequestRemove:function(){}}),FormRows_FormRows.Row=FormRows_FormRows_Row;var src_FormRows_FormRows=FormRows_FormRows;__webpack_require__.d(__webpack_exports__,"default",function(){return src_FormRows_FormRows}),__webpack_require__.d(__webpack_exports__,"Row",function(){return FormRows_FormRows_Row})}})},939:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _class,_temp2,_getPrototypeOf2=_interopRequireDefault(__webpack_require__(14)),_classCallCheck3=_interopRequireDefault(__webpack_require__(9)),_createClass3=_interopRequireDefault(__webpack_require__(12)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(8)),_inherits3=_interopRequireDefault(__webpack_require__(11)),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_i18n=__webpack_require__(2),_propTypes2=_interopRequireDefault(__webpack_require__(1)),_ControlGroup2=_interopRequireDefault(__webpack_require__(64)),_Text2=_interopRequireDefault(__webpack_require__(68)),_Switch2=_interopRequireDefault(__webpack_require__(78)),_commonUtils=__webpack_require__(24);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ConfigureOptions=(_temp2=_class=function(_Component){function ConfigureOptions(){var _ref,_temp,_this,_ret;(0,_classCallCheck3.default)(this,ConfigureOptions);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_temp=_this=(0,_possibleConstructorReturn3.default)(this,(_ref=ConfigureOptions.__proto__||(0,_getPrototypeOf2.default)(ConfigureOptions)).call.apply(_ref,[this].concat(args)))).isInputErrorDisplayed=function(value){var shouldBeNumeric=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return!!_this.props.isInputErrorVisible&&(!value||!!shouldBeNumeric&&!(0,_commonUtils.isNumeric)(value))},_ret=_temp,(0,_possibleConstructorReturn3.default)(_this,_ret)}return(0,_inherits3.default)(ConfigureOptions,_Component),(0,_createClass3.default)(ConfigureOptions,[{key:"render",value:function(){var installLocationError=this.props.isReceiverPortRequired&&this.isInputErrorDisplayed(this.props.ufInstallLocation),receiverPortError=this.props.isReceiverPortRequired&&this.isInputErrorDisplayed(this.props.receiverPort,!0);return _react2.default.createElement("div",null,_react2.default.createElement(_ControlGroup2.default,{label:(0,_i18n._)("Monitoring machine"),help:this.isInputErrorDisplayed(this.props.monitoringMachineName)?_react2.default.createElement("span",null," ",(0,_i18n._)("A hostname or IP address is required to use the Easy Deployment Script")," "):_react2.default.createElement("span",null," ",(0,_i18n._)("Specify the hostname or IP address of the system you want to send data to.")),error:this.isInputErrorDisplayed(this.props.monitoringMachineName)},_react2.default.createElement(_Text2.default,{name:"monitoringMachineName",inputId:"monitoring-machine-input",canClear:!0,value:this.props.monitoringMachineName,placeholder:(0,_i18n._)("Hostname or IP address"),onChange:this.props.onUpdateFormData,error:this.isInputErrorDisplayed(this.props.monitoringMachineName),disabled:this.props.disabled})),_react2.default.createElement(_ControlGroup2.default,{label:(0,_i18n._)("HEC port"),help:this.isInputErrorDisplayed(this.props.hecPort,!0)?_react2.default.createElement("span",null," ",(0,_i18n._)("An HEC port is required to use the script")," "):_react2.default.createElement("span",null,(0,_i18n._)("Enter the HEC port of the system you want to send metrics data to. The recommended port is 8088.")),error:this.isInputErrorDisplayed(this.props.hecPort,!0)},_react2.default.createElement(_Text2.default,{name:"hecPort",inputId:"hec-input",canClear:!0,value:this.props.hecPort,placeholder:(0,_i18n._)("HEC port"),onChange:this.props.onUpdateFormData,error:this.isInputErrorDisplayed(this.props.hecPort,!0),disabled:this.props.disabled})),_react2.default.createElement(_ControlGroup2.default,{label:(0,_i18n._)("Receiver port"),help:receiverPortError?_react2.default.createElement("span",null," ",(0,_i18n._)("A receiver port is required to use the script")," "):_react2.default.createElement("span",null,(0,_i18n._)("Enter the receiver port of the system you want to send log data to. The recommended port is 9997.")),error:receiverPortError},_react2.default.createElement(_Text2.default,{name:"receiverPort",inputId:"receiver-input",canClear:!0,value:this.props.isReceiverPortRequired?this.props.receiverPort:"",placeholder:(0,_i18n._)("Receiver port"),onChange:this.props.onUpdateFormData,error:receiverPortError,disabled:this.props.disabled||!this.props.isReceiverPortRequired})),_react2.default.createElement(_ControlGroup2.default,{label:(0,_i18n._)("Forwarder location"),help:installLocationError?_react2.default.createElement("span",null,(0,_i18n._)("A universal forwarder install location is required to use the script")):_react2.default.createElement("span",null,(0,_i18n._)("The location where the script installs the Splunk universal forwarder for log collection.")),error:installLocationError},_react2.default.createElement(_Text2.default,{name:"ufInstallLocation",id:"install-location",inputId:"install-dir",canClear:!0,value:this.props.isReceiverPortRequired?this.props.ufInstallLocation:"",placeholder:(0,_i18n._)("Install directory"),onChange:this.props.onUpdateFormData,error:installLocationError,disabled:this.props.disabled||!this.props.isReceiverPortRequired})),(0,_commonUtils.isEnterprise)()&&_react2.default.createElement(_ControlGroup2.default,{label:(0,_i18n._)("HEC token"),help:this.isInputErrorDisplayed(this.props.hecToken)?_react2.default.createElement("span",null," ",(0,_i18n._)("An HEC token is required to use the script")," "):_react2.default.createElement("span",null," ",(0,_i18n._)("Enter the HEC token you configured to send data to the app. The HEC token's sourcetype must be em_metrics.")," "),error:this.isInputErrorDisplayed(this.props.hecToken)},_react2.default.createElement(_Text2.default,{name:"hecToken",inputId:"hec-token-input",canClear:!0,value:this.props.hecToken,placeholder:(0,_i18n._)("HEC token"),onChange:this.props.onUpdateFormData,error:this.isInputErrorDisplayed(this.props.hecToken),disabled:this.props.disabled})),this.props.showAuthenticatedInstallOption&&_react2.default.createElement(_ControlGroup2.default,{label:(0,_i18n._)("Authenticated install"),help:_react2.default.createElement("span",null," ",(0,_i18n._)("Import a signing key when running the script on a Debian or Ubuntu system.")," ")},_react2.default.createElement(_Switch2.default,{key:"authenticated-install",value:"Yes",selected:this.props.useAuthenticatedInstall,onClick:this.props.handleAllowUnauthenticatedInstall,disabled:this.props.disabled,style:{width:"45px"}},(0,_i18n._)("Yes"))),_react2.default.createElement(_ControlGroup2.default,{label:(0,_i18n._)("Monitor Docker containers"),help:_react2.default.createElement("span",null," ",(0,_i18n._)("Monitor Docker containers you are running on the host.")," ")},_react2.default.createElement(_Switch2.default,{key:"enable-docker",value:"docker",onClick:this.props.handleDockerMonitor,selected:this.props.isDockerMonitor,appearance:"toggle",disabled:this.props.dockerDisable})),this.props.isDockerMonitor&&_react2.default.createElement(_ControlGroup2.default,{label:(0,_i18n._)("Docker Socket"),help:this.isInputErrorDisplayed(this.props.dockerSockLocation)?_react2.default.createElement("span",null," ",(0,_i18n._)("You must specify the location of docker.sock.")," "):_react2.default.createElement("span",null," ",(0,_i18n._)("Specify the location of docker.sock.")," "),error:this.isInputErrorDisplayed(this.props.dockerSockLocation)},_react2.default.createElement(_Text2.default,{name:"dockerSockLocation",inputId:"docker-sock",canClear:!0,value:this.props.dockerSockLocation,placeholder:(0,_i18n._)("Docker Socket"),onChange:this.props.onUpdateFormData,error:this.isInputErrorDisplayed(this.props.dockerSockLocation),disabled:this.props.dockerDisable})))}}]),ConfigureOptions}(_react.Component),_class.propTypes={monitoringMachineName:_propTypes2.default.string.isRequired,hecPort:_propTypes2.default.string.isRequired,receiverPort:_propTypes2.default.string.isRequired,hecToken:_propTypes2.default.string.isRequired,dockerSockLocation:_propTypes2.default.string.isRequired,isInputErrorVisible:_propTypes2.default.bool.isRequired,onUpdateFormData:_propTypes2.default.func.isRequired,handleAllowUnauthenticatedInstall:_propTypes2.default.func.isRequired,handleDockerMonitor:_propTypes2.default.func.isRequired,isDockerMonitor:_propTypes2.default.bool.isRequired,dockerDisable:_propTypes2.default.bool.isRequired,disabled:_propTypes2.default.bool,useAuthenticatedInstall:_propTypes2.default.bool,showAuthenticatedInstallOption:_propTypes2.default.bool,ufInstallLocation:_propTypes2.default.string,isReceiverPortRequired:_propTypes2.default.bool},_class.defaultProps={monitoringMachineName:"",hecPort:"",receiverPort:"",hecToken:"",dockerSockLocation:"",isInputErrorVisible:!1,isDockerMonitor:!1,dockerDisable:!1,onUpdateFormData:function(){},handleAllowUnauthenticatedInstall:function(){},handleDockerMonitor:function(){},disabled:!1,useAuthenticatedInstall:!0,showAuthenticatedInstallOption:!1,ufInstallLocation:"",isReceiverPortRequired:!0},_temp2);exports.default=ConfigureOptions,module.exports=exports.default},940:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _class,_temp,_extends3=_interopRequireDefault(__webpack_require__(6)),_slicedToArray3=_interopRequireDefault(__webpack_require__(92)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(14)),_classCallCheck3=_interopRequireDefault(__webpack_require__(9)),_createClass3=_interopRequireDefault(__webpack_require__(12)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(8)),_inherits3=_interopRequireDefault(__webpack_require__(11)),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_styledComponents=__webpack_require__(7),_i18n=__webpack_require__(2),_format=__webpack_require__(39),_lodash=__webpack_require__(16),_propTypes2=_interopRequireDefault(__webpack_require__(1)),_Button2=_interopRequireDefault(__webpack_require__(32)),_Paragraph2=_interopRequireDefault(__webpack_require__(40)),_Modal2=_interopRequireDefault(__webpack_require__(140)),_ColumnLayout2=_interopRequireDefault(__webpack_require__(537)),_Switch2=_interopRequireDefault(__webpack_require__(78)),_Message2=_interopRequireDefault(__webpack_require__(90)),_Link2=_interopRequireDefault(__webpack_require__(57)),_Tooltip2=_interopRequireDefault(__webpack_require__(126)),_emUtils=__webpack_require__(26),_stateConstants=__webpack_require__(15);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CustomizeObjectsModal=(_temp=_class=function(_Component){function CustomizeObjectsModal(props,context){(0,_classCallCheck3.default)(this,CustomizeObjectsModal);var _this=(0,_possibleConstructorReturn3.default)(this,(CustomizeObjectsModal.__proto__||(0,_getPrototypeOf2.default)(CustomizeObjectsModal)).call(this,props,context));return _this.handleObjectsClick=function(e,_ref){var value=_ref.value,newState=(0,_lodash.cloneDeep)(_this.state.selectedObjects);newState[value].selected=!newState[value].selected,_this.setState({selectedObjects:newState})},_this.handleObjectRadioOptionChange=function(e,data){var newState=(0,_lodash.cloneDeep)(_this.state.selectedObjects);newState[data.name].selection.value=data.value,_this.setState({selectedObjects:newState})},_this.handleObjectOptionChange=function(e,_ref2){var value=_ref2.value,newState=(0,_lodash.cloneDeep)(_this.state.selectedObjects),_value$split=value.split("."),_value$split2=(0,_slicedToArray3.default)(_value$split,2),object=_value$split2[0],option=_value$split2[1];newState[object].options[option].selected=!newState[object].options[option].selected,_this.setState({selectedObjects:newState})},_this.showObjectsError=function(){_this.setState({showObjectsError:!0})},_this.hideObjectsError=function(){_this.setState({showObjectsError:!1})},_this.selectAllObjects=function(){var newState=(0,_lodash.cloneDeep)(_this.state.selectedObjects);(0,_lodash.each)(newState,function(value,key){newState[key].selected=!0}),_this.setState({selectedObjects:newState}),_this.hideObjectsError()},_this.deselectAllObjects=function(){var newState=(0,_lodash.cloneDeep)(_this.state.selectedObjects);(0,_lodash.each)(newState,function(value,key){newState[key].required||(newState[key].selected=!1)}),_this.setState({selectedObjects:newState})},_this.getSwitch=function(object){return _react2.default.createElement("div",{key:object},_react2.default.createElement(_Switch2.default,{key:object,value:object,selected:_this.state.selectedObjects[object].selected,disabled:_this.state.selectedObjects[object].required,onClick:_this.handleObjectsClick,appearance:"checkbox",size:"small",tag:"object"},object))},_this.state={selectedObjects:_this.props.selectedObjects,saveBtnEnabled:!0,showObjectsError:!1},_this.savedState=_this.state,_this.submit=_this.submit.bind(_this),_this.cancelAndCloseModal=_this.cancelAndCloseModal.bind(_this),_this.styles={title:{fontSize:14,fontWeight:600,marginTop:"8px"}},_this}return(0,_inherits3.default)(CustomizeObjectsModal,_Component),(0,_createClass3.default)(CustomizeObjectsModal,[{key:"cancelAndCloseModal",value:function(){this.setState((0,_extends3.default)({},this.savedState)),this.props.handleRequestClose()}},{key:"submit",value:function(){0<(0,_lodash.filter)(this.state.selectedObjects,"selected").length?(this.props.updateCustomObjects({selectedObjects:this.state.selectedObjects}),this.savedState=this.state,this.props.handleRequestClose()):this.showObjectsError()}},{key:"render",value:function(){var colStyle={padding:10},requiredObjects=(0,_lodash.filter)(this.props.objectsDisplayOrder,function(i){return i===_stateConstants.NODES||i===_stateConstants.PODS}),advancedObjects=(0,_lodash.filter)(this.props.objectsDisplayOrder,function(i){return i!==_stateConstants.NODES&&i!==_stateConstants.PODS}),requiredObjectSwitches=(0,_lodash.map)(requiredObjects,this.getSwitch),advancedObjectSwitches=(0,_lodash.map)(advancedObjects,this.getSwitch),numSelectedObjects=(0,_lodash.filter)(this.state.selectedObjects,"selected").length;return _react2.default.createElement(_Modal2.default,{onRequestClose:this.cancelAndCloseModal,open:this.props.open,style:{minWidth:"700px"},id:"customize-objects-collection-modal"},_react2.default.createElement(_Modal2.default.Header,{title:(0,_i18n._)("Customize Data Collection"),onRequestClose:this.cancelAndCloseModal}),_react2.default.createElement(_Modal2.default.Body,{style:{padding:"0"}},_react2.default.createElement(_ColumnLayout2.default,{divider:"vertical",gutter:0,style:{paddingLeft:"10px"}},_react2.default.createElement(_ColumnLayout2.default.Row,null,_react2.default.createElement(_ColumnLayout2.default.Column,{span:12,style:colStyle},_react2.default.createElement(_Paragraph2.default,null,(0,_format.sprintf)((0,_emUtils.ungettext)("%d Object Selected","%d Objects Selected",numSelectedObjects),numSelectedObjects)),_react2.default.createElement(_ColumnLayout2.default.Row,{gutter:0},_react2.default.createElement(_ColumnLayout2.default.Column,{span:2},_react2.default.createElement(_Link2.default,{id:"select-all-objects",onClick:this.selectAllObjects},(0,_i18n._)("Select All"))),_react2.default.createElement(_ColumnLayout2.default.Column,{span:10},_react2.default.createElement(_Link2.default,{id:"deselect-all-objects",onClick:this.deselectAllObjects},(0,_i18n._)("Deselect All")))))),_react2.default.createElement(_ColumnLayout2.default.Row,null,_react2.default.createElement(_ColumnLayout2.default.Column,{span:12,style:colStyle,"data-test":"objects-column"},_react2.default.createElement("div",null,requiredObjectSwitches),_react2.default.createElement(_Paragraph2.default,{style:this.styles.title},(0,_i18n._)("Advanced Collection"),_react2.default.createElement(_Tooltip2.default,{style:{marginLeft:"10px"},defaultPlacement:"right",content:_react2.default.createElement("span",null,_react2.default.createElement("span",{style:{display:"block"}},(0,_i18n._)("Metrics events and metadata will be collected for each of these objects but will only be available in search and reporting.")),_react2.default.createElement("span",null,(0,_i18n._)("Only nodes and pods are monitored by Splunk App for Infrastructure."))),inline:!0})),_react2.default.createElement("div",null,advancedObjectSwitches),_react2.default.createElement(_Message2.default,{id:"objects-error-message",fill:!0,type:"error",style:{visibility:this.state.showObjectsError?"visible":"hidden"}},(0,_i18n._)("You must select at least one object.")))))),_react2.default.createElement(_Modal2.default.Footer,null,_react2.default.createElement(_Button2.default,{onClick:this.cancelAndCloseModal,label:(0,_i18n._)("Cancel")}),_react2.default.createElement(_Button2.default,{appearance:"primary",onClick:this.submit,label:(0,_i18n._)("Save"),disabled:!this.state.saveBtnEnabled})))}}]),CustomizeObjectsModal}(_react.Component),_class.propTypes={open:_propTypes2.default.bool,handleRequestClose:_propTypes2.default.func.isRequired,updateCustomObjects:_propTypes2.default.func.isRequired,selectedObjects:_propTypes2.default.object.isRequired,objectsDisplayOrder:_propTypes2.default.arrayOf(_propTypes2.default.string).isRequired},_class.defaultProps={open:!1,sourceTypes:[]},_temp);exports.default=(0,_styledComponents.withTheme)(CustomizeObjectsModal),module.exports=exports.default},941:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _class,_temp,_defineProperty3=_interopRequireDefault(__webpack_require__(23)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(14)),_classCallCheck3=_interopRequireDefault(__webpack_require__(9)),_createClass3=_interopRequireDefault(__webpack_require__(12)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(8)),_inherits3=_interopRequireDefault(__webpack_require__(11)),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_i18n=__webpack_require__(2),_propTypes2=_interopRequireDefault(__webpack_require__(1)),_ControlGroup2=_interopRequireDefault(__webpack_require__(64)),_Text2=_interopRequireDefault(__webpack_require__(68)),_Message2=_interopRequireDefault(__webpack_require__(90)),_Link2=_interopRequireDefault(__webpack_require__(57));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ConfigureIndexOptions=(_temp=_class=function(_Component){function ConfigureIndexOptions(props){(0,_classCallCheck3.default)(this,ConfigureIndexOptions);var _this=(0,_possibleConstructorReturn3.default)(this,(ConfigureIndexOptions.__proto__||(0,_getPrototypeOf2.default)(ConfigureIndexOptions)).call(this,props));return _this.handleOnChange=function(e,_ref){var value=_ref.value,name=_ref.name,modifiedKey=name+"Modified";_this.setState((0,_defineProperty3.default)({},modifiedKey,!0)),_this.props.onChange(e,{value:value,name:name})},_this.isValidIndexName=function(indexName){return!!indexName&&/^[a-z0-9]+[a-z0-9_-]*$/.test(indexName)},_this.state={metricsIndexModified:!1,metaIndexModified:!1},_this}return(0,_inherits3.default)(ConfigureIndexOptions,_Component),(0,_createClass3.default)(ConfigureIndexOptions,[{key:"render",value:function(){return _react2.default.createElement("div",null,_react2.default.createElement(_ControlGroup2.default,{label:(0,_i18n._)("Metrics Index"),help:this.isValidIndexName(this.props.metricsIndex)?_react2.default.createElement("span",null,(0,_i18n._)("Destination index (metrics) for metrics data"),this.state.metricsIndexModified&&_react2.default.createElement(_Message2.default,{type:"info"},(0,_i18n._)("To use a custom metrics index, update the "),_react2.default.createElement(_Link2.default,{openInNewContext:!0,to:"/manager/splunk_app_infrastructure/admin/macros/sai_metrics_indexes?action=edit"},(0,_i18n._)("sai_metrics_indexes")),(0,_i18n._)(" macro."))):_react2.default.createElement("span",null,(0,_i18n._)("Index names must consist of only numbers, lowercase letters, underscores, and hyphens and they cannot begin with an underscore or hyphen")),error:!this.isValidIndexName(this.props.metricsIndex)},_react2.default.createElement(_Text2.default,{name:"metricsIndex",canClear:!0,value:this.props.metricsIndex,placeholder:(0,_i18n._)("Metrics Index"),onChange:this.handleOnChange})),_react2.default.createElement(_ControlGroup2.default,{label:(0,_i18n._)("Log Index"),help:this.isValidIndexName(this.props.logIndex)?_react2.default.createElement("span",null,(0,_i18n._)("Destination index (events) for "+(this.props.isOpenShift?"OpenShift":"Kubernetes")+" log data")):_react2.default.createElement("span",null,(0,_i18n._)("Index names must consist of only numbers, lowercase letters, underscores, and hyphens and they cannot begin with an underscore or hyphen")),error:!this.isValidIndexName(this.props.logIndex)},_react2.default.createElement(_Text2.default,{name:"logIndex",canClear:!0,value:this.props.logIndex,placeholder:(0,_i18n._)("Log Index"),onChange:this.handleOnChange})),_react2.default.createElement(_ControlGroup2.default,{label:(0,_i18n._)("Metadata Index"),help:this.isValidIndexName(this.props.metaIndex)?_react2.default.createElement("span",null,(0,_i18n._)("Destination index (events) for "+(this.props.isOpenShift?"OpenShift":"Kubernetes")+" metadata events"),this.state.metaIndexModified&&_react2.default.createElement(_Message2.default,{type:"info"},(0,_i18n._)("To use a custom metadata index, update the "),_react2.default.createElement(_Link2.default,{openInNewContext:!0,to:"/manager/splunk_app_infrastructure/admin/macros/sai_metadata_indexes?action=edit"},(0,_i18n._)(" sai_metadata_indexes")),(0,_i18n._)(" macro."))):_react2.default.createElement("span",null,(0,_i18n._)("Index names must consist of only numbers, lowercase letters, underscores, and hyphens and they cannot begin with an underscore or hyphen")),error:!this.isValidIndexName(this.props.metaIndex)},_react2.default.createElement(_Text2.default,{name:"metaIndex",canClear:!0,value:this.props.metaIndex,placeholder:(0,_i18n._)("Metadata Index"),onChange:this.handleOnChange})))}}]),ConfigureIndexOptions}(_react.Component),_class.propTypes={metricsIndex:_propTypes2.default.string.isRequired,logIndex:_propTypes2.default.string.isRequired,metaIndex:_propTypes2.default.string.isRequired,onChange:_propTypes2.default.func.isRequired,isOpenShift:_propTypes2.default.bool},_class.defaultProps={isOpenShift:!1},_temp);exports.default=ConfigureIndexOptions,module.exports=exports.default},942:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _react2=_interopRequireDefault(__webpack_require__(0)),_propTypes2=_interopRequireDefault(__webpack_require__(1)),_ControlGroup2=_interopRequireDefault(__webpack_require__(64)),_Switch2=_interopRequireDefault(__webpack_require__(78)),_Paragraph2=_interopRequireDefault(__webpack_require__(40)),_i18n=__webpack_require__(2),_emUtils=__webpack_require__(26);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var subtitleStyles={fontWeight:500},SCKSecurityOptions=function(_ref){var hecInsecureSSLEnabled=_ref.hecInsecureSSLEnabled,onToggleHecInsecureSSL=_ref.onToggleHecInsecureSSL,objectsInsecureSSLEnabled=_ref.objectsInsecureSSLEnabled,onToggleObjectsInsecureSSL=_ref.onToggleObjectsInsecureSSL,metricsInsecureSSLEnabled=_ref.metricsInsecureSSLEnabled,onToggleMetricsInsecureSSL=_ref.onToggleMetricsInsecureSSL;return _react2.default.createElement(_react2.default.Fragment,null,_react2.default.createElement(_Paragraph2.default,null,_react2.default.createElement("span",{style:subtitleStyles},(0,_i18n._)("Security options"))," ",(0,_i18n._)("-- Allow insecureSSL for the following:")," "),!(0,_emUtils.isSplunkCloud)()&&_react2.default.createElement(_ControlGroup2.default,{label:(0,_i18n._)("Splunk HEC"),help:_react2.default.createElement("span",null," ",(0,_i18n._)("Enable this setting to allow SCK pods to send data to the HEC endpoint with an insecure SSL connection.")," ")},_react2.default.createElement(_Switch2.default,{id:"global-insecureSSL",value:"useGlobalInsecureSSL",selected:hecInsecureSSLEnabled,onClick:function(e,_ref2){var value=_ref2.value;return onToggleHecInsecureSSL(value)},appearance:"toggle"})),_react2.default.createElement(_ControlGroup2.default,{label:(0,_i18n._)("Kubelet-object pods"),help:_react2.default.createElement("span",null," ",(0,_i18n._)("Enable this setting to allow kubernetes-objects pods to talk to the Kubernetes API with an insecure SSL connection.")," ")},_react2.default.createElement(_Switch2.default,{id:"objects-insecureSSL",value:"useObjectsInsecureSSL",appearance:"toggle",selected:objectsInsecureSSLEnabled,onClick:function(e,_ref3){var value=_ref3.value;return onToggleObjectsInsecureSSL(value)}})),_react2.default.createElement(_ControlGroup2.default,{label:(0,_i18n._)("Kubelet-metric pods"),help:_react2.default.createElement("span",null," ",(0,_i18n._)("Enable this setting to allow the kubernetes-metrics pod to talk to the Kubelet on each node with an insecure SSL connection.")," ")},_react2.default.createElement(_Switch2.default,{id:"metrics-insecureSSL",value:"useMetricsInsecureSSL",appearance:"toggle",selected:metricsInsecureSSLEnabled,onClick:function(e,_ref4){var value=_ref4.value;return onToggleMetricsInsecureSSL(value)}})))};SCKSecurityOptions.propTypes={hecInsecureSSLEnabled:_propTypes2.default.bool,onToggleHecInsecureSSL:_propTypes2.default.func.isRequired,objectsInsecureSSLEnabled:_propTypes2.default.bool,onToggleObjectsInsecureSSL:_propTypes2.default.func.isRequired,metricsInsecureSSLEnabled:_propTypes2.default.bool,onToggleMetricsInsecureSSL:_propTypes2.default.func.isRequired},SCKSecurityOptions.defaultProps={hecInsecureSSLEnabled:!1,objectsInsecureSSLEnabled:!0,metricsInsecureSSLEnabled:!0},exports.default=SCKSecurityOptions,module.exports=exports.default},943:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _react2=_interopRequireDefault(__webpack_require__(0)),_propTypes2=_interopRequireDefault(__webpack_require__(1)),_ControlGroup2=_interopRequireDefault(__webpack_require__(64)),_i18n=__webpack_require__(2),_Text2=_interopRequireDefault(__webpack_require__(68)),_stateConstants=__webpack_require__(15);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SCKLoggingOptions=function(_ref){var journaldPath=_ref.journaldPath,onUpdateJournaldPath=_ref.onUpdateJournaldPath,shouldDisplayError=_ref.shouldDisplayError;return _react2.default.createElement(_ControlGroup2.default,{label:(0,_i18n._)("Journald path"),help:_react2.default.createElement("span",null," ",(0,_i18n._)("This is the path to the journald logs on your Node. May vary based on OS distribution.")," "),error:shouldDisplayError},_react2.default.createElement(_Text2.default,{name:"journaldPath",inputId:"journald-path",canClear:!0,value:journaldPath,placeholder:(0,_i18n._)("journald path"),onChange:function(e,_ref2){var name=_ref2.name,value=_ref2.value;return onUpdateJournaldPath(name,value)},error:shouldDisplayError}))};SCKLoggingOptions.propTypes={journaldPath:_propTypes2.default.string,onUpdateJournaldPath:_propTypes2.default.func.isRequired,shouldDisplayError:_propTypes2.default.bool},SCKLoggingOptions.defaultProps={journaldPath:_stateConstants.K8S_DEFAULT_JOURNALD_PATH,shouldDisplayError:!1},exports.default=SCKLoggingOptions,module.exports=exports.default},944:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _react2=_interopRequireDefault(__webpack_require__(0)),_propTypes2=_interopRequireDefault(__webpack_require__(1)),_ControlGroup2=_interopRequireDefault(__webpack_require__(64)),_i18n=__webpack_require__(2),_RadioList2=_interopRequireDefault(__webpack_require__(544));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SCKMetricsOptions=function(_ref){var kubeletProtocol=_ref.kubeletProtocol,onUpdateProtocol=_ref.onUpdateProtocol;return _react2.default.createElement(_ControlGroup2.default,{label:(0,_i18n._)("Kubelet Protocol"),help:_react2.default.createElement("span",null," ",(0,_i18n._)("When https is selected Kubernetes-metrics will be collected from Kubelet port 10250, http will use 10255.")," ")},_react2.default.createElement(_RadioList2.default,{value:kubeletProtocol,onChange:function(e,_ref2){var name=_ref2.name,value=_ref2.value;return onUpdateProtocol(name,value)},appearance:"horizontal",name:"kubeletProtocol"},_react2.default.createElement(_RadioList2.default.Option,{value:"https"},"https"),_react2.default.createElement(_RadioList2.default.Option,{value:"http"},"http")))};SCKMetricsOptions.propTypes={kubeletProtocol:_propTypes2.default.string,onUpdateProtocol:_propTypes2.default.func.isRequired},SCKMetricsOptions.defaultProps={kubeletProtocol:"https"},exports.default=SCKMetricsOptions,module.exports=exports.default},"collections/Base":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),__webpack_require__("mixins/modelcollection"),__webpack_require__("models/Base"),__webpack_require__("shim/splunk.util"),__webpack_require__("util/splunkd_utils")],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,modelcollectionMixin,Base,splunkUtils,splunkDUtils){var BaseCollection=Backbone.Collection.extend({initialize:function(models,options){Backbone.Collection.prototype.initialize.apply(this,arguments),this.fetchData=options&&options.fetchData?options.fetchData:new Base,this.fetchData.on("change",_.debounce(function(){this.safeFetch()},0),this),this.associated=this.associated||{},this.on("sync",this._onsync,this),this.on("error",this._onerror,this),this.on("reset",this.previousModelsOff,this)},fetch:function(options){var mergedOptions=this.getMergedOptions(options);this.fetchXhr=Backbone.Collection.prototype.fetch.call(this,mergedOptions);var that=this;return this.fetchXhr.done(function(){that.touched&&that.safeFetch.apply(that,that.touched)}),this.fetchXhr},_onerror:function(collection,response,options){var messages=splunkDUtils.xhrErrorResponseParser(response,this.id);this.trigger("serverValidated",!1,this,messages)},_onsync:function(collection,response,options){var messages=this.parseSplunkDMessages(response),hasErrors=_(messages).any(function(message){return message.type===splunkDUtils.ERROR||message.type===splunkDUtils.FATAL});this.trigger("serverValidated",!hasErrors,this,messages)},parseSplunkDMessages:function(response){return response?splunkDUtils.parseMessagesObject(response.messages):[]},deepOff:function(){modelcollectionMixin.deepOff.apply(this,arguments),this.each(function(model){_.isFunction(model.deepOff)&&model.deepOff()})},associatedOff:function(events,callback,context){_(this.associated).each(function(associated){associated.off(events,callback,context),_.isFunction(associated.associatedOff)&&associated.associatedOff(events,callback,context)},this),this.each(function(model){_.isFunction(model.associatedOff)&&model.associatedOff(events,callback,context)}),this.fetchData.off(events,callback,context)},previousModelsOff:function(models,options){_(options.previousModels).each(function(model){_.isFunction(model.deepOff)&&model.deepOff()})},reverse:function(options){options||(options={});var reversedModels=[].concat(this.models).reverse();if(!1===options.mutate)return reversedModels;this.reset(reversedModels,options)},isValid:function(options){return this.all(function(model){return model.isValid(options)})},deepClone:function(){return new this.constructor(this.invoke("clone"))},clearErrors:function(){this.trigger("serverValidated",!0,this,[])},getMergedOptions:function(options){return $.extend(!0,{},{data:this.fetchData.toJSON()},options)}});return _.extend(BaseCollection.prototype,modelcollectionMixin),BaseCollection}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"collections/SplunkDsBase":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),__webpack_require__("models/SplunkDBase"),__webpack_require__("models/shared/fetchdata/EAIFetchData"),__webpack_require__("collections/Base"),__webpack_require__("util/splunkd_utils")],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,SplunkDBaseModel,EAIFetchData,Base,splunkDUtils){return Base.extend({model:SplunkDBaseModel,initialize:function(models,options){(options=options||{}).fetchData=options.fetchData||new EAIFetchData,Base.prototype.initialize.call(this,models,options),this.initializeAssociated()},initializeAssociated:function(){this.links=this.links||new SplunkDBaseModel,this.paging=this.paging||new SplunkDBaseModel},fetch:function(options){return Base.prototype.fetch.call(this,$.extend(!0,{},{reset:!0},options))},sync:function(method,collection,options){options=options||{};var url,defaults={data:{output_mode:"json"},traditional:!0};switch(method){case"read":if((window.$C.SPLUNKD_FREE_LICENSE||options.isFreeLicense)&&collection.FREE_PAYLOAD){options.success&&options.success(collection,collection.FREE_PAYLOAD,options);var dfd=$.Deferred();return dfd.resolve.apply(dfd,[collection,collection.FREE_PAYLOAD,options])}url=_.isFunction(collection.url)?collection.url():collection.url;var appOwner=this.getAppOwner(options);return defaults.url=splunkDUtils.fullpath(url,appOwner),$.extend(!0,defaults,options),delete defaults.data.app,delete defaults.data.owner,delete defaults.data.sharing,Backbone.sync.call(this,"read",collection,defaults);default:throw new Error("invalid method: "+method)}},parse:function(response){this.initializeAssociated(),this.links.set(response.links),delete response.links,response.paging&&this.paging.set(response.paging);var results=response.entry,header=$.extend(!0,{},response);return delete header.entry,_.map(results,function(result){var container=$.extend(!0,{},header);return container.entry=[$.extend(!0,{},result)],container})},setFromSplunkD:function(payload,options){this.reset(payload,$.extend({parse:!0},options))},findByEntryName:function(name){return this.find(function(model){return model.entry.get("name")===name})},getAppOwner:function(options){var appOwner={};return options.data&&(appOwner=$.extend(appOwner,{app:options.data.app||void 0,owner:options.data.owner||void 0,sharing:options.data.sharing||void 0})),appOwner}},{availableWithUserWildCardSearchString:function(owner){return'((eai:acl.sharing="user" AND eai:acl.owner='+splunkDUtils.quoteSearchFilterValue(owner)+') OR (eai:acl.sharing!="user"))'}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"collections/search/Jobs":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),__webpack_require__("models/search/Job"),__webpack_require__("models/services/search/jobs/BulkControl"),__webpack_require__("collections/services/search/Jobs")],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,JobModel,BulkControlModel,JobsCollection){return JobsCollection.extend({model:JobModel,initialize:function(){JobsCollection.prototype.initialize.apply(this,arguments)},initializeAssociated:function(){this.bulkControl=this.bulkControl||new BulkControlModel,JobsCollection.prototype.initializeAssociated.apply(this,arguments)},getAllSids:function(){return this.map(function(job){return job.get("id")})},noParamBulkControlUpdate:function(action,sids,options){return options&&options.data&&delete options.data,this.bulkControl.save({},$.extend(!0,options,{traditional:!0,data:{action:action,sid:sids}}))},fetchNonAutoSummaryJobs:function(options){var omit_autosummary='(NOT CASE(_ACCELERATE_) AND NOT CASE(_AUTOSUMMARY_) AND NOT "|*summarize*action=")',filters={};return(options=options||{}).data=options.data||{},options.data.count=options.data.count||10,options.data.offset=options.data.offset||0,options.data.sort_key=options.data.sortKey||"dispatch_time",options.data.sort_dir=options.data.sortDirection||"desc",delete options.data.sortKey,delete options.data.sortDirection,options.data.search?options.data.search=omit_autosummary+" AND ("+options.data.search+")":options.data.search=omit_autosummary,filters["NOT isDataPreview"]="1",options.data.app&&"*"!==options.data.app&&(filters["eai:acl.app"]=options.data.app),delete options.data.app,options.data.owner&&"*"!==options.data.owner&&(filters["eai:acl.owner"]=options.data.owner),delete options.data.owner,options.data.label&&(filters.label=options.data.label),delete options.data.label,options.data.jobStatus&&"*"!==options.data.jobStatus&&("running"===options.data.jobStatus?(filters.isDone=0,filters.isPaused=0,filters.isFinalized=0,filters.isFailed=0):"done"===options.data.jobStatus?filters.isDone=1:"queued"===options.data.jobStatus?filters.dispatchState="QUEUED":"parsing"===options.data.jobStatus?filters.dispatchState="PARSING":"paused"===options.data.jobStatus?filters.isPaused=1:"finalizing"===options.data.jobStatus?filters.dispatchState="FINALIZING":"finalized"===options.data.jobStatus?filters.isFinalized=1:"failed"===options.data.jobStatus?filters.isFailed=1:"background"===options.data.jobStatus&&(filters["custom.isBackground"]=1,filters.isDone=0)),delete options.data.jobStatus,_.each(filters,function(value,key){options.data.search=options.data.search+" "+key+'="'+value+'"'}),this.fetch(options)},deleteAll:function(options){return options=options||{},this.noParamBulkControlUpdate("cancel",this.getAllSids(),options)},touchAll:function(options){return options=options||{},this.noParamBulkControlUpdate("touch",this.getAllSids(),options)},pauseAll:function(options){return options=options||{},this.noParamBulkControlUpdate("pause",this.getAllSids(),options)},resumeAll:function(options){return options=options||{},this.noParamBulkControlUpdate("unpause",this.getAllSids(),options)},stopAll:function(options){return options=options||{},this.noParamBulkControlUpdate("finalize",this.getAllSids(),options)},getRunningJobs:function(){return this.filter(function(searchJob){return searchJob.isRunning()})},getPausedJobs:function(){return this.filter(function(searchJob){return searchJob.isPaused()})},getNotDoneJobs:function(){return this.filter(function(searchJob){return!searchJob.isDone()})}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"collections/services/search/Jobs":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("models/services/search/Job"),__webpack_require__("collections/SplunkDsBase")],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(JobModel,SplunkDsBaseCollection){return SplunkDsBaseCollection.extend({url:"search/jobs",model:JobModel,initialize:function(){SplunkDsBaseCollection.prototype.initialize.apply(this,arguments)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"contrib/backbone":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,root;root=this,__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),exports],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,exports){root.Backbone=function(root,Backbone,_,$){var previousBackbone=root.Backbone,array=[],slice=array.slice;Backbone.VERSION="1.1.2",Backbone.$=$,Backbone.noConflict=function(){return root.Backbone=previousBackbone,this},Backbone.emulateHTTP=!1,Backbone.emulateJSON=!1;var Events=Backbone.Events={on:function(name,callback,context){if(!eventsApi(this,"on",name,[callback,context])||!callback)return this;this._events||(this._events={});var events=this._events[name]||(this._events[name]=[]);return events.push({callback:callback,context:context,ctx:context||this}),this},once:function(name,callback,context){if(!eventsApi(this,"once",name,[callback,context])||!callback)return this;var self=this,once=_.once(function(){self.off(name,once),callback.apply(this,arguments)});return once._callback=callback,this.on(name,once,context)},off:function(name,callback,context){var retain,ev,events,names,i,l,j,k;if(!this._events||!eventsApi(this,"off",name,[callback,context]))return this;if(!name&&!callback&&!context)return this._events=void 0,this;for(names=name?[name]:_.keys(this._events),i=0,l=names.length;i<l;i++)if(name=names[i],events=this._events[name]){if(this._events[name]=retain=[],callback||context)for(j=0,k=events.length;j<k;j++)ev=events[j],(callback&&callback!==ev.callback&&callback!==ev.callback._callback||context&&context!==ev.context)&&retain.push(ev);retain.length||delete this._events[name]}return this},trigger:function(name){if(!this._events)return this;var args=slice.call(arguments,1);if(!eventsApi(this,"trigger",name,args))return this;var events=this._events[name],allEvents=this._events.all;return events&&triggerEvents(events,args),allEvents&&triggerEvents(allEvents,arguments),this},stopListening:function(obj,name,callback){var listeningTo=this._listeningTo;if(!listeningTo)return this;var remove=!name&&!callback;for(var id in callback||"object"!=typeof name||(callback=this),obj&&((listeningTo={})[obj._listenId]=obj),listeningTo)(obj=listeningTo[id]).off(name,callback,this),(remove||_.isEmpty(obj._events))&&delete this._listeningTo[id];return this}},eventSplitter=/\s+/,eventsApi=function(obj,action,name,rest){if(!name)return!0;if("object"==typeof name){for(var key in name)obj[action].apply(obj,[key,name[key]].concat(rest));return!1}if(eventSplitter.test(name)){for(var names=name.split(eventSplitter),i=0,l=names.length;i<l;i++)obj[action].apply(obj,[names[i]].concat(rest));return!1}return!0},triggerEvents=function(events,args){var ev,i=-1,l=events.length,a1=args[0],a2=args[1],a3=args[2];switch(args.length){case 0:for(;++i<l;)(ev=events[i]).callback.call(ev.ctx);return;case 1:for(;++i<l;)(ev=events[i]).callback.call(ev.ctx,a1);return;case 2:for(;++i<l;)(ev=events[i]).callback.call(ev.ctx,a1,a2);return;case 3:for(;++i<l;)(ev=events[i]).callback.call(ev.ctx,a1,a2,a3);return;default:for(;++i<l;)(ev=events[i]).callback.apply(ev.ctx,args);return}};_.each({listenTo:"on",listenToOnce:"once"},function(implementation,method){Events[method]=function(obj,name,callback){var listeningTo=this._listeningTo||(this._listeningTo={}),id=obj._listenId||(obj._listenId=_.uniqueId("l"));return listeningTo[id]=obj,callback||"object"!=typeof name||(callback=this),obj[implementation](name,callback,this),this}}),Events.bind=Events.on,Events.unbind=Events.off,_.extend(Backbone,Events);var Model=Backbone.Model=function(attributes,options){var attrs=attributes||{};options||(options={}),this.cid=_.uniqueId("c"),this.attributes={},options.collection&&(this.collection=options.collection),options.parse&&(attrs=this.parse(attrs,options)||{}),attrs=_.defaults({},attrs,_.result(this,"defaults")),this.set(attrs,options),this.changed={},this.initialize.apply(this,arguments)};_.extend(Model.prototype,Events,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(options){return _.clone(this.attributes)},sync:function(){return Backbone.sync.apply(this,arguments)},get:function(attr){return this.attributes[attr]},escape:function(attr){return _.escape(this.get(attr))},has:function(attr){return null!=this.get(attr)},set:function(key,val,options){var attr,attrs,unset,changes,silent,changing,prev,current;if(null==key)return this;if("object"==typeof key?(attrs=key,options=val):(attrs={})[key]=val,options||(options={}),!this._validate(attrs,options))return!1;for(attr in unset=options.unset,silent=options.silent,changes=[],changing=this._changing,this._changing=!0,changing||(this._previousAttributes=_.clone(this.attributes),this.changed={}),current=this.attributes,prev=this._previousAttributes,this.idAttribute in attrs&&(this.id=attrs[this.idAttribute]),attrs)val=attrs[attr],_.isEqual(current[attr],val)||changes.push(attr),_.isEqual(prev[attr],val)?delete this.changed[attr]:this.changed[attr]=val,unset?delete current[attr]:current[attr]=val;if(!silent){changes.length&&(this._pending=options);for(var i=0,l=changes.length;i<l;i++)this.trigger("change:"+changes[i],this,current[changes[i]],options)}if(changing)return this;if(!silent)for(;this._pending;)options=this._pending,this._pending=!1,this.trigger("change",this,options);return this._pending=!1,this._changing=!1,this},unset:function(attr,options){return this.set(attr,void 0,_.extend({},options,{unset:!0}))},clear:function(options){var attrs={};for(var key in this.attributes)attrs[key]=void 0;return this.set(attrs,_.extend({},options,{unset:!0}))},hasChanged:function(attr){return null==attr?!_.isEmpty(this.changed):_.has(this.changed,attr)},changedAttributes:function(diff){if(!diff)return!!this.hasChanged()&&_.clone(this.changed);var val,changed=!1,old=this._changing?this._previousAttributes:this.attributes;for(var attr in diff)_.isEqual(old[attr],val=diff[attr])||((changed||(changed={}))[attr]=val);return changed},previous:function(attr){return null!=attr&&this._previousAttributes?this._previousAttributes[attr]:null},previousAttributes:function(){return _.clone(this._previousAttributes)},fetch:function(options){void 0===(options=options?_.clone(options):{}).parse&&(options.parse=!0);var model=this,success=options.success;return options.success=function(resp){if(!model.set(model.parse(resp,options),options))return!1;success&&success(model,resp,options),model.trigger("sync",model,resp,options)},wrapError(this,options),this.sync("read",this,options)},save:function(key,val,options){var attrs,method,xhr,attributes=this.attributes;if(null==key||"object"==typeof key?(attrs=key,options=val):(attrs={})[key]=val,options=_.extend({validate:!0},options),attrs&&!options.wait){if(!this.set(attrs,options))return!1}else if(!this._validate(attrs,options))return!1;attrs&&options.wait&&(this.attributes=_.extend({},attributes,attrs)),void 0===options.parse&&(options.parse=!0);var model=this,success=options.success;return options.success=function(resp){model.attributes=attributes;var serverAttrs=model.parse(resp,options);if(options.wait&&(serverAttrs=_.extend(attrs||{},serverAttrs)),_.isObject(serverAttrs)&&!model.set(serverAttrs,options))return!1;success&&success(model,resp,options),model.trigger("sync",model,resp,options)},wrapError(this,options),"patch"==(method=this.isNew()?"create":options.patch?"patch":"update")&&(options.attrs=attrs),xhr=this.sync(method,this,options),attrs&&options.wait&&(this.attributes=attributes),xhr},destroy:function(options){options=options?_.clone(options):{};var model=this,success=options.success,destroy=function(){model.trigger("destroy",model,model.collection,options)};if(options.success=function(resp){(options.wait||model.isNew())&&destroy(),success&&success(model,resp,options),model.isNew()||model.trigger("sync",model,resp,options)},this.isNew())return options.success(),!1;wrapError(this,options);var xhr=this.sync("delete",this,options);return options.wait||destroy(),xhr},url:function(){var base=_.result(this,"urlRoot")||_.result(this.collection,"url")||urlError();return this.isNew()?base:base.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(resp,options){return resp},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(options){return this._validate({},_.extend(options||{},{validate:!0}))},_validate:function(attrs,options){if(!options.validate||!this.validate)return!0;attrs=_.extend({},this.attributes,attrs);var error=this.validationError=this.validate(attrs,options)||null;return!error||(this.trigger("invalid",this,error,_.extend(options,{validationError:error})),!1)}}),_.each(["keys","values","pairs","invert","pick","omit"],function(method){Model.prototype[method]=function(){var args=slice.call(arguments);return args.unshift(this.attributes),_[method].apply(_,args)}});var Collection=Backbone.Collection=function(models,options){options||(options={}),options.model&&(this.model=options.model),void 0!==options.comparator&&(this.comparator=options.comparator),this._reset(),this.initialize.apply(this,arguments),models&&this.reset(models,_.extend({silent:!0},options))},setOptions={add:!0,remove:!0,merge:!0},addOptions={add:!0,remove:!1};_.extend(Collection.prototype,Events,{model:Model,initialize:function(){},toJSON:function(options){return this.map(function(model){return model.toJSON(options)})},sync:function(){return Backbone.sync.apply(this,arguments)},add:function(models,options){return this.set(models,_.extend({merge:!1},options,addOptions))},remove:function(models,options){var i,l,index,model,singular=!_.isArray(models);for(models=singular?[models]:_.clone(models),options||(options={}),i=0,l=models.length;i<l;i++)(model=models[i]=this.get(models[i]))&&(delete this._byId[model.id],delete this._byId[model.cid],index=this.indexOf(model),this.models.splice(index,1),this.length--,options.silent||(options.index=index,model.trigger("remove",model,this,options)),this._removeReference(model,options));return singular?models[0]:models},set:function(models,options){(options=_.defaults({},options,setOptions)).parse&&(models=this.parse(models,options));var i,l,id,model,attrs,existing,sort,singular=!_.isArray(models);models=singular?models?[models]:[]:_.clone(models);var at=options.at,targetModel=this.model,sortable=this.comparator&&null==at&&!1!==options.sort,sortAttr=_.isString(this.comparator)?this.comparator:null,toAdd=[],toRemove=[],modelMap={},add=options.add,merge=options.merge,remove=options.remove,order=!(sortable||!add||!remove)&&[];for(i=0,l=models.length;i<l;i++){if(attrs=models[i]||{},id=attrs instanceof Model?model=attrs:attrs[targetModel.prototype.idAttribute||"id"],existing=this.get(id))remove&&(modelMap[existing.cid]=!0),merge&&(attrs=attrs===model?model.attributes:attrs,options.parse&&(attrs=existing.parse(attrs,options)),existing.set(attrs,options),sortable&&!sort&&existing.hasChanged(sortAttr)&&(sort=!0)),models[i]=existing;else if(add){if(!(model=models[i]=this._prepareModel(attrs,options)))continue;toAdd.push(model),this._addReference(model,options)}model=existing||model,!order||!model.isNew()&&modelMap[model.id]||order.push(model),modelMap[model.id]=!0}if(remove){for(i=0,l=this.length;i<l;++i)modelMap[(model=this.models[i]).cid]||toRemove.push(model);toRemove.length&&this.remove(toRemove,options)}if(toAdd.length||order&&order.length)if(sortable&&(sort=!0),this.length+=toAdd.length,null!=at)for(i=0,l=toAdd.length;i<l;i++)this.models.splice(at+i,0,toAdd[i]);else{order&&(this.models.length=0);var orderedModels=order||toAdd;for(i=0,l=orderedModels.length;i<l;i++)this.models.push(orderedModels[i])}if(sort&&this.sort({silent:!0}),!options.silent){for(i=0,l=toAdd.length;i<l;i++)(model=toAdd[i]).trigger("add",model,this,options);(sort||order&&order.length)&&this.trigger("sort",this,options)}return singular?models[0]:models},reset:function(models,options){options||(options={});for(var i=0,l=this.models.length;i<l;i++)this._removeReference(this.models[i],options);return options.previousModels=this.models,this._reset(),models=this.add(models,_.extend({silent:!0},options)),options.silent||this.trigger("reset",this,options),models},push:function(model,options){return this.add(model,_.extend({at:this.length},options))},pop:function(options){var model=this.at(this.length-1);return this.remove(model,options),model},unshift:function(model,options){return this.add(model,_.extend({at:0},options))},shift:function(options){var model=this.at(0);return this.remove(model,options),model},slice:function(){return slice.apply(this.models,arguments)},get:function(obj){if(null!=obj)return this._byId[obj]||this._byId[obj.id]||this._byId[obj.cid]},at:function(index){return this.models[index]},where:function(attrs,first){return _.isEmpty(attrs)?first?void 0:[]:this[first?"find":"filter"](function(model){for(var key in attrs)if(attrs[key]!==model.get(key))return!1;return!0})},findWhere:function(attrs){return this.where(attrs,!0)},sort:function(options){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return options||(options={}),_.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(_.bind(this.comparator,this)),options.silent||this.trigger("sort",this,options),this},pluck:function(attr){return _.invoke(this.models,"get",attr)},fetch:function(options){void 0===(options=options?_.clone(options):{}).parse&&(options.parse=!0);var success=options.success,collection=this;return options.success=function(resp){var method=options.reset?"reset":"set";collection[method](resp,options),success&&success(collection,resp,options),collection.trigger("sync",collection,resp,options)},wrapError(this,options),this.sync("read",this,options)},create:function(model,options){if(options=options?_.clone(options):{},!(model=this._prepareModel(model,options)))return!1;options.wait||this.add(model,options);var collection=this,success=options.success;return options.success=function(model,resp){options.wait&&collection.add(model,options),success&&success(model,resp,options)},model.save(null,options),model},parse:function(resp,options){return resp},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(attrs,options){if(attrs instanceof Model)return attrs;var model=new(((options=options?_.clone(options):{}).collection=this).model)(attrs,options);return model.validationError?(this.trigger("invalid",this,model.validationError,options),!1):model},_addReference:function(model,options){null!=(this._byId[model.cid]=model).id&&(this._byId[model.id]=model),model.collection||(model.collection=this),model.on("all",this._onModelEvent,this)},_removeReference:function(model,options){this===model.collection&&delete model.collection,model.off("all",this._onModelEvent,this)},_onModelEvent:function(event,model,collection,options){("add"!==event&&"remove"!==event||collection===this)&&("destroy"===event&&this.remove(model,options),model&&event==="change:"+model.idAttribute&&(delete this._byId[model.previous(model.idAttribute)],null!=model.id&&(this._byId[model.id]=model)),this.trigger.apply(this,arguments))}}),_.each(["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"],function(method){Collection.prototype[method]=function(){var args=slice.call(arguments);return args.unshift(this.models),_[method].apply(_,args)}}),_.each(["groupBy","countBy","sortBy","indexBy"],function(method){Collection.prototype[method]=function(value,context){var iterator=_.isFunction(value)?value:function(model){return model.get(value)};return _[method](this.models,iterator,context)}});var View=Backbone.View=function(options){this.cid=_.uniqueId("view"),options||(options={}),_.extend(this,_.pick(options,viewOptions)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},delegateEventSplitter=/^(\S+)\s*(.*)$/,viewOptions=["model","collection","el","id","attributes","className","tagName","events"];_.extend(View.prototype,Events,{tagName:"div",$:function(selector){return this.$el.find(selector)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(element,delegate){return this.$el&&this.undelegateEvents(),this.$el=element instanceof Backbone.$?element:Backbone.$(element),this.el=this.$el[0],!1!==delegate&&this.delegateEvents(),this},delegateEvents:function(events){if(!events&&!(events=_.result(this,"events")))return this;for(var key in this.undelegateEvents(),events){var method=events[key];if(_.isFunction(method)||(method=this[events[key]]),method){var match=key.match(delegateEventSplitter),eventName=match[1],selector=match[2];method=_.bind(method,this),eventName+=".delegateEvents"+this.cid,""===selector?this.$el.on(eventName,method):this.$el.on(eventName,selector,method)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(_.result(this,"el"),!1);else{var attrs=_.extend({},_.result(this,"attributes"));this.id&&(attrs.id=_.result(this,"id")),this.className&&(attrs.class=_.result(this,"className"));var $el=Backbone.$("<"+_.result(this,"tagName")+">").attr(attrs);this.setElement($el,!1)}}}),Backbone.sync=function(method,model,options){var type=methodMap[method];_.defaults(options||(options={}),{emulateHTTP:Backbone.emulateHTTP,emulateJSON:Backbone.emulateJSON});var params={type:type,dataType:"json"};if(options.url||(params.url=_.result(model,"url")||urlError()),null!=options.data||!model||"create"!==method&&"update"!==method&&"patch"!==method||(params.contentType="application/json",params.data=JSON.stringify(options.attrs||model.toJSON(options))),options.emulateJSON&&(params.contentType="application/x-www-form-urlencoded",params.data=params.data?{model:params.data}:{}),options.emulateHTTP&&("PUT"===type||"DELETE"===type||"PATCH"===type)){params.type="POST",options.emulateJSON&&(params.data._method=type);var beforeSend=options.beforeSend;options.beforeSend=function(xhr){if(xhr.setRequestHeader("X-HTTP-Method-Override",type),beforeSend)return beforeSend.apply(this,arguments)}}"GET"===params.type||options.emulateJSON||(params.processData=!1),"PATCH"===params.type&&noXhrPatch&&(params.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var xhr=options.xhr=Backbone.ajax(_.extend(params,options));return model.trigger("request",model,xhr,options),xhr};var noXhrPatch=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),methodMap={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};Backbone.ajax=function(){return Backbone.$.ajax.apply(Backbone.$,arguments)};var Router=Backbone.Router=function(options){options||(options={}),options.routes&&(this.routes=options.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},optionalParam=/\((.*?)\)/g,namedParam=/(\(\?)?:\w+/g,splatParam=/\*\w+/g,escapeRegExp=/[\-{}\[\]+?.,\\\^$|#\s]/g;_.extend(Router.prototype,Events,{initialize:function(){},route:function(route,name,callback){_.isRegExp(route)||(route=this._routeToRegExp(route)),_.isFunction(name)&&(callback=name,name=""),callback||(callback=this[name]);var router=this;return Backbone.history.route(route,function(fragment){var args=router._extractParameters(route,fragment);router.execute(callback,args),router.trigger.apply(router,["route:"+name].concat(args)),router.trigger("route",name,args),Backbone.history.trigger("route",router,name,args)}),this},execute:function(callback,args){callback&&callback.apply(this,args)},navigate:function(fragment,options){return Backbone.history.navigate(fragment,options),this},_bindRoutes:function(){if(this.routes){this.routes=_.result(this,"routes");for(var route,routes=_.keys(this.routes);null!=(route=routes.pop());)this.route(route,this.routes[route])}},_routeToRegExp:function(route){return route=route.replace(escapeRegExp,"\\$&").replace(optionalParam,"(?:$1)?").replace(namedParam,function(match,optional){return optional?match:"([^/?]+)"}).replace(splatParam,"([^?]*?)"),new RegExp("^"+route+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(route,fragment){var params=route.exec(fragment).slice(1);return _.map(params,function(param,i){return i===params.length-1?param||null:param?decodeURIComponent(param):null})}});var History=Backbone.History=function(){this.handlers=[],_.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},routeStripper=/^[#\/]|\s+$/g,rootStripper=/^\/+|\/+$/g,isExplorer=/msie [\w.]+/,trailingSlash=/\/$/,pathStripper=/#.*$/;History.started=!1,_.extend(History.prototype,Events,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(window){var match=(window||this).location.href.match(/#(.*)$/);return match?match[1]:""},getFragment:function(fragment,forcePushState){if(null==fragment)if(this._hasPushState||!this._wantsHashChange||forcePushState){fragment=decodeURI(this.location.pathname+this.location.search);var root=this.root.replace(trailingSlash,"");fragment.indexOf(root)||(fragment=fragment.slice(root.length))}else fragment=this.getHash();return fragment.replace(routeStripper,"")},start:function(options){if(History.started)throw new Error("Backbone.history has already been started");History.started=!0,this.options=_.extend({root:"/"},this.options,options),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var fragment=this.getFragment(),docMode=document.documentMode,oldIE=isExplorer.exec(navigator.userAgent.toLowerCase())&&(!docMode||docMode<=7);if(this.root=("/"+this.root+"/").replace(rootStripper,"/"),oldIE&&this._wantsHashChange){var frame=Backbone.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=frame.hide().appendTo("body")[0].contentWindow,this.navigate(fragment)}this._hasPushState?Backbone.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!oldIE?Backbone.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=fragment;var loc=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&loc.hash&&(this.fragment=this.getHash().replace(routeStripper,""),this.history.replaceState({},document.title,this.root+this.fragment))}if(!this.options.silent)return this.loadUrl()},stop:function(){Backbone.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),History.started=!1},route:function(route,callback){this.handlers.unshift({route:route,callback:callback})},checkUrl:function(e){var current=this.getFragment();if(current===this.fragment&&this.iframe&&(current=this.getFragment(this.getHash(this.iframe))),current===this.fragment)return!1;this.iframe&&this.navigate(current),this.loadUrl()},loadUrl:function(fragment){return fragment=this.fragment=this.getFragment(fragment),_.any(this.handlers,function(handler){if(handler.route.test(fragment))return handler.callback(fragment),!0})},navigate:function(fragment,options){if(!History.started)return!1;options&&!0!==options||(options={trigger:!!options});var url=this.root+(fragment=this.getFragment(fragment||""));if(fragment=fragment.replace(pathStripper,""),this.fragment!==fragment){if(""===(this.fragment=fragment)&&"/"!==url&&(url=url.slice(0,-1)),this._hasPushState)this.history[options.replace?"replaceState":"pushState"]({},document.title,url);else{if(!this._wantsHashChange)return this.location.assign(url);this._updateHash(this.location,fragment,options.replace),this.iframe&&fragment!==this.getFragment(this.getHash(this.iframe))&&(options.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,fragment,options.replace))}return options.trigger?this.loadUrl(fragment):void 0}},_updateHash:function(location,fragment,replace){if(replace){var href=location.href.replace(/(javascript:|#).*$/,"");location.replace(href+"#"+fragment)}else location.hash="#"+fragment}}),Backbone.history=new History,Model.extend=Collection.extend=Router.extend=View.extend=History.extend=function(protoProps,staticProps){var child,parent=this;child=protoProps&&_.has(protoProps,"constructor")?protoProps.constructor:function(){return parent.apply(this,arguments)},_.extend(child,parent,staticProps);var Surrogate=function(){this.constructor=child};return Surrogate.prototype=parent.prototype,child.prototype=new Surrogate,protoProps&&_.extend(child.prototype,protoProps),child.__super__=parent.prototype,child};var urlError=function(){throw new Error('A "url" property or function must be specified')},wrapError=function(model,options){var error=options.error;options.error=function(resp){error&&error(model,resp,options),model.trigger("error",model,resp,options)}};return Backbone}(root,exports,_,$)}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"contrib/backbone-validation-amd":function(module,exports,__webpack_require__){var Backbone,_;module.exports=(Backbone=__webpack_require__("require/backbone"),_=__webpack_require__("require/underscore"),Backbone.Validation=function(_){"use strict";var validateAttr,mixin,bindModel,unbindModel,collectionAdd,collectionRemove,trim,isNumber,hasValue,defaultOptions={forceUpdate:!1,selector:"name",labelFormatter:"sentenceCase",valid:Function.prototype,invalid:Function.prototype},formatFunctions={formatLabel:function(attrName,model){return defaultLabelFormatters[defaultOptions.labelFormatter](attrName,model)},format:function(){var args=Array.prototype.slice.call(arguments);return args.shift().replace(/\{(\d+)\}/g,function(match,number){return void 0!==args[number]?args[number]:match})}},flatten=function(obj,into,prefix){return into=into||{},prefix=prefix||"",_.each(obj,function(val,key){obj.hasOwnProperty(key)&&(val&&"object"==typeof val&&!(val instanceof Array||val instanceof Date||val instanceof RegExp||val instanceof Backbone.Model||val instanceof Backbone.Collection)?flatten(val,into,prefix+key+"."):into[prefix+key]=val)}),into},Validation=(validateAttr=function(model,attr,value,computed){return _.reduce(function(model,attr){var attrValidationSet=model.validation&&_.result(model,"validation")[attr]||{};return(_.isFunction(attrValidationSet)||_.isString(attrValidationSet))&&(attrValidationSet={fn:attrValidationSet}),_.isArray(attrValidationSet)||(attrValidationSet=[attrValidationSet]),_.reduce(attrValidationSet,function(memo,attrValidation){return _.each(_.without(_.keys(attrValidation),"msg"),function(validator){memo.push({fn:defaultValidators[validator],val:attrValidation[validator],msg:attrValidation.msg})}),memo},[])}(model,attr),function(memo,validator){var ctx=_.extend({},formatFunctions,defaultValidators),result=validator.fn.call(ctx,value,attr,validator.val,model,computed);return!1!==result&&!1!==memo&&(result&&!memo?_.result(validator,"msg")||result:memo)},"")},bindModel=function(view,model,options){_.extend(model,mixin(view,options))},unbindModel=function(model){delete model.validate,delete model.preValidate,delete model.isValid},collectionAdd=function(model){bindModel(this.view,model,this.options)},collectionRemove=function(model){unbindModel(model)},{version:"0.9.1",configure:function(options){_.extend(defaultOptions,options)},bind:function(view,options){var model=(options=_.extend({},defaultOptions,defaultCallbacks,options)).model||view.model,collection=options.collection||view.collection;if(void 0===model&&void 0===collection)throw"Before you execute the binding your view must have a model or a collection.\nSee http://thedersen.com/projects/backbone-validation/#using-form-model-validation for more information.";model?bindModel(view,model,options):collection&&(collection.each(function(model){bindModel(view,model,options)}),collection.bind("add",collectionAdd,{view:view,options:options}),collection.bind("remove",collectionRemove))},unbind:function(view,options){var model=(options=_.extend({},options)).model||view.model,collection=options.collection||view.collection;model?unbindModel(model):collection&&(collection.each(function(model){unbindModel(model)}),collection.unbind("add",collectionAdd),collection.unbind("remove",collectionRemove))},mixin:(mixin=function(view,options){return{preValidate:function(attr,value){var error,self=this,result={};return _.isObject(attr)?(_.each(attr,function(value,key){(error=self.preValidate(key,value))&&(result[key]=error)}),_.isEmpty(result)?void 0:result):validateAttr(this,attr,value,_.extend({},this.attributes))},isValid:function(option){var flattened=flatten(this.attributes);return _.isString(option)?!validateAttr(this,option,flattened[option],_.extend({},this.attributes)):_.isArray(option)?_.reduce(option,function(memo,attr){return memo&&!validateAttr(this,attr,flattened[attr],_.extend({},this.attributes))},!0,this):(!0===option&&this.validate(),!this.validation||this._isValid)},validate:function(attrs,setOptions){var model=this,validateAll=!attrs,opt=_.extend({},options,setOptions),validatedAttrs=function(model){return _.reduce(_.keys(_.result(model,"validation")||{}),function(memo,key){return memo[key]=void 0,memo},{})}(model),allAttrs=_.extend({},validatedAttrs,model.attributes,attrs),changedAttrs=flatten(attrs||allAttrs),result=function(model,attrs){var error,invalidAttrs={},isValid=!0,computed=_.clone(attrs),flattened=flatten(attrs);return _.each(flattened,function(val,attr){(error=validateAttr(model,attr,val,computed))&&(invalidAttrs[attr]=error,isValid=!1)}),{invalidAttrs:invalidAttrs,isValid:isValid}}(model,allAttrs);if(model._isValid=result.isValid,_.each(validatedAttrs,function(val,attr){result.invalidAttrs.hasOwnProperty(attr)||opt.valid(view,attr,opt.selector)}),_.each(validatedAttrs,function(val,attr){var invalid=result.invalidAttrs.hasOwnProperty(attr),changed=changedAttrs.hasOwnProperty(attr);invalid&&(changed||validateAll)&&opt.invalid(view,attr,result.invalidAttrs[attr],opt.selector)}),_.defer(function(){model.trigger("validated",model._isValid,model,result.invalidAttrs),model.trigger("validated:"+(model._isValid?"valid":"invalid"),model,result.invalidAttrs)}),!opt.forceUpdate&&0<_.intersection(_.keys(result.invalidAttrs),_.keys(changedAttrs)).length)return result.invalidAttrs}}})(null,defaultOptions)}),defaultCallbacks=Validation.callbacks={valid:function(view,attr,selector){view.$("["+selector+'~="'+attr+'"]').removeClass("invalid").removeAttr("data-error")},invalid:function(view,attr,error,selector){view.$("["+selector+'~="'+attr+'"]').addClass("invalid").attr("data-error",error)}},defaultPatterns=Validation.patterns={digits:/^\d+$/,number:/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/,email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,url:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i},defaultMessages=Validation.messages={required:"{0} is required",acceptance:"{0} must be accepted",min:"{0} must be greater than or equal to {1}",max:"{0} must be less than or equal to {1}",range:"{0} must be between {1} and {2}",length:"{0} must be {1} characters",minLength:"{0} must be at least {1} characters",maxLength:"{0} must be at most {1} characters",rangeLength:"{0} must be between {1} and {2} characters",oneOf:"{0} must be one of: {1}",equalTo:"{0} must be the same as {1}",digits:"{0} must only contain digits",number:"{0} must be a number",email:"{0} must be a valid email",url:"{0} must be a valid url",inlinePattern:"{0} is invalid"},defaultLabelFormatters=Validation.labelFormatters={none:function(attrName){return attrName},sentenceCase:function(attrName){return attrName.replace(/(?:^\w|[A-Z]|\b\w)/g,function(match,index){return 0===index?match.toUpperCase():" "+match.toLowerCase()}).replace(/_/g," ")},label:function(attrName,model){return model.labels&&model.labels[attrName]||defaultLabelFormatters.sentenceCase(attrName,model)}},defaultValidators=Validation.validators=(trim=String.prototype.trim?function(text){return null===text?"":String.prototype.trim.call(text)}:function(text){return null===text?"":text.toString().replace(/^\s+/,"").replace(/\s+$/,"")},isNumber=function(value){return _.isNumber(value)||_.isString(value)&&value.match(defaultPatterns.number)},hasValue=function(value){return!(_.isNull(value)||_.isUndefined(value)||_.isString(value)&&""===trim(value)||_.isArray(value)&&_.isEmpty(value))},{fn:function(value,attr,fn,model,computed){return _.isString(fn)&&(fn=model[fn]),fn.call(model,value,attr,computed)},required:function(value,attr,required,model,computed){var isRequired=_.isFunction(required)?required.call(model,value,attr,computed):required;return!(!isRequired&&!hasValue(value))&&(isRequired&&!hasValue(value)?this.format(defaultMessages.required,this.formatLabel(attr,model)):void 0)},acceptance:function(value,attr,accept,model){if("true"!==value&&(!_.isBoolean(value)||!1===value))return this.format(defaultMessages.acceptance,this.formatLabel(attr,model))},min:function(value,attr,minValue,model){if(!isNumber(value)||value<minValue)return this.format(defaultMessages.min,this.formatLabel(attr,model),minValue)},max:function(value,attr,maxValue,model){if(!isNumber(value)||maxValue<value)return this.format(defaultMessages.max,this.formatLabel(attr,model),maxValue)},range:function(value,attr,range,model){if(!isNumber(value)||value<range[0]||value>range[1])return this.format(defaultMessages.range,this.formatLabel(attr,model),range[0],range[1])},length:function(value,attr,length,model){if(!_.isString(value)||value.length!==length)return this.format(defaultMessages.length,this.formatLabel(attr,model),length)},minLength:function(value,attr,minLength,model){if(!_.isString(value)||value.length<minLength)return this.format(defaultMessages.minLength,this.formatLabel(attr,model),minLength)},maxLength:function(value,attr,maxLength,model){if(!_.isString(value)||value.length>maxLength)return this.format(defaultMessages.maxLength,this.formatLabel(attr,model),maxLength)},rangeLength:function(value,attr,range,model){if(!_.isString(value)||value.length<range[0]||value.length>range[1])return this.format(defaultMessages.rangeLength,this.formatLabel(attr,model),range[0],range[1])},oneOf:function(value,attr,values,model){if(!_.include(values,value))return this.format(defaultMessages.oneOf,this.formatLabel(attr,model),values.join(", "))},equalTo:function(value,attr,equalTo,model,computed){if(value!==computed[equalTo])return this.format(defaultMessages.equalTo,this.formatLabel(attr,model),this.formatLabel(equalTo,model))},pattern:function(value,attr,pattern,model){if(!hasValue(value)||!value.toString().match(defaultPatterns[pattern]||pattern))return this.format(defaultMessages[pattern]||defaultMessages.inlinePattern,this.formatLabel(attr,model),pattern)}});return _.each(defaultValidators,function(validator,key){defaultValidators[key]=_.bind(defaultValidators[key],_.extend({},formatFunctions,defaultValidators))}),Validation}(_),Backbone.Validation)},"helpers/Session":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/backbone"),__webpack_require__("require/underscore"),__webpack_require__("shim/splunk.session"),__webpack_require__("util/console"),__webpack_require__("shim/splunk.util")],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function($,Backbone,_,SplunkSession,console,splunkUtil){var Session=function(){this._session=SplunkSession.getInstance(),this.cid=_.uniqueId(),this.timeout="SessionTimeout."+this.cid,this.start="SessionStart."+this.cid,this.restart="HaltOnRestart."+this.cid,$(document).on(this.timeout,function(){console.log("ui_inactivity_timeout occurred, current limit is: "+splunkUtil.getConfigValue("UI_INACTIVITY_TIMEOUT",this._session.UI_INACTIVITY_TIMEOUT)+" minute(s)"),this.trigger("timeout")}.bind(this)),$(document).on(this.start,function(){this.trigger("start")}.bind(this)),$(document).on(this.restart,function(){this.trigger("restart")}.bind(this))};return _.extend(Session.prototype,Backbone.Events,{dispose:function(){$(document).off(this.timeout),$(document).off(this.start),$(document).off(this.restart)}}),new Session}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"helpers/search/ArtifactFetchManager":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone")],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone){var cache=[],jobProgressHandler=function(link,job){shouldFetchArtifact(job)&&this.safeFetch()},jobLinkChangeHandler=function(linkModel,newValue){this.set(this.idAttribute,newValue)},shouldFetchArtifact=function(job){return job.entry.content.get("isPreviewEnabled")||job.isDone()},ArtifactFetchManager=$.extend({},Backbone.Events,{registerArtifactModel:function(artifactModel,job,linkKey){if(job.on("jobProgress:"+linkKey,jobProgressHandler,artifactModel),job.entry.links.on("change:"+linkKey,jobLinkChangeHandler,artifactModel),this.listenToOnce(job,"destroy",this._jobDestroyHandler),this.listenTo(artifactModel,"request",function(artifactModel,response,fetchOptions){this._artifactRequestHandler(artifactModel,response,fetchOptions,job)}),job.entry.links.has(linkKey)){artifactModel.set(artifactModel.idAttribute,job.entry.links.get(linkKey));var cachedPayload=this._getCachedPayload(artifactModel);cachedPayload?_.defer(function(){artifactModel.set(artifactModel.parse($.extend(!0,{},cachedPayload)))}):!job.isPreparing()&&shouldFetchArtifact(job)&&artifactModel.safeFetch()}},unregisterArtifactModel:function(artifactModel,job){job.off(null,jobProgressHandler,artifactModel),job.entry.links.off(null,jobLinkChangeHandler,artifactModel),artifactModel.fetchAbort(),this.stopListening(artifactModel)},_jobDestroyHandler:function(job){cache=_(cache).reject(function(entry){return job.entry.links.has(entry.link)}),job.off(null,jobProgressHandler),job.entry.links.off(null,jobLinkChangeHandler)},_artifactRequestHandler:function(artifactModel,request,fetchOptions,job){job.isDone()&&request.done(_(function(response){this._writeToCache(artifactModel,response,fetchOptions)}).bind(this))},_getCachedPayload:function(artifactModel){var matchingEntry=this._findMatchingCacheEntry(artifactModel,artifactModel.fetchData.toJSON());return matchingEntry&&matchingEntry.payload},_writeToCache:function(artifactModel,response,fetchOptions){var fetchData=fetchOptions.data,matchingEntry=this._findMatchingCacheEntry(artifactModel,fetchData);if(matchingEntry)cache=[matchingEntry].concat(_(cache).without(matchingEntry));else{var newEntry={link:artifactModel.id,payload:$.extend(!0,{},response),fetchParams:$.extend(!0,{},fetchData)};cache=[newEntry].concat(cache.slice(0,ArtifactFetchManager.CACHE_SIZE_LIMIT-1))}},_findMatchingCacheEntry:function(artifactModel,fetchData){return _(cache).find(function(entry){return this._normalizeArtifactId(entry.link)===this._normalizeArtifactId(artifactModel.id)&&_.isEqual(entry.fetchParams,fetchData)},this)},_normalizeArtifactId:function(link){return link.replace(/^\/services\//,"/servicesNS/nobody/search/")},_clearCache:function(){cache=[]}});return ArtifactFetchManager.CACHE_SIZE_LIMIT=5,ArtifactFetchManager}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},logger:function(module,exports){!function(global){Splunk.namespace("Splunk.Logger"),Splunk.Logger.getLogger=function(fileName,mode){var self;mode=mode||Splunk.Logger.mode.Default;try{self=new mode(fileName)}catch(err){throw self=this,new Error("Splunk.Logger mode is undefined, not callable or thrown an exception. mode="+mode+" and fileName="+fileName+". Check to make sure the mode you are defining exist (see: web.conf js_logger_mode) and is a proper closure. Stack trace:"+err)}return self},Splunk.Logger.hasConsole=function(){return"undefined"!=typeof console},Splunk.Logger.mode={},Splunk.Logger.mode.None=function(){this.info=this.log=this.debug=this.warn=this.error=this.trace=function(){}},Splunk.Logger.mode.Firebug=Splunk.Logger.mode.None,Splunk.Logger.mode.Server=function(fileName){var buffer=Splunk.Logger.mode.Server.Buffer.getInstance(),bufferPush=function(args,level){args=args||[];for(var i=0;i<args.length;i++)if("object"==typeof args[i])try{args[i]=JSON.stringify(args[i])}catch(e){}var message=Array.apply(null,args).join(" "),data={level:level,class:fileName,message:message};buffer.push(data)};this.info=function(){bufferPush(arguments,"info")},this.log=function(){bufferPush(arguments,"log")},this.debug=function(){bufferPush(arguments,"debug")},this.warn=function(){bufferPush(arguments,"warn")},this.error=function(){bufferPush(arguments,"error")},this.trace=function(){var trace="";try{trace=(new Error).stack.replace(/^Error/,"")}catch(e){}trace&&bufferPush([trace],"debug")}},Splunk.Logger.mode.Server.Buffer=function(){var self=this,buffer=[],purge=function(){!function(){var data=JSON.stringify(buffer);$.post(Splunk.Logger.mode.Server.END_POINT,{data:data})}(),buffer=[]};self.push=function(str){buffer.push(str),buffer.length>Splunk.Logger.mode.Server.MAX_BUFFER&&purge()},self.poller=function(){0<buffer.length&&purge()},self.size=function(){return buffer.length},self.Buffer=void setInterval(self.poller,Splunk.Logger.mode.Server.POLL_BUFFER)},Splunk.Logger.mode.Server.Buffer.instance=null,Splunk.Logger.mode.Server.Buffer.getInstance=function(){return null==Splunk.Logger.mode.Server.Buffer.instance&&(Splunk.Logger.mode.Server.Buffer.instance=new Splunk.Logger.mode.Server.Buffer),Splunk.Logger.mode.Server.Buffer.instance},Splunk.Logger.mode.Server.END_POINT=Splunk.util.make_url(Splunk.util.getConfigValue("JS_LOGGER_MODE_SERVER_END_POINT","util/log/js")),Splunk.Logger.mode.Server.POLL_BUFFER=Splunk.util.getConfigValue("JS_LOGGER_MODE_SERVER_POLL_BUFFER",1e3),Splunk.Logger.mode.Server.MAX_BUFFER=Splunk.util.getConfigValue("JS_LOGGER_MODE_SERVER_MAX_BUFFER",100),Splunk.Logger.mode.Default=Splunk.Logger.mode[Splunk.util.getConfigValue("JS_LOGGER_MODE","None")],Splunk.log=function(msg,category,src){Splunk.Logger.getLogger("logger.js").warn("WARNING! Splunk.log is now deprecated. See Splunk.Logger class for more details.","Original Message:",msg," Original Category:",category,"Original Source:",src)};var D=global.D={};D.logger=Splunk.Logger.getLogger("logger.js"),D.wrapper=function(str,level){D.logger.warn("WARNING! D.",level,"is now deprecated. See Splunk.Logger class for more details.",str)},D.debug=function(str){D.wrapper(str,"debug")},D.error=function(str){D.wrapper(str,"error")},D.warn=function(str){D.wrapper(str,"warn")},Splunk.util.logger=Splunk.Logger.getLogger("util.js")}(this)},"mixins/domtracker":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var _=__webpack_require__("require/underscore"),jQuery=__webpack_require__("shim/jquery");return{listenToDOM:function($el,eventName,handler){if(!($el instanceof jQuery))throw new Error("listenToDOM supports only jQuery objects");var domListeners=this._domListeners||(this._domListeners=[]),bindedHandler=_.bind(handler,this),eventNames=eventName.split(" ");_.each(eventNames,function(eventName){$el.on(eventName,bindedHandler);var subscription={$el:$el,eventName:eventName,handler:handler,bindedHandler:bindedHandler};domListeners.push(subscription)})},stopListeningDOM:function($el,eventName,handler){if($el&&!($el instanceof jQuery))throw new Error("stopListeningDOM supports only jQuery objects");var domListeners=this._domListeners||(this._domListeners=[]),eventNames=eventName?eventName.split(" "):eventName;this._domListeners=_.filter(domListeners,function(subscription){return!!($el&&!subscription.$el.is($el)||eventNames&&!(0<=_.indexOf(eventNames,subscription.eventName))||handler&&subscription.handler!==handler)||(subscription.$el.off(subscription.eventName,subscription.bindedHandler),!1)})}}}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"mixins/modelcollection":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("util/Ticker"),__webpack_require__("helpers/Session")],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(_,Ticker,Session){return{safeFetch:function(){this.isFetching()?this.touched=arguments:(delete this.touched,this.fetch.apply(this,arguments))},isFetching:function(){return this.fetchXhr&&this.fetchXhr.state&&"pending"===this.fetchXhr.state()},fetchAbort:function(){this.isFetching()&&(delete this.touched,_.isFunction(this.fetchXhr.abort)&&this.fetchXhr.abort())},deepOff:function(){this.fetchAbort(),_(this.associated).each(function(associated){_.isFunction(associated.deepOff)&&associated.deepOff()},this),_.isFunction(this.fetchData.deepOff)?this.fetchData.deepOff():this.fetchData.off(),this.off()},DEFAULT_POLLING_DELAY:1e3,ticker:null,startPolling:function(options){if(options=options||{},this.ticker)throw new Error("startPolling cannot be called while already polling");this.ticker=new Ticker({interval:options.delay||this.DEFAULT_POLLING_DELAY}),this.ticker.on("tick",function(){options.condition&&!options.condition(this)?this.stopPolling():this.safeFetch({data:options.data})},this),!1!==options.stopOnError&&this.on("error",this.stopPolling,this),options.uiInactivity&&Session.on("timeout",this.stopPolling,this),this.ticker.start(!0)},stopPolling:function(){this.ticker&&(this.ticker.stop(),this.ticker.off()),this.off("error",this.stopPolling,this),Session.off("timeout",this.stopPolling,this),this.ticker=null}}}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"models/ACLReadOnly":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),__webpack_require__("models/Base"),__webpack_require__("util/splunkd_utils")],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,BaseModel,splunkd_utils){return BaseModel.extend({initialize:function(attributes,options){BaseModel.prototype.initialize.apply(this,arguments)},permsToObj:function(){var perms=$.extend(!0,{},this.get("perms"));return perms.read=perms.read||[],perms.write=perms.write||[],perms},toDataPayload:function(){var perms=this.permsToObj(),data={sharing:this.get("sharing"),owner:this.get("owner")};return data.sharing!==splunkd_utils.USER&&0!==perms.read.length&&(-1!=_.indexOf(perms.read,"*")?data["perms.read"]="*":data["perms.read"]=perms.read.join(",")),data.sharing!==splunkd_utils.USER&&0!==perms.write.length&&(-1!=_.indexOf(perms.write,"*")?data["perms.write"]="*":data["perms.write"]=perms.write.join(",")),data},canWrite:function(){return this.get("can_write")}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"models/Base":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),__webpack_require__("mixins/modelcollection"),__webpack_require__("util/general_utils"),__webpack_require__("util/splunkd_utils"),__webpack_require__("validation/ValidationMixin")],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,modelcollectionMixin,generalUtils,splunkDUtils,ValidationMixin){var BaseModel=Backbone.Model.extend({initialize:function(attributes,options){Backbone.Model.prototype.initialize.apply(this,arguments),this.error=new Backbone.Model,this.fetchData=options&&options.fetchData?options.fetchData:new Backbone.Model,this.associated=this.associated||{},this.associated.error=this.error,this.fetchData.on("change",_.debounce(function(){this.safeFetch()},0),this),this.on("sync",this._onsync,this),this.on("error",this._onerror,this),this.on("validated",this._rebroadcastValidation,this)},fetch:function(options){var mergedOptions=$.extend(!0,{},{data:this.fetchData.toJSON()},options);this.fetchXhr=Backbone.Model.prototype.fetch.call(this,mergedOptions);var that=this;return this.fetchXhr.done(function(){that.touched&&that.safeFetch.apply(that,that.touched)}),this.fetchXhr},binaryPromiseFetch:function(options){options||(options={});var deferred=$.Deferred(),success=options.success,error=options.error;return options.success=function(){deferred.resolve(!0),success&&success.apply(this,arguments)},options.error=function(){deferred.resolve(!1),error&&error.apply(this,arguments)},this.fetch(options),deferred},clear:function(options){if(options=options||{},_.each(this.associated,function(value){value instanceof Backbone.Model?value.clear(options):value instanceof Backbone.Collection&&value.reset(null,options)}),this.error.clear(options),Backbone.Model.prototype.clear.call(this,options),options.setDefaults){var defaults=_.result(this,"defaults");defaults&&this.set(defaults,options)}return this},clone:function(){var clonedModel=Backbone.Model.prototype.clone.call(this);return _.each(this.associated,function(value,key){if(value instanceof Backbone.Model){var clonedAsscModel=value.clone();clonedModel[key]=clonedAsscModel,clonedModel.associated[key]=clonedAsscModel}else if(value instanceof Backbone.Collection){var clonedAsscCollection=new value.constructor(value.map(function(model){return model.clone()}));clonedModel[key]=clonedAsscCollection,clonedModel.associated[key]=clonedAsscCollection}}),clonedModel},associatedOff:function(events,callback,context){_(this.associated).each(function(associated){associated.off(events,callback,context),_.isFunction(associated.associatedOff)&&associated.associatedOff(events,callback,context)},this),this.fetchData.off(events,callback,context)},clearErrors:function(){this.trigger("serverValidated",!0,this,[]),this.trigger("validated",!0,this,[])},messageHasError:function(message){return message.type===splunkDUtils.ERROR||message.type===splunkDUtils.FATAL},responseHasErrors:function(response,messages){return _(messages).any(function(message){return this.messageHasError(message)},this)},_rebroadcastValidation:function(validated,model,error_payload){var allKeys=_.union(_.keys(this.attributes),_.keys(error_payload));_(allKeys).each(function(k){this.trigger("attributeValidated:"+k,!_.has(error_payload,k),k,error_payload[k])},this)},_onerror:function(model,response,options){model.error.clear();var messages=splunkDUtils.xhrErrorResponseParser(response,this.id);this.trigger("serverValidated",!1,this,messages),model.error.set("messages",messages)},_onsync:function(model,response,options){model.error.clear();var messages=this.parseSplunkDMessages(response),hasErrors=this.responseHasErrors(response,messages);this.trigger("serverValidated",!hasErrors,this,messages),hasErrors&&model.error.set("messages",messages)},parseSplunkDMessages:function(response){return response?splunkDUtils.parseMessagesObject(response.messages):[]},filterByKeys:function(keys,options,fetchOptions){options=options||{};var attrs={},strip=_.isString(options.strip)?options.strip:"",allowEmpty=!!options.allowEmpty;return _.each(this.toJSON(fetchOptions),function(value,key){-1!=_.indexOf(keys,key)&&(_.isUndefined(value)||(""!==value||allowEmpty)&&(attrs[key.replace(strip,"")]=value))},this),attrs},filterByWildcards:function(wildcards,options,fetchOptions){return generalUtils.filterObjectByRegexes(this.toJSON(fetchOptions),wildcards,options)},filterChangedByWildcards:function(wildcards,options){return generalUtils.filterObjectByRegexes(this.changedAttributes()||{},wildcards,options)},toObject:function(attr){var value=this.get(attr);try{value=JSON.parse(value)}catch(e){}return value},replace:function(attributes,options){this.clear({silent:!0}),this.set(attributes,options)},restoreDefaults:function(options){var defaults=_.isFunction(this.defaults)?this.defaults():this.defaults;this.clear(options),this.set(defaults,options)}});return _.extend(BaseModel.prototype,ValidationMixin),_.extend(BaseModel.prototype,modelcollectionMixin),BaseModel}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"models/SplunkDBase":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),__webpack_require__("models/Base"),__webpack_require__("models/SplunkDWhiteList"),__webpack_require__("models/services/ACL"),__webpack_require__("models/ACLReadOnly"),__webpack_require__("util/splunkd_utils"),__webpack_require__("util/console"),__webpack_require__("util/general_utils"),__webpack_require__("util/time"),__webpack_require__("stubs/i18n")],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,BaseModel,SplunkDWhiteList,ACLModel,ACLReadOnlyModel,splunkd_utils,console,generalUtil,time_utils,i18n){return BaseModel.extend({initialize:function(attributes,options){BaseModel.prototype.initialize.apply(this,arguments),this.splunkDWhiteList=options&&options.splunkDWhiteList?options.splunkDWhiteList:new SplunkDWhiteList,this.initializeAssociated(),this.on("change:id",function(){var alt=this.id;alt&&(alt+="/acl"),this.acl.set(this.acl.idAttribute,alt)},this),options&&options.splunkDPayload&&this.setFromSplunkD(options.splunkDPayload,{silent:!0})},parseSplunkDMessages:function(response){var messages=BaseModel.prototype.parseSplunkDMessages.call(this,response);return response&&response.entry&&0<response.entry.length&&(messages=_.union(messages,splunkd_utils.parseMessagesObject(response.entry[0].messages))),messages},getFormattedUpdatedTime:function(){if(this.entry.get("updated")){var jsDate=time_utils.isoToDateObject(this.entry.get("updated"));return 0===jsDate.getTime()?_("Unknown").t():i18n.format_datetime(time_utils.jsDateToSplunkDateTimeWithMicroseconds(jsDate))}return""},initializeAssociated:function(){var RootClass=this.constructor;this.associated=this.associated||{},this.links=this.links||new RootClass.Links,this.associated.links=this.links,this.generator=this.generator||new RootClass.Generator,this.associated.generator=this.generator,this.paging=this.paging||new RootClass.Paging,this.associated.paging=this.paging,this.entry||(this.entry=new RootClass.Entry,$.extend(this.entry,{links:new RootClass.Entry.Links,acl:new RootClass.Entry.ACL,content:new RootClass.Entry.Content,fields:new RootClass.Entry.Fields}),this.entry.associated.links=this.entry.links,this.entry.associated.acl=this.entry.acl,this.entry.associated.content=this.entry.content,this.entry.associated.fields=this.entry.fields),this.associated.entry=this.entry,this.acl=this.acl||new ACLModel,this.associated.acl=this.acl},url:"",sync:function(method,model,options){switch(method){case"create":return function(model,options){var bbXHR,url,deferredResponse=$.Deferred(),defaults={data:{output_mode:"json"}};return url=_.isFunction(model.url)?model.url():model.url,this.splunkDWhiteList.fetch({url:splunkd_utils.fullpath(url,{})+"/_new",success:function(splunkDWhiteListModel,response){var app_and_owner={};options.data&&(app_and_owner=$.extend(app_and_owner,{app:options.data.app||void 0,owner:options.data.owner||void 0,sharing:options.data.sharing||void 0})),defaults.url=splunkd_utils.fullpath(url,app_and_owner),defaults.processData=!0,$.extend(!0,defaults.data,model.whiteListAttributes()),$.extend(!0,defaults,options),delete defaults.data.app,delete defaults.data.owner,delete defaults.data.sharing,defaults.data=splunkd_utils.normalizeValuesForPOST(defaults.data),(bbXHR=Backbone.sync.call(null,"create",model,defaults)).done(function(){deferredResponse.resolve.apply(deferredResponse,arguments)}),bbXHR.fail(function(){deferredResponse.reject.apply(deferredResponse,arguments)})}}).fail(function(response,err,errMsg){deferredResponse.reject.apply(deferredResponse,arguments),model.trigger("error",model,response)}),deferredResponse.promise()}.call(this,model,options);case"read":return function(model,options){var bbXHR,url,deferredResponse=$.Deferred(),defaults={data:{output_mode:"json"}};if((window.$C.SPLUNKD_FREE_LICENSE||options.isFreeLicense)&&model.FREE_PAYLOAD)return options.success&&options.success(model.FREE_PAYLOAD),deferredResponse.resolve.apply(deferredResponse,[model.FREE_PAYLOAD]);model.isNew()?(url=_.isFunction(model.url)?model.url():model.url,url+="/_new"):url=model.urlRoot?model.urlRoot+"/"+model.id:model.id;var app_and_owner={};return options.data&&(app_and_owner=$.extend(app_and_owner,{app:options.data.app||void 0,owner:options.data.owner||void 0,sharing:options.data.sharing||void 0})),defaults.url=splunkd_utils.fullpath(url,app_and_owner),$.extend(!0,defaults,options),delete defaults.data.app,delete defaults.data.owner,delete defaults.data.sharing,(bbXHR=Backbone.sync.call(this,"read",model,defaults)).done(function(){deferredResponse.resolve.apply(deferredResponse,arguments)}),bbXHR.fail(function(){deferredResponse.reject.apply(deferredResponse,arguments)}),deferredResponse.promise()}.call(this,model,options);case"update":return function(model,options){var bbXHR,url,deferredResponse=$.Deferred(),defaults={data:{output_mode:"json"}},id=model.id;url=splunkd_utils.fullpath(id,{});var mergedOptions=$.extend(!0,{},options,{url:url,success:function(splunkDWhiteListModel){var fetchOptions=$.extend(!0,{},options);$.extend(!0,defaults.data,model.whiteListAttributes(fetchOptions)),$.extend(!0,defaults,options),defaults.processData=!0,defaults.type="POST",defaults.url=url,defaults.data=splunkd_utils.normalizeValuesForPOST(defaults.data),(bbXHR=Backbone.sync.call(null,"update",model,defaults)).done(function(){deferredResponse.resolve.apply(deferredResponse,arguments)}),bbXHR.fail(function(){deferredResponse.reject.apply(deferredResponse,arguments)})}});return this.splunkDWhiteList.clear(),this.splunkDWhiteList.fetch(mergedOptions).fail(function(){deferredResponse.reject.apply(deferredResponse,arguments)}),deferredResponse.promise()}.call(this,model,options);case"patch":return function(model,options){var bbXHR,url,deferredResponse=$.Deferred(),defaults={data:{output_mode:"json"}},id=model.id;return url=splunkd_utils.fullpath(id,{}),this.splunkDWhiteList.clear(),this.splunkDWhiteList.fetch({url:url,success:function(splunkDWhiteListModel){$.extend(!0,defaults.data,options.attrs&&model.whiteListPassedInAttributes(options.attrs)||{}),delete options.attrs,$.extend(!0,defaults,options),defaults.processData=!0,defaults.type="POST",defaults.url=url,defaults.data=splunkd_utils.normalizeValuesForPOST(defaults.data),(bbXHR=Backbone.sync.call(null,"update",model,defaults)).done(function(){deferredResponse.resolve.apply(deferredResponse,arguments)}),bbXHR.fail(function(){deferredResponse.reject.apply(deferredResponse,arguments)})}}).fail(function(){deferredResponse.reject.apply(deferredResponse,arguments)}),deferredResponse.promise()}.call(this,model,options);case"delete":return function(model,options){var bbXHR,deferredResponse=$.Deferred(),defaults={data:{output_mode:"json"}};return options.data&&options.data.output_mode?(defaults.url=splunkd_utils.fullpath(model.id,{})+"?output_mode="+encodeURIComponent(options.data.output_mode),delete options.data.output_mode):(defaults.url=splunkd_utils.fullpath(model.id,{})+"?output_mode="+encodeURIComponent(defaults.data.output_mode),delete defaults.data.output_mode),$.extend(!0,defaults,options),defaults.processData=!0,(bbXHR=Backbone.sync.call(this,"delete",model,defaults)).done(function(){deferredResponse.resolve.apply(deferredResponse,arguments)}),bbXHR.fail(function(){deferredResponse.reject.apply(deferredResponse,arguments)}),deferredResponse.promise()}.call(this,model,options);case"move":return function(model,options){if(!model.entry.links.get("move")&&!options.url)throw new Error("Move URL not provided or entity can not be moved.");var bbXHR,deferredResponse=$.Deferred(),defaults={processData:!0,type:"POST",url:splunkd_utils.fullpath(model.entry.links.get("move")),data:{app:model.entry.acl.get("app"),user:model.entry.acl.get("owner"),output_mode:"json"}};return options=options||{},$.extend(!0,defaults,options),defaults.data=splunkd_utils.normalizeValuesForPOST(defaults.data),(bbXHR=Backbone.sync.call(null,"update",model,defaults)).done(function(){deferredResponse.resolve.apply(deferredResponse,arguments)}),bbXHR.fail(function(response,err,errMsg){model.trigger("error",model,response),deferredResponse.reject.apply(deferredResponse,arguments)}),deferredResponse.promise()}.call(this,model,options);default:throw new Error("invalid method: "+method)}},move:function(data,options){var defaults={wait:!0,move:!0};return options=options||{},$.extend(!0,defaults,options),this.save(data,defaults)},parse:function(response,options){if((options=options||{}).skipClone||(response=$.extend(!0,{},response)),this.initializeAssociated(),response&&response.entry&&0!==response.entry.length){var response_entry=response.entry[0];return splunkd_utils.isExistingEntity(response)&&(this.set(this.idAttribute,response_entry.links.alternate),response.id=response_entry.links.alternate,this.acl.set(this.acl.idAttribute,this.id+"/acl")),this.links.set(response.links),delete response.links,this.generator.set(response.generator),delete response.generator,this.paging.set(response.paging),delete response.paging,this.entry.links.set(response_entry.links),delete response_entry.links,this.entry.acl.set(response_entry.acl),delete response_entry.acl,this.entry.content.set(response_entry.content),delete response_entry.content,response_entry.fields&&response_entry.fields.wildcard&&(response_entry.fields.wildcard=splunkd_utils.addAnchorsToWildcardArray(response_entry.fields.wildcard)),this.entry.fields.set(response_entry.fields),delete response_entry.fields,this.entry.set(response_entry),delete response.entry,response}console.log("Response has no content to parse")},whiteListAttributes:function(fetchOptions){var whiteListOptAndReq=this.splunkDWhiteList.concatOptionalRequired(),whiteListWild=this.splunkDWhiteList.get("wildcard")||[],contentAttrs=this.entry.content.filterByKeys(whiteListOptAndReq,{allowEmpty:!0},fetchOptions);return _.extend(contentAttrs,this.entry.content.filterByWildcards(whiteListWild,{allowEmpty:!0},fetchOptions))},whiteListPassedInAttributes:function(attrs){if(!_.isObject(attrs)||_.isEmpty(attrs))return{};var whiteListOptAndReq=this.splunkDWhiteList.concatOptionalRequired(),whiteListWild=this.splunkDWhiteList.get("wildcard")||[],filterModel=new BaseModel(attrs),filteredAttrs=filterModel.filterByKeys(whiteListOptAndReq,{allowEmpty:!0});return _.extend(filteredAttrs,filterModel.filterByWildcards(whiteListWild,{allowEmpty:!0}))},save:function(key,val,options){var attributes={},originalModel=this;if(null==key||_.isObject(key)?(attributes=key,options=val):attributes[key]=val,(options=options||{}).nativeSave||!options.wait)return BaseModel.prototype.save.call(originalModel,attributes,options);var cloneXHR,clonedModel=originalModel.clone(),deferredResponse=$.Deferred();clonedModel.error.on("change: messages",function(model,response,options){originalModel.error.set({messages:model.get("messages")})}),clonedModel.on("error",function(model,response,options){originalModel._onerror(originalModel,response,options)}),clonedModel.on("sync",function(model,response,options){originalModel._onsync(originalModel,response,options)}),clonedModel.on("validated",function(model,response,options){originalModel._rebroadcastValidation(originalModel,response,options)}),clonedModel.on("invalid",function(model,response,options){originalModel.trigger("invalid",originalModel,response,options)}),clonedModel.on("request",function(model,response,options){originalModel.trigger("request",originalModel,response,options)});var originalSuccess=options.success,originalError=options.error;return(options=_.extend({validate:!0,wait:!1},options)).success=function(model,response,opts){originalModel.setFromSplunkD(model.toSplunkD(),{skipClone:!0}),originalSuccess&&originalSuccess(originalModel,response,opts)},options.error=function(model,response,opts){originalError&&originalError(originalModel,response,opts)},(cloneXHR=options.patch?BaseModel.prototype.save.call(clonedModel,attributes,options):options.move?clonedModel.sync("move",clonedModel,attributes):(clonedModel.entry.content.set(attributes,options),BaseModel.prototype.save.call(clonedModel,null,options))).done(function(){clonedModel.off(),deferredResponse.resolve.apply(deferredResponse,arguments)}),cloneXHR.fail(function(){clonedModel.off(),deferredResponse.reject.apply(deferredResponse,arguments)}),deferredResponse.promise()},setFromSplunkD:function(payload,options){this.attributes={},(options=options||{}).skipClone||(payload=$.extend(!0,{},payload));var oldId=this.id;if(payload){if(payload.entry&&payload.entry[0]){var payload_entry=payload.entry[0];payload_entry.links&&(splunkd_utils.isExistingEntity(payload)&&(this.set({id:payload_entry.links.alternate},{silent:!0}),this.acl.set({id:payload_entry.links.alternate+"/acl"},options)),this.entry.links.set(payload_entry.links,options),delete payload_entry.links),payload_entry.acl&&(this.entry.acl.set(payload_entry.acl,options),delete payload_entry.acl),payload_entry.content&&(this.entry.content.set(payload_entry.content,options),delete payload_entry.content),payload_entry.fields&&(payload_entry.fields.wildcard&&(payload_entry.fields.wildcard=splunkd_utils.addAnchorsToWildcardArray(payload_entry.fields.wildcard)),this.entry.fields.set(payload_entry.fields,options),delete payload_entry.fields),this.entry.set(payload_entry,options),delete payload.entry}payload.links&&(this.links.set(payload.links,options),delete payload.links),payload.generator&&(this.generator.set(payload.generator,options),delete payload.generator),payload.paging&&(this.paging.set(payload.paging,options),delete payload.paging),this.set(payload,options),this.id!==oldId&&this.trigger("change:"+this.idAttribute)}},toSplunkD:function(options){var payload={};return options=options||{},(payload=$.extend(!0,{},this.toJSON())).links=$.extend(!0,{},this.links.toJSON()),payload.generator=$.extend(!0,{},this.generator.toJSON()),payload.paging=$.extend(!0,{},this.paging.toJSON()),payload.entry=[$.extend(!0,{},this.entry.toJSON())],payload.entry[0].links=$.extend(!0,{},this.entry.links.toJSON()),options.withoutId&&delete payload.entry[0].links.alternate,payload.entry[0].acl=$.extend(!0,{},this.entry.acl.toJSON()),payload.entry[0].content=$.extend(!0,{},this.entry.content.toJSON()),payload.entry[0].fields=$.extend(!0,{},this.entry.fields.toJSON()),delete payload.id,payload},filterInputToSaveableFields:function(obj){var fieldSchemaModel=this.entry.fields,nonWildcardFields=(fieldSchemaModel.get("optional")||[]).concat(fieldSchemaModel.get("required")||[]),wildcardFields=fieldSchemaModel.get("wildcard")||[],filteredObject=_(obj).pick(nonWildcardFields);return _(wildcardFields).each(function(wildcardPattern){try{_.extend(filteredObject,generalUtil.filterObjectByRegexes(obj,wildcardPattern))}catch(e){console.warn("Exception thrown trying to evaluate wildcard: "+wildcardPattern),console.warn(e)}}),filteredObject},canWrite:function(){return!!this.entry.acl.get("can_write")},canDelete:function(){return!!this.entry.links.get("remove")},canClone:function(){return!this.isNew()},isDirty:function(otherSplunkDBaseObj,whitelist){whitelist=whitelist||[".*"];var thisContent=generalUtil.filterObjectByRegexes(this.entry.content.toJSON(),whitelist),otherContent=generalUtil.filterObjectByRegexes(otherSplunkDBaseObj.entry.content.toJSON(),whitelist);return!_.isEqual(this.filterInputToSaveableFields(thisContent),this.filterInputToSaveableFields(otherContent))}},{Links:BaseModel,Generator:BaseModel,Paging:BaseModel,Entry:BaseModel.extend({initialize:function(){BaseModel.prototype.initialize.apply(this,arguments)}},{Links:BaseModel,ACL:ACLReadOnlyModel,Content:BaseModel,Fields:BaseModel})})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"models/SplunkDWhiteList":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/backbone"),__webpack_require__("require/underscore"),__webpack_require__("models/Base"),__webpack_require__("util/splunkd_utils")],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function($,Backbone,_,BaseModel,splunkDUtils){return BaseModel.extend({initialize:function(options){BaseModel.prototype.initialize.apply(this,arguments)},concatOptionalRequired:function(){var optional=(this.get("optional")||[]).slice(0),required=(this.get("required")||[]).slice(0);return optional.concat(required)},url:"",sync:function(method,model,options){var defaults={data:{output_mode:"json"},url:_.isFunction(model.url)?model.url():model.url};switch(method){case"read":defaults.data=_.extend(defaults.data,options.data||{}),delete options.data,defaults.url=splunkDUtils.fullpath(defaults.url);break;default:throw new Error("invalid method: "+method)}return Backbone.sync.call(this,method,model,$.extend(!0,defaults,options))},parse:function(response){var data=(response.entry?$.extend(!0,{},response.entry[0]):{}).fields||{};return data.wildcard&&(data.wildcard=splunkDUtils.addAnchorsToWildcardArray(data.wildcard)),data}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"models/StaticIdBase":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("models/Base")],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(_,BaseModel){return BaseModel.extend({initialize:function(){BaseModel.prototype.initialize.apply(this,arguments)},defaults:function(){var defaults,id=this.constructor.id,extendedDefaults={};if(!id)throw new Error("You must set a class level id for this model.");return defaults=_.isFunction(BaseModel.prototype.defaults)?BaseModel.prototype.defaults.apply(this,arguments):BaseModel.prototype.defaults||{},(extendedDefaults=_.extend({},defaults))[this.idAttribute]=id,extendedDefaults},clear:function(options){options=options||{};var RootClass=this.constructor;return BaseModel.prototype.clear.call(this,options),options.setDefaults||this.set(this.idAttribute,RootClass.id),this}},{id:""})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"models/config":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("stubs/splunk.config"),__webpack_require__("models/Base")],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function($,$C,BaseModel){return new(BaseModel.extend({initialize:function(){BaseModel.prototype.initialize.apply(this,arguments)},sync:function(method,model,options){throw new Error("invalid method: "+method)}}))($.extend(!0,{},$C))}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"models/search/Job":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),__webpack_require__("models/services/search/Job"),__webpack_require__("models/services/saved/Search"),__webpack_require__("util/splunkd_utils"),__webpack_require__("util/time"),__webpack_require__("util/moment"),__webpack_require__("util/console"),__webpack_require__("util/format_numbers_utils"),__webpack_require__("shim/splunk.util"),__webpack_require__("stubs/i18n"),__webpack_require__("helpers/Session"),__webpack_require__("helpers/search/ArtifactFetchManager"),__webpack_require__("util/Ticker"),__webpack_require__("util/time")],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,SearchJob,SavedSearch,splunkd_utils,time_utils,moment,console,format_numbers_utils,splunkUtil,i18n,Session,ArtifactFetchManager,Ticker,timeUtils){var JobModel=SearchJob.extend({initialize:function(attributes,options){SearchJob.prototype.initialize.apply(this,arguments),this.options=_.pick(options||{},"delay","aggressiveDelay","processKeepAlive","keepAliveInterval"),this.setInstanceDefaults(),this.entry.content.on("change",function(){var changedAttributes=this.entry.content.changedAttributes(),previousAttributes=this.entry.content.previousAttributes();this.handleJobProgress(changedAttributes,previousAttributes)},this),this.entry.content.on("change:dispatchState",function(){!this.entry.content.get("dispatchState")||this.isPreparing()||this.prepared||(this.prepared=!0,this.trigger("prepared")),(this.isDone()||this.entry.content.get("isFailed"))&&this.stopPolling()},this),this.entry.content.on("change:isDone",function(){this.isDone()&&this.trigger("done")},this),this.ticker=new Ticker({interval:this.aggressivePollingDelay}),this.ticker.on("tick",function(){this.safeFetch({data:{app:this.entry.acl.get("app"),owner:this.entry.acl.get("owner"),sharing:this.entry.acl.get("sharing")}})},this),this.on("startPolling",function(){var _private_progress=function(){this.aggressivePollingDelay*=1.5,this.aggressivePollingDelay=Math.round(this.aggressivePollingDelay),this.isDone()||this.entry.content.get("isFailed")?this.off("sync",_private_progress,this):0<(this.isReportSearch()?this.entry.content.get("isPreviewEnabled")?this.entry.content.get("resultPreviewCount"):this.entry.content.get("resultCount"):this.entry.content.get("eventAvailableCount"))||this.aggressivePollingDelay>=this.pollingDelay?(this.off("sync",_private_progress,this),this.trigger("slowDownPoller")):this._poll&&this.ticker.restart({interval:this.aggressivePollingDelay})}.bind(this);this.on("slowDownPoller",function(){this._poll&&this.ticker.restart({interval:this.pollingDelay})},this),this.on("sync",_private_progress,this)},this),this.on("error",function(){splunkd_utils.messagesContainsOneOfTypes(this.error.get("messages"),[splunkd_utils.NOT_FOUND,splunkd_utils.FATAL])&&this.handleJobDestroy()},this),this.entry.content.on("change:isFailed",function(){this.entry.content.get("isFailed")&&this.handleJobDestroy()},this),this.on("destroy",this.handleJobDestroy,this)},setInstanceDefaults:function(){this._poll=!1,this.pollingDelay=this.options.delay||SearchJob.JOB_MAX_POLLING_INTERVAL,this.aggressivePollingDelay=this.options.aggressiveDelay||SearchJob.JOB_MIN_POLLING_INTERVAL,this.prepared=this.entry.content.get("dispatchState")&&!this.isPreparing(),this.processKeepAlive=this.options.processKeepAlive||!1,this.keepAlivePoller=null,this.keepAliveInterval=this.options.keepAliveInterval},clear:function(){return SearchJob.prototype.clear.apply(this,arguments),this.handleJobDestroy(),this.setInstanceDefaults(),this},handleJobProgress:function(changed,previous){if(this.isNew())return!1;var jobIsRealTime=this.entry.content.get("isRealTimeSearch"),jobIsReportSearch=this.entry.content.get("reportSearch"),jobAdHocModeIsVerbose=this.getAdhocSearchMode()===splunkd_utils.VERBOSE,jobPreviewEnabled=this.entry.content.get("isPreviewEnabled"),jobIsDoneInModel=this.isDone();if(_.isEmpty(changed)||!jobIsDoneInModel&&jobIsReportSearch&&!jobPreviewEnabled&&!jobAdHocModeIsVerbose)return!1;var scanCountChanged=!_(changed.scanCount).isUndefined()&&changed.scanCount>previous.scanCount,eventCountChanged=!_(changed.eventCount).isUndefined(),eventPreviewableCountChanged=!_(changed.eventPreviewableCount).isUndefined(),resultCountChanged=!_(changed.resultCount).isUndefined(),jobIsDone=!_(changed.isDone).isUndefined()&&!0===changed.isDone;if(!(scanCountChanged||eventCountChanged||resultCountChanged||eventPreviewableCountChanged||jobIsDone||jobIsRealTime))return!1;this.trigger("jobProgress");var links=this.entry.links;return this.trigger("jobProgress:"+JobModel.RESULTS_PREVIEW,links.get(JobModel.RESULTS_PREVIEW),this),this.trigger("jobProgress:"+JobModel.RESULTS,links.get(JobModel.RESULTS),this),this.trigger("jobProgress:"+JobModel.SUMMARY,links.get(JobModel.SUMMARY),this),this.trigger("jobProgress:"+JobModel.TIMELINE,links.get(JobModel.TIMELINE),this),this.trigger("jobProgress:"+JobModel.EVENTS,links.get(JobModel.EVENTS),this),jobIsDone&&this.processKeepAlive&&this.startKeepAlive(),!0},registerJobProgressLinksChild:function(linksKey,child,callback,scope){var id=this.entry.links.get(linksKey);return id?(child.set("id",id),callback.call(scope),this.on("jobProgress",callback,scope),!0):(console.warn("Search Job Model: You attempted to register a child model with a links key that doesn't exist. Have you fetched your job lately? Key:",linksKey),!1)},unregisterJobProgressLinksChild:function(callback,scope){this.off("jobProgress",callback,scope)},handleJobDestroy:function(){this.stopPolling(),this.processKeepAlive=!1,this.stopKeepAlive(),this.fetchAbort(),this.control.fetchAbort()},_getKeepAliveInterval:function(){var interval,ttl,autoCancel,maxSafeInterval=Math.pow(2,31)-1;return maxSafeInterval<(interval=this.keepAliveInterval?this.keepAliveInterval:(ttl=this.getTTL(),this.isDone()?1e3*ttl/2:(autoCancel=this.getAutoCancel()||1/0,1e3*Math.min(ttl,autoCancel)/2)))?maxSafeInterval:interval},startKeepAlive:function(){this.stopKeepAlive(),this.stopPolling(),Session.on("timeout",this.stopKeepAlive,this),Session.on("start",this.startKeepAlive,this);var initialInterval=this._getKeepAliveInterval();if(_.isFinite(initialInterval)){var isDone=this.isDone();this.keepAlivePoller=new Ticker({interval:initialInterval}),this.keepAlivePoller.on("tick",function(){this.touch({success:function(){if(console.log("touched job:",this.id),!isDone&&this.isDone()){isDone=!0;var newInterval=this._getKeepAliveInterval();newInterval!==this.keepAlivePoller.interval&&(_.isFinite(newInterval)?this.keepAlivePoller.restart({interval:newInterval}):(console.log("Non-finite keep alive interval (stopping keep alive)"),this.stopKeepAlive()))}}.bind(this),error:function(controlModel,response){(!response.hasOwnProperty("status")||0!==response.status&&12029!==response.status)&&(console.log("error touching job (stopping keep alive):",this.id),this.stopKeepAlive())}.bind(this)})},this),this.keepAlivePoller.start()}else console.log("Non-finite keep alive interval (will not ping touch job)")},stopKeepAlive:function(){Session.off("timeout",this.stopKeepAlive,this),Session.off("start",this.startKeepAlive,this),this.keepAlivePoller&&(this.keepAlivePoller.stop(),this.keepAlivePoller.off())},startPolling:function(force){this._poll&&!force||(this._poll=!0,Session.off("timeout",null,this),Session.off("start",null,this),Session.on("timeout",this.stopPolling,this),Session.on("start",function(){this.startPolling(!0)},this),(force||!this.isDone()&&!this.entry.content.get("isFailed"))&&(this.ticker.start(!0),this.trigger("startPolling")))},stopPolling:function(){this._poll&&(this._poll=!1,Session.off("timeout",null,this),Session.off("start",null,this),this.ticker.stop(),this.aggressivePollingDelay=this.options.aggressiveDelay||SearchJob.JOB_MIN_POLLING_INTERVAL,console.log("stopPolling has been triggered."))},noParamControlUpdate:function(action,options){return options&&options.data&&delete options.data,this.control.save({},$.extend(!0,options,{data:{action:action}}))},pause:function(options){return this.noParamControlUpdate("pause",options)},unpause:function(options){return this.noParamControlUpdate("unpause",options)},finalize:function(options){return this.noParamControlUpdate("finalize",options)},cancel:function(options){return this.noParamControlUpdate("cancel",options)},touch:function(options){return this.noParamControlUpdate("touch",options)},share:function(options){var controlDeferred,isRealTime=this.entry.content.get("isRealTimeSearch"),shareDeferred=$.Deferred();controlDeferred=isRealTime?this.saveJob({data:{auto_cancel:SearchJob.DEFAULT_AUTO_CANCEL}}):this.saveJob();var aclDeferred=this.makeWorldReadable();return $.when(controlDeferred,aclDeferred).always(function(){$.when(this.fetch(options)).done(function(){shareDeferred.resolve()}).fail(function(){shareDeferred.reject()})}.bind(this)),shareDeferred},sendToBackground:function(options){var saveDeferred,readDeferred,shouldEmail=this.get("email")||"",email_subject=this.get("subject")||"",email_list=this.get("addresses")||"",read=this.entry.acl.permsToObj().read,everyoneRead=-1!=_.indexOf(read,"*"),individualOpts=_.extend({},options,{success:null}),backgroundDeferred=$.Deferred();return saveDeferred=shouldEmail?this.saveJob($.extend(!0,{},{data:{email_list:email_list,email_subject:email_subject}},individualOpts)):this.saveJob(individualOpts),everyoneRead||(readDeferred=this.makeWorldReadable(individualOpts)),$.when(saveDeferred,readDeferred).done(function(){$.when(this.saveIsBackground(individualOpts),this.disablePreview(individualOpts)).done(function(){$.when(this.fetch(options)).done(function(){backgroundDeferred.resolve()}).fail(function(){backgroundDeferred.reject()})}.bind(this)).fail(function(){backgroundDeferred.reject()})}.bind(this)).fail(function(){backgroundDeferred.reject()}),backgroundDeferred},setTTL:function(ttl,options){return options&&options.data&&delete options.data,this.control.save({},$.extend(!0,options,{data:{action:"setttl",ttl:ttl}}))},getTTL:function(){return this.entry.content.get("ttl")},getAutoCancel:function(){var autoCancel=this.entry.content.runtime.get("auto_cancel");return autoCancel&&parseInt(autoCancel,10)},setPriority:function(priority,options){return options&&options.data&&delete options.data,this.control.save({},$.extend(!0,options,{data:{action:"setpriority",priority:priority}}))},enablePreview:function(options){return this.noParamControlUpdate("enablepreview",options)},disablePreview:function(options){return this.noParamControlUpdate("disablepreview",options)},setPreview:function(preview,options){return preview!==this.entry.content.get("isPreviewEnabled")?preview?this.enablePreview(options):this.disablePreview(options):(options&&options.success&&_.isFunction(options.success)&&options.success(this,{},options),$.Deferred().resolve())},saveControlUpdate:function(action,options){(options=options||{}).data=options.data||{};var clonedOptions=$.extend(!0,{},options),data={action:action,auto_cancel:clonedOptions.data.auto_cancel,auto_pause:clonedOptions.data.auto_pause,email_list:clonedOptions.data.email_list,email_subject:clonedOptions.data.email_subject,email_results:clonedOptions.data.email_results,ttl:clonedOptions.data.ttl,workload_pool:clonedOptions.data.workload_pool};return clonedOptions&&clonedOptions.data&&delete clonedOptions.data,this.control.save({},$.extend(!0,clonedOptions,{data:data}))},saveWorkloadPool:function(options){return this.saveControlUpdate("setworkloadpool",options)},saveJob:function(options){return this.saveControlUpdate("save",options)},unsaveJob:function(options){return this.saveControlUpdate("unsave",options)},makeWorldReadable:function(options){var clonedOptions=$.extend(!0,{},options),data=(this.entry.acl.get("owner"),{sharing:splunkd_utils.GLOBAL,owner:this.entry.acl.get("owner"),"perms.read":"*"});return clonedOptions&&clonedOptions.data&&delete clonedOptions.data,this.acl.save({},$.extend(!0,clonedOptions,{data:data}))},undoWorldReadable:function(options){var owner=this.entry.acl.get("owner"),data={sharing:splunkd_utils.GLOBAL,owner:owner,"perms.read":""};return options&&options.data&&delete options.data,this.acl.save({},$.extend(!0,options,{data:data}))},isSharedAccordingToTTL:function(defaultSaveTTL){return-1!=this.entry.acl.permsToObj().read.indexOf("*")&&this.getTTL()===defaultSaveTTL},saveIsBackground:function(options){return this.entry.content.custom.set("isBackground","1"),this.save({},options)},isBackground:function(){return this.entry.content.custom&&splunkUtil.normalizeBoolean(this.entry.content.custom.get("isBackground"))},resultCountSafe:function(){return this.entry.content.get("isPreviewEnabled")&&!this.isDone()?this.entry.content.get("resultPreviewCount"):this.entry.content.get("resultCount")},eventAvailableCountSafe:function(){return 0==this.entry.content.get("statusBuckets")?this.resultCountSafe():this.entry.content.get("eventAvailableCount")},latestTimeSafe:function(){var entry=this.entry;return entry.content.get("latestTime")||entry.get("published")},isQueued:function(){return this.checkUppercaseValue("dispatchState",JobModel.QUEUED)},isParsing:function(){return this.checkUppercaseValue("dispatchState",JobModel.PARSING)},isFinalizing:function(){return this.checkUppercaseValue("dispatchState",JobModel.FINALIZING)},isFinalized:function(){return splunkUtil.normalizeBoolean(this.entry.content.get("isFinalized"))},isPaused:function(){return splunkUtil.normalizeBoolean(this.entry.content.get("isPaused"))},isDone:function(){return splunkUtil.normalizeBoolean(this.entry.content.get("isDone"))},isPreparing:function(){return this.isQueued()||this.isParsing()},isRunning:function(){return!(this.isNew()||this.entry.content.get("isPaused")||this.isDone()||this.isPreparing()||this.isFinalizing())},isReportSearch:function(){return!!this.entry.content.get("reportSearch")},isEventSearch:function(){return!!this.entry.content.get("eventSearch")},isDataFabricEnabled:function(){return this.entry.content.has("dfs")},searchWillReRun:function(maxResults){maxResults=maxResults||0;var eventIsTruncated=this.entry.content.get("eventIsTruncated"),eventAvailableCount=this.entry.content.get("eventAvailableCount");return!(this.isReportSearch()||!(eventIsTruncated&&(0===maxResults||eventAvailableCount<maxResults)||!this.isDone()))},isUneventfulReportSearch:function(){return this.isReportSearch()&&(!this.isEventSearch()||this.getAdhocSearchMode()!==splunkd_utils.VERBOSE)},isPatternable:function(){var eventCount=this.entry.content.get("eventCount");return this.prepared&&!this.isFailed()&&!this.isRealtime()&&!this.isUneventfulReportSearch()&&(1e4<=eventCount||this.isDone()&&0<eventCount)},isOverAllTime:function(){var dispatchEarliestTime=this.getDispatchEarliestTime();return!(dispatchEarliestTime&&"0"!==dispatchEarliestTime||this.getDispatchLatestTime())},isRealtime:function(){return splunkUtil.normalizeBoolean(this.entry.content.get("isRealTimeSearch"))},isFailed:function(){return splunkUtil.normalizeBoolean(this.entry.content.get("isFailed"))},isUsingSampling:function(){return"1"<this.entry.content.get("sampleRatio")},isEventsPreviewEnabled:function(){return splunkUtil.normalizeBoolean(this.entry.content.get("isEventsPreviewEnabled"))},isTimelineAvailable:function(){return 0<this.entry.content.get("statusBuckets")&&!this.isFailed()&&_.has(this.entry.links.attributes,"timeline")},isSummaryAvailable:function(){return 0<this.entry.content.get("statusBuckets")&&!this.isFailed()&&0<this.entry.content.get("eventFieldCount")&&_.has(this.entry.links.attributes,"summary")},getAvailableSearchLogs:function(){var searchLogs=[];return _.each(this.entry.links.attributes,function(val,link){-1!==link.indexOf("search.log")?searchLogs.push(link):-1!==link.indexOf("dfs.log")&&searchLogs.push(link)}),searchLogs},checkUppercaseValue:function(key,uc_value){var value=this.entry.content.get(key);return!!value&&value.toUpperCase()===uc_value},getMessages:function(){return splunkd_utils.parseMessagesObject(this.entry.content.get("messages"))},getRiskyCommands:function(){var messages=this.error.get("messages"),riskyCommandMessage=_.findWhere(messages,{type:splunkd_utils.RISKY_COMMAND});return riskyCommandMessage?riskyCommandMessage.text.split(":")[1].trim().split(" "):[]},getDispatchEarliestTime:function(){var earliest=this.entry.content.request.get("earliest_time");return void 0===earliest?this.entry.content.get("searchEarliestTime"):earliest},getDispatchEarliestTimeOrAllTime:function(isScheduledReport){return"scheduler"!==this.entry.content.get("delegate")||isScheduledReport||void 0===this.entry.content.get("searchLatestTime")?this.entry.content.request.get("earliest_time")||"":this.entry.content.get("searchEarliestTime")||""},getDispatchLatestTime:function(){var latest=this.entry.content.request.get("latest_time");return void 0===latest?this.entry.content.get("searchLatestTime"):latest},getDispatchLatestTimeOrAllTime:function(isScheduledReport){var searchLatestTime=this.entry.content.get("searchLatestTime");return"scheduler"!==this.entry.content.get("delegate")||isScheduledReport||void 0===searchLatestTime?this.entry.content.request.get("latest_time")||"":searchLatestTime},getWindowedEarliestTimeOrAllTime:function(){var earliestTime=this.entry.content.get("earliestTime");return _.isUndefined(earliestTime)||0===timeUtils.isoToDateObject(earliestTime).getTime()?0:earliestTime},getWindowedLatestTimeOrAllTime:function(){var latestTime=this.entry.content.get("latestTime");return _.isUndefined(latestTime)?"":latestTime},getStrippedEventSearch:function(){var search=this.entry.content.get("eventSearch");return search&&(search=splunkUtil.stripLeadingSearchCommand(search)),search},getSearch:function(){var search=this.entry.get("name");return search||this.entry.content.request.get("search")},getFullSearch:function(){var reportSearch=this.entry.content.get("reportSearch")||"",eventSearch=this.getStrippedEventSearch()||"";return(eventSearch=eventSearch&&eventSearch===this.entry.content.get("eventSearch")?"| "+eventSearch:eventSearch)+(reportSearch=reportSearch?" | "+reportSearch:reportSearch)},getSavedSearchId:function(){var isSavedSearch=this.entry.content.get("isSavedSearch"),label=this.entry.content.get("label"),savedSearchLabel=this.entry.content.get("savedSearchLabel"),appAndOwner=savedSearchLabel?JSON.parse(savedSearchLabel):void 0;return label&&isSavedSearch&&appAndOwner?SavedSearch.buildId(label,appAndOwner.app,appAndOwner.owner,appAndOwner.sharing):""},getExpirationString:function(){var updated,ttl=this.entry.content.get("ttl");return!ttl||ttl<0?_("Expired").t():((updated=time_utils.isoToDateObject(this.get("updated"))).setSeconds(updated.getSeconds()+ttl),i18n.format_datetime(time_utils.jsDateToSplunkDateTimeWithMicroseconds(updated)))},getCreatedString:function(){var published=this.entry.get("published"),publishedDate=time_utils.isoToDateObject(published);return published?i18n.format_datetime(time_utils.jsDateToSplunkDateTimeWithMicroseconds(publishedDate)):""},getSizeString:function(){return _.isUndefined(this.entry.content.get("diskUsage"))?"":format_numbers_utils.bytesToFileSize(this.entry.content.get("diskUsage"))},getAdhocSearchMode:function(){return this.entry.content.request.get("adhoc_search_level")||splunkd_utils.FAST},getSampleRatio:function(){var sampleRatio=this.entry.content.get("sampleRatio");return sampleRatio||this.entry.content.request.get("sample_ratio")},getWorkloadPool:function(){return this.entry.content.request.get("workload_pool")},canBePausedOnRemove:function(){return!(this.isNew()||this.isDone()||this.get("cannotPauseOnRemove")||this.entry.content.get("isPaused")||this.isBackground()||this.entry.content.get("isSaved"))},canSummarize:function(){return splunkUtil.normalizeBoolean(this.entry.content.get("canSummarize"))},searchCanBeEventType:function(){return splunkUtil.normalizeBoolean(this.entry.content.get("searchCanBeEventType"))},deepOff:function(){SearchJob.prototype.deepOff.apply(this,arguments),Session.off(null,null,this)}},{RESULTS_PREVIEW:"results_preview",SUMMARY:"summary",TIMELINE:"timeline",EVENTS:"events",RESULTS:"results",createMetaDataSearch:function(search,deferred,applicationModel,delay,options){options=options||{},_.defaults(options,{preview:"true",earliest_time:"rt",latest_time:"rt",auto_cancel:SearchJob.DEFAULT_AUTO_CANCEL,max_count:1e5});var job=new JobModel({},{delay:delay||SearchJob.DEFAULT_METADATA_POLLING_INTERVAL}),saveData={app:applicationModel.get("app"),owner:applicationModel.get("owner"),search:search,preview:options.preview,earliest_time:options.earliest_time,latest_time:options.latest_time,auto_cancel:options.auto_cancel,max_count:options.max_count};return $.extend(!0,saveData,options.data),job.save({},{data:saveData,success:function(model,response){deferred.resolve()},error:function(model,response){deferred.resolve()}}),job},registerArtifactModel:function(artifactModel,job,linkKey){ArtifactFetchManager.registerArtifactModel(artifactModel,job,linkKey)},unregisterArtifactModel:function(artifactModel,job){ArtifactFetchManager.unregisterArtifactModel(artifactModel,job)}});return JobModel}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"models/services/ACL":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/backbone"),__webpack_require__("models/Base"),__webpack_require__("util/splunkd_utils")],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function($,Backbone,BaseModel,splunkDUtils){return BaseModel.extend({initialize:function(attributes,options){BaseModel.prototype.initialize.apply(this,arguments)},sync:function(method,model,options){var defaults={data:{output_mode:"json"}};switch(method){case"update":defaults.processData=!0,defaults.type="POST",defaults.url=splunkDUtils.fullpath(model.id),$.extend(!0,defaults,options);break;default:throw new Error("invalid method: "+method)}return Backbone.sync.call(this,method,model,defaults)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"models/services/saved/Search":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/backbone"),__webpack_require__("util/splunkd_utils"),__webpack_require__("models/Base"),__webpack_require__("models/SplunkDBase"),__webpack_require__("require/underscore"),__webpack_require__("shim/splunk.util")],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function($,Backbone,splunkd_utils,BaseModel,SplunkDBaseModel,_,splunkUtil){var Embed=BaseModel.extend({initialize:function(attributes,options){BaseModel.prototype.initialize.apply(this,arguments)},sync:function(method,model,options){var defaults={data:{output_mode:"json"}};switch(method){case"update":defaults.processData=!0,defaults.type="POST",defaults.url=splunkd_utils.fullpath(model.id),$.extend(!0,defaults,options);break;default:throw new Error("invalid method: "+method)}return Backbone.sync.call(this,method,model,defaults)}}),URL="saved/searches";return SplunkDBaseModel.extend({url:URL,initialize:function(){SplunkDBaseModel.prototype.initialize.apply(this,arguments),this.on("change:id",function(){var shareLink,unshareLink;this.id&&(shareLink=this.id+"/embed",unshareLink=this.id+"/unembed"),this.embed.set("id",shareLink),this.unembed.set("id",unshareLink)},this),this.embed.on("sync",function(){this.safeFetch()},this),this.unembed.on("sync",function(){this.safeFetch()},this)},initializeAssociated:function(){SplunkDBaseModel.prototype.initializeAssociated.apply(this,arguments),this.embed=this.embed||new this.constructor.Embed,this.associated.embed=this.embed,this.unembed=this.unembed||new this.constructor.Embed,this.associated.unembed=this.unembed},parse:function(response,options){if(options=options||{},response=this.migrateAttributes(response,options),_.extend(options,{skipClone:!0}),this.initializeAssociated(),splunkd_utils.isExistingEntity(response)){var id=response.entry[0].links.alternate;this.embed.set("id",id+"/embed"),this.unembed.set("id",id+"/unembed")}return SplunkDBaseModel.prototype.parse.call(this,response,options)},setFromSplunkD:function(payload,options){if(options=options||{},payload=this.migrateAttributes(payload,options),_.extend(options,{skipClone:!0}),splunkd_utils.isExistingEntity(payload)){var id=payload.entry[0].links.alternate;this.embed.set("id",id+"/embed"),this.unembed.set("id",id+"/unembed")}return SplunkDBaseModel.prototype.setFromSplunkD.call(this,payload,options)},migrateAttributes:function(response,options){if((options=options||{}).skipClone||(response=$.extend(!0,{},response)),response&&response.entry&&response.entry[0].content){var content=response.entry[0].content,format=content["action.email.format"];-1!=_.indexOf(["html","plain","pdf"],format)?(response.entry[0].content["action.email.format"]="table","pdf"!==format&&(response.entry[0].content["action.email.content_type"]=format)):"csv"===format&&splunkUtil.normalizeBoolean(content["action.email.sendresults"])&&!(splunkUtil.normalizeBoolean(content["action.email.sendcsv"])||splunkUtil.normalizeBoolean(content["action.email.sendpdf"])||splunkUtil.normalizeBoolean(content["action.email.inline"]))&&(response.entry[0].content["action.email.sendcsv"]="1")}return response}},{Embed:Embed,buildId:function(name,app,owner,sharing){return sharing===splunkd_utils.APP||sharing===splunkd_utils.GLOBAL?owner=splunkd_utils.NOBODY:sharing===splunkd_utils.SYSTEM&&(owner=splunkd_utils.NOBODY,app=splunkd_utils.SYSTEM),"/servicesNS/"+encodeURIComponent(owner)+"/"+encodeURIComponent(app)+"/"+URL+"/"+encodeURIComponent(name)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"models/services/search/Job":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),__webpack_require__("models/Base"),__webpack_require__("models/config"),__webpack_require__("models/ACLReadOnly"),__webpack_require__("models/services/ACL"),__webpack_require__("models/services/search/jobs/Control"),__webpack_require__("util/splunkd_utils"),__webpack_require__("util/general_utils"),__webpack_require__("shim/splunk.util"),__webpack_require__("util/console")],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone,BaseModel,configModel,ACLReadOnlyModel,ACLModel,ControlModel,splunkd_utils,general_utils,splunkUtil,console){var Model=BaseModel.extend({url:"search/jobs",initialize:function(attributes,options){BaseModel.prototype.initialize.apply(this,arguments),this.initializeAssociated(),this.entry.links.on("change:control",function(){this.control.set("id",this.entry.links.get("control"))},this),this.entry.links.on("change:alternate",function(){var alt=this.entry.links.get("alternate");alt&&(alt+="/acl"),this.acl.set("id",alt)},this),options&&options.splunkDPayload&&this.setFromSplunkD(options.splunkDPayload,{silent:!0})},parseSplunkDMessages:function(response){var messages=BaseModel.prototype.parseSplunkDMessages.call(this,response);if(response&&response.entry&&0<response.entry.length){var entry=response.entry[0],content=entry.content||{};messages=_.union(messages,splunkd_utils.parseMessagesObject(entry.messages),splunkd_utils.parseMessagesObject(content.messages)),content.isZombie&&messages.push(splunkd_utils.createMessageObject(splunkd_utils.FATAL,"Job terminated unexpectedly"))}return messages},initializeAssociated:function(){var RootClass=this.constructor;this.associated=this.associated||{},this.links=this.links||new RootClass.Links,this.associated.links=this.links,this.generator=this.generator||new RootClass.Generator,this.associated.generator=this.generator,this.paging=this.paging||new RootClass.Paging,this.associated.paging=this.paging,this.entry||(this.entry=new RootClass.Entry,this.entry.links=new RootClass.Entry.Links,this.entry.associated.links=this.entry.links,this.entry.acl=new RootClass.Entry.ACL,this.entry.associated.acl=this.entry.acl,this.entry.content=new RootClass.Entry.Content,this.entry.content.performance=new RootClass.Entry.Content.Performance,this.entry.content.associated.performance=this.entry.content.performance,this.entry.content.request=new RootClass.Entry.Content.Request,this.entry.content.associated.request=this.entry.content.request,this.entry.content.runtime=new RootClass.Entry.Content.Runtime,this.entry.content.associated.runtime=this.entry.content.runtime,this.entry.content.custom=new RootClass.Entry.Content.Custom,this.entry.content.associated.custom=this.entry.content.custom,this.entry.associated.content=this.entry.content),this.associated.entry=this.entry,this.control=this.control||new ControlModel,this.associated.control=this.control,this.acl=this.acl||new ACLModel,this.associated.acl=this.acl},sync:function(method,model,options){switch(method){case"create":return function(model,options){var rootOptions=options,rootModel=model,deferredResponse=$.Deferred(),createModel=new BaseModel,fetchModel=new BaseModel,app_and_owner={};(options=options||{}).data=options.data||{},app_and_owner=$.extend(app_and_owner,{app:options.data.app||void 0,owner:options.data.owner||void 0,sharing:options.data.sharing||void 0});var url=splunkd_utils.fullpath(model.url,app_and_owner),saveOptions=model.getCreateOptions(options);return options.data=$.extend(!0,{},app_and_owner),model.trigger("request",model,deferredResponse,options),saveOptions.url=saveOptions.url||url,saveOptions.success=function(createModel,response,options){rootModel.set("id",createModel.get("sid"));var fetchDeferred=fetchModel.fetch({url:url+"/"+encodeURIComponent(createModel.get("sid")),data:{output_mode:"json"},success:function(fetchModel,response,options){rootOptions.success(response)},error:function(fetchModel,response,options){rootOptions.error(response)}});fetchDeferred.done(function(){deferredResponse.resolve.apply(deferredResponse,arguments)}),fetchDeferred.fail(function(){deferredResponse.reject.apply(deferredResponse,arguments)})},saveOptions.error=function(createModel,response,options){rootOptions.error(response)},createModel.save({},saveOptions).fail(function(){deferredResponse.reject.apply(deferredResponse,arguments)}),deferredResponse.promise()}.call(this,model,options);case"read":return function(model,options){var defaults={data:{output_mode:"json"}},app_and_owner={};if(model.isNew())throw new Error("You cannot read a job without an id.");return options&&options.data&&(app_and_owner=$.extend(app_and_owner,{app:options.data.app||void 0,owner:options.data.owner||void 0,sharing:options.data.sharing||void 0})),defaults.url=splunkd_utils.fullpath(model.url+"/"+encodeURIComponent(model.id),app_and_owner),$.extend(!0,defaults,options||{}),delete defaults.data.app,delete defaults.data.owner,delete defaults.data.sharing,Backbone.sync.call(this,"read",model,defaults)}.call(this,model,options);case"update":return function(model,options){var defaults={data:{output_mode:"json"}},app_and_owner={},customAttrs=this.getCustomDataPayload();return options&&options.data&&(app_and_owner=$.extend(app_and_owner,{app:options.data.app||void 0,owner:options.data.owner||void 0,sharing:options.data.sharing||void 0})),$.extend(!0,defaults.data,customAttrs||{}),defaults.url=splunkd_utils.fullpath(model.url+"/"+encodeURIComponent(model.id),app_and_owner),defaults.processData=!0,defaults.type="POST",$.extend(!0,defaults,options||{}),delete defaults.data.app,delete defaults.data.owner,delete defaults.data.sharing,Backbone.sync.call(this,"update",model,defaults)}.call(this,model,options);case"delete":return function(model,options){var defaults={data:{output_mode:"json"}},url=model.url+"/"+encodeURIComponent(model.id);return options.data&&options.data.output_mode?(defaults.url=splunkd_utils.fullpath(url,{})+"?output_mode="+encodeURIComponent(options.data.output_mode),delete options.data.output_mode):(defaults.url=splunkd_utils.fullpath(url,{})+"?output_mode="+encodeURIComponent(defaults.data.output_mode),delete defaults.data.output_mode),$.extend(!0,defaults,options),defaults.processData=!0,Backbone.sync.call(this,"delete",model,defaults)}.call(this,model,options);default:throw new Error("invalid method: "+method)}},parse:function(response){if(response=$.extend(!0,{},response),this.initializeAssociated(),response&&response.entry&&0!==response.entry.length){var response_entry=response.entry[0];return this.set(this.idAttribute,response_entry.content.sid),response.id=response_entry.content.sid,this.links.set(response.links),delete response.links,this.generator.set(response.generator),delete response.generator,this.paging.set(response.paging),delete response.paging,this.entry.links.set(response_entry.links),response_entry.links.control&&this.control.set("id",response_entry.links.control),response_entry.links.alternate&&this.acl.set("id",response_entry.links.alternate+"/acl"),delete response_entry.links,this.entry.acl.set(response_entry.acl),delete response_entry.acl,this.entry.content.performance.set(response_entry.content.performance),delete response_entry.content.performance,this.entry.content.request.set(response_entry.content.request),delete response_entry.content.request,this.entry.content.runtime.set(response_entry.content.runtime),delete response_entry.content.runtime,this.entry.content.custom.set(response_entry.content.custom),delete response_entry.content.custom,this.entry.content.set(response_entry.content),delete response_entry.content,this.entry.set(response_entry),delete response.entry,response}console.log("Response has no content to parse")},setFromSplunkD:function(payload,options){this.attributes={};var cloned_payload=$.extend(!0,{},payload),oldId=this.id;if(cloned_payload){if(cloned_payload.entry&&cloned_payload.entry[0]){var payload_entry=cloned_payload.entry[0];payload_entry.content&&(this.set({id:payload_entry.content.sid},{silent:!0}),cloned_payload.id=payload_entry.content.sid,payload_entry.content.performance&&(this.entry.content.performance.set(payload_entry.content.performance,options),delete payload_entry.content.performance),payload_entry.content.request&&(this.entry.content.request.set(payload_entry.content.request,options),delete payload_entry.content.request),payload_entry.content.runtime&&(this.entry.content.runtime.set(payload_entry.content.runtime,options),delete payload_entry.content.runtime),payload_entry.content.custom&&(this.entry.content.custom.set(payload_entry.content.custom,options),delete payload_entry.content.custom),this.entry.content.set(payload_entry.content,options),delete payload_entry.content),payload_entry.links&&(this.entry.links.set(payload_entry.links,options),payload_entry.links.control&&this.control.set("id",payload_entry.links.control,options),payload_entry.links.alternate&&this.acl.set("id",payload_entry.links.alternate+"/acl",options),delete payload_entry.links),payload_entry.acl&&(this.entry.acl.set(payload_entry.acl,options),delete payload_entry.acl),this.entry.set(payload_entry,options),delete cloned_payload.entry}cloned_payload.links&&(this.links.set(cloned_payload.links,options),delete cloned_payload.links),cloned_payload.generator&&(this.generator.set(cloned_payload.generator,options),delete cloned_payload.generator),cloned_payload.paging&&(this.paging.set(cloned_payload.paging,options),delete cloned_payload.paging),this.set(cloned_payload,options),this.id!==oldId&&this.trigger("change:"+this.idAttribute)}},toSplunkD:function(){var payload={};return(payload=$.extend(!0,{},this.toJSON())).links=$.extend(!0,{},this.links.toJSON()),payload.generator=$.extend(!0,{},this.generator.toJSON()),payload.paging=$.extend(!0,{},this.paging.toJSON()),payload.entry=[$.extend(!0,{},this.entry.toJSON())],payload.entry[0].links=$.extend(!0,{},this.entry.links.toJSON()),payload.entry[0].acl=$.extend(!0,{},this.entry.acl.toJSON()),payload.entry[0].content=$.extend(!0,{},this.entry.content.toJSON()),payload.entry[0].content.performance=$.extend(!0,{},this.entry.content.performance.toJSON()),payload.entry[0].content.request=$.extend(!0,{},this.entry.content.request.toJSON()),payload.entry[0].content.runtime=$.extend(!0,{},this.entry.content.runtime.toJSON()),payload.entry[0].content.custom=$.extend(!0,{},this.entry.content.custom.toJSON()),delete payload.id,payload},getCustomDataPayload:function(){var payload=$.extend(!0,{},this.entry.content.custom.toJSON()),keys=_.keys(payload);return _.each(keys,function(key){payload["custom."+key]=payload[key],delete payload[key]}),payload},getCreateOptions:function(options){(options=options||{}).data=options.data||{};var createDefaults={data:{rf:_.has(options.data,"rf")?options.data.rf:"*",auto_cancel:Model.DEFAULT_AUTO_CANCEL,status_buckets:300,output_mode:"json"}},customAttrs=this.getCustomDataPayload();return $.extend(!0,createDefaults.data,customAttrs||{}),$.extend(!0,createDefaults.data,options.data),delete createDefaults.data.app,delete createDefaults.data.owner,delete createDefaults.data.sharing,createDefaults.data.search&&(createDefaults.data.search=splunkUtil.addLeadingSearchCommand(createDefaults.data.search,!0)),{processData:!0,data:createDefaults.data}}},{QUEUED:"QUEUED",PARSING:"PARSING",RUNNING:"RUNNING",PAUSED:"PAUSED",FINALIZING:"FINALIZING",FAILED:"FAILED",DONE:"DONE",CANCELED:"CANCELED",DEFAULT_AUTO_CANCEL:30,DEFAULT_AUTO_PAUSE:30,getAutoPauseInterval:function(val){var parsed=general_utils.parseBooleanOrInt(val);return _.isBoolean(parsed)?parsed?Model.DEFAULT_AUTO_PAUSE:0:parsed},JOB_MIN_POLLING_INTERVAL:configModel.get("JOB_MIN_POLLING_INTERVAL")||100,JOB_MAX_POLLING_INTERVAL:configModel.get("JOB_MAX_POLLING_INTERVAL")||1e3,DEFAULT_METADATA_POLLING_INTERVAL:3e3,DEFAULT_LONG_POLLING_INTERVAL:15e3,Links:BaseModel,Generator:BaseModel,Paging:BaseModel,Entry:BaseModel.extend({initialize:function(){BaseModel.prototype.initialize.apply(this,arguments)}},{Links:BaseModel,ACL:ACLReadOnlyModel,Content:BaseModel.extend({initialize:function(){BaseModel.prototype.initialize.apply(this,arguments)}},{Performance:BaseModel,Request:BaseModel,Runtime:BaseModel,Custom:BaseModel})})});return Model}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"models/services/search/jobs/BulkControl":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),__webpack_require__("require/backbone"),__webpack_require__("models/StaticIdBase"),__webpack_require__("util/splunkd_utils"),__webpack_require__("shim/splunk.util")],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,Backbone,BaseModel,splunkDUtils,splunkUtil){return BaseModel.extend({url:splunkUtil.make_url("api/search/jobs/control"),initialize:function(attributes,options){BaseModel.prototype.initialize.apply(this,arguments)},sync:function(method,model,options){var defaults={data:{output_mode:"json"}};switch(method){case"update":defaults.processData=!0,defaults.type="POST",$.extend(!0,defaults,options);break;default:throw new Error("invalid method: "+method)}return Backbone.sync.call(this,method,model,defaults)},parseSplunkDMessages:function(response){if(!response)return[];var messages=response.messages;return messages?_(messages).map(function(message){return splunkDUtils.createMessageObject(message.type,message.message)}):[]},getNumOfNotFoundJobs:function(){return _.where(this.get("messages"),{status:404}).length}},{id:"api/search/jobs/control"})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"models/services/search/jobs/Control":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/backbone"),__webpack_require__("models/Base"),__webpack_require__("util/splunkd_utils")],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function($,Backbone,BaseModel,splunkDUtils){return BaseModel.extend({initialize:function(attributes,options){BaseModel.prototype.initialize.apply(this,arguments)},sync:function(method,model,options){var defaults={data:{output_mode:"json"}};switch(method){case"update":defaults.processData=!0,defaults.type="POST",defaults.url=splunkDUtils.fullpath(model.id),$.extend(!0,defaults,options);break;default:throw new Error("invalid method: "+method)}return Backbone.sync.call(this,method,model,defaults)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"models/shared/fetchdata/EAIFetchData":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("models/Base")],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(_,Base){return Base.extend({defaults:{filter:{}},toJSON:function(options){var json=Base.prototype.toJSON.apply(this,arguments);if(json.sortKey&&(json.sort_key=json.sortKey,json.sort_dir=json.sortDirection),delete json.sortKey,delete json.sortDirection,0<_(json.filter).size()){var search=[];_(json.filter).each(function(match,key){search.push(key+"=*"+match+"*")}),json.search=search.join(" ")}return delete json.filter,json}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"require/backbone":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("contrib/backbone")],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function($,_,Backbone){return Backbone.$=$,Backbone.noConflict()}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"shim/jquery.deparam":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__(1992)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function($){return $.fn.deparam}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"shim/lowpro":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__(1995)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function($){return $.klass}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"shim/splunk.error":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("shim/splunk"),__webpack_require__("shim/splunk.logger")],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function($,Splunk){return Splunk.Error}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"shim/splunk.logger":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/splunk"),__webpack_require__("shim/splunk.util"),__webpack_require__("logger")],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(Splunk){return Splunk.Logger}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"shim/splunk.session":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/splunk"),__webpack_require__("shim/jquery"),__webpack_require__("shim/lowpro"),__webpack_require__("shim/splunk.logger"),__webpack_require__("shim/splunk.util"),__webpack_require__(1996)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(Splunk){return Splunk.Session}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"shim/splunkjs":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("splunkjs/splunk")],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(jQuery){return window.splunkjs}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"splunkjs/css/messages.css":function(module,exports,__webpack_require__){var content=__webpack_require__(1997);"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(905)(content,options);content.locals&&(module.exports=content.locals)},"splunkjs/generated/urlresolver":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){return{reverse:function(name,app,args){throw new Error("Path reverse is not supported in this configuration of the framework.")}}}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"splunkjs/mvc":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){return __webpack_require__("splunkjs/mvc/mvc")}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"splunkjs/mvc/basemanager":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var _=__webpack_require__("require/underscore"),Backbone=__webpack_require__("require/backbone"),console=__webpack_require__("util/console"),DomTrackerMixin=__webpack_require__("mixins/domtracker"),mvc=__webpack_require__("splunkjs/mvc/mvc"),BaseManager=Backbone.Model.extend({constructor:function(attributes,options){attributes=attributes||{};var id=(options=options||{}).id||attributes.id;void 0===id&&void 0!==(id=options.name||attributes.name)&&console.log("Use of 'name' to specify the ID of a Splunk model is deprecated."),void 0===id&&(id=_.uniqueId("manager_")),this.id=this.name=options.name=options.id=id,this.registry=options.registry||options._tokenRegistry||mvc.Components;var returned=Backbone.Model.prototype.constructor.apply(this,arguments);return this.registry.registerInstance(this.id,this,{replace:options.replace}),returned},_start:function(){},dispose:function(){this.stopListeningDOM(),this.stopListening(),this.registry.getInstance(this.id)===this&&this.registry.revokeInstance(this.id)},getType:function(){return this.settings.get("type")||"primary"}});return _.extend(BaseManager.prototype,DomTrackerMixin),BaseManager}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"splunkjs/mvc/basetokenmodel":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){return __webpack_require__("require/backbone").Model.extend({moduleId:module.i})}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"splunkjs/mvc/jobtracker":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require){var _=__webpack_require__("require/underscore"),Backbone=__webpack_require__("require/backbone"),configModel=(__webpack_require__("util/console"),__webpack_require__("models/config")),JobsCollection=__webpack_require__("collections/search/Jobs"),MONITORED_PROPERTIES=["dispatchState","scanCount","resultCount","eventCount","isPaused","eventAvailableCount","isDone","isFailed","isFinalized","doneProgress","numPreviews"],FAST_FETCH_PERIOD=configModel.get("JOB_MIN_POLLING_INTERVAL")||100,SLOW_FETCH_PERIOD=configModel.get("JOB_MAX_POLLING_INTERVAL")||1e3,JobTracker=function(){this.initialize.apply(this,arguments)};return _.extend(JobTracker.prototype,Backbone.Events,{initialize:function(){this._active=[],this._inflight=null,this._timer=null,this._fresh=!1,this._fetch=_.bind(this._fetch,this)},track:function(job,callbacks,scope){this._active.push(this._initializeItem(job,callbacks||{},scope)),this._fresh=!0,this._scheduleNextFetch()},untrack:function(sid,scope){var items=this._active,cmp={sid:sid};void 0!==scope&&(cmp.scope=scope);var item=_(items).where(cmp)[0];item&&(item._stop=!0,this._active=_(items).without(item))},_initializeItem:function(job,callbacks,scope){var item={job:job,model:new Backbone.Model,scope:scope,sid:job.id};return _.isFunction(callbacks.progress)&&item.model.on("change",function(){callbacks.progress(job)}),_.isFunction(callbacks.ready)&&item.model.once("change:dispatchState",callbacks.ready),_.isFunction(callbacks.done)&&item.model.on("done",callbacks.done),_.isFunction(callbacks.failed)&&item.model.on("failed",callbacks.failed),_.isFunction(callbacks.error)&&item.model.on("error",callbacks.error),item},_scheduleNextFetch:function(){if(!this._timer&&!this._inflight){var timeout=this._fresh?FAST_FETCH_PERIOD:SLOW_FETCH_PERIOD;this._timer=setTimeout(this._fetch,timeout)}},_requestUpdate:function(sids,callback){return(new JobsCollection).fetch({data:{id:sids,count:sids.length},success:function(collection,data){callback(null,data)},error:function(error){callback(error)}})},_fetch:function(){this._timer=null;var requestedJobsByID=_(this._active).groupBy("sid");if(!_.isEmpty(requestedJobsByID)){var requestedSIDs=_(requestedJobsByID).keys(),tracker=this;this._inflight=this._requestUpdate(requestedSIDs,function(err,data){if(tracker._inflight=null,err)return _(requestedJobsByID).chain().flatten().pluck("model").invoke("trigger",["error",err]),void tracker._scheduleNextFetch();var newActive=[],oldActive=tracker._active;_(oldActive).each(function(item){requestedJobsByID[item.sid]||newActive.push(item)}),tracker._fresh=!_.isEmpty(newActive);var returnedSIDs=_(data.entry).map(function(entry){var sid=entry.content.sid;return _(requestedJobsByID[sid]).each(function(item){var job=item.job,model=item.model;if(!item._stop){job.setFromSplunkD({entry:[entry]}),model.set(_.pick(entry.content,MONITORED_PROPERTIES));var props=entry.content,dispatchState=props.dispatchState;props.isFailed||props.isZombie||"FAILED"===dispatchState?(model.trigger("failed",job),model.off()):props.isDone||"DONE"===dispatchState?(model.trigger("done",job),model.off()):newActive.push(item)}}),sid});returnedSIDs=_.object(returnedSIDs,returnedSIDs),_(requestedSIDs).each(function(sid){if(!returnedSIDs[sid]){var items=_(oldActive).where({sid:sid});_(items).each(function(item){item&&(item._stop||(item.model.has("dispatchState")&&void 0!==item.model.get("dispatchState")?(item.model.trigger("error",_("The job has not been found").t()),tracker._itemDone(item)):(newActive.push(item),tracker._fresh=!0)))})}}),tracker._active=newActive,tracker._scheduleNextFetch()})}},_itemDone:function(item){item.model.off()}}),new JobTracker}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"splunkjs/mvc/messages":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var _=__webpack_require__("require/underscore"),console=(__webpack_require__("splunkjs/mvc/mvc"),__webpack_require__("util/console"));__webpack_require__("splunkjs/css/messages.css");var messages={cancelled:{icon:"info-circle",level:"info",message:_("Search was cancelled").t()},refresh:{icon:"info-circle",level:"info",message:_("Search is refreshing...").t()},empty:{icon:"blank",level:"info",message:""},"unresolved-search":{icon:"warning-sign",level:"error",message:_("Search is waiting for input...").t()},"unresolved-tokens":{icon:"warning-sign",level:"error",message:_("Search was not dispatched. To adjust search dispatch settings, edit the dashboard XML.").t()},"no-events":{icon:"info-circle",level:"info",message:_("Search did not return any events.").t()},"no-results":{icon:"blank",level:"info",message:_("No results found.").t()},"no-search":{icon:"info-circle",level:"info",message:_("No search set.").t()},"no-stats":{icon:"warning-sign",level:"error",message:_("Search isn't generating any statistical results.").t()},"not-started":{icon:"info-circle",level:"info",message:_("No search started.").t()},waiting:{icon:"blank",level:"info",message:_("Waiting for data...").t()},"waiting-queued":{icon:"info-circle",level:"info",message:_("Waiting for queued job to start.").t()},"waiting-preparing":{icon:"info-circle",level:"info",message:_("Waiting for search to start: job is preparing.").t()}},SPLUNKD_MESSAGE_ORDER={FATAL:1,ERROR:2,WARN:3,INFO:4,DEBUG:5},Messages={messageTemplate:'<div class="splunk-message-container <%- compact ? \'compact\' : \'\' %>">    <div class="alert alert-<%= level %>">         <i class="icon-alert"></i>         <%- message %>     </div> </div>',messages:messages,render:function(info,$el){_.isString(info)&&(info=this.messages[info]),info?(info.compact=!!info.compact,$el.html(_.template(this.messageTemplate,info))):console.log("Warning: Unknown message: "+info)},resolve:function(info){return this.messages[info]},_extractErrorMessage:function(state,contentProperty,combineMessages,defaultMessage){if(state){var content=state[contentProperty||"content"];if(content&&content.isZombie)return _("The search job terminated unexpectedly.").t();if(content&&content.messages&&content.messages.length){var msgs=_(content.messages).filter(function(msg){return("ERROR"===msg.type||"FATAL"===msg.type)&&!!msg.text});if(msgs.length){var result=_.chain(msgs).sortBy(function(msg){return SPLUNKD_MESSAGE_ORDER[msg.type]||99}).pluck("text").unique().value();return combineMessages?result.join("; "):result[0]}}}return defaultMessage},getSearchErrorMessage:function(state){return Messages._extractErrorMessage(state,"data",!0)},getSearchFailureMessage:function(jobState){return Messages._extractErrorMessage(jobState,"content",!1,_("The search failed").t())}};return Messages}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"splunkjs/mvc/mvc":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var $=__webpack_require__("shim/jquery"),_=__webpack_require__("require/underscore"),Backbone=__webpack_require__("require/backbone"),console=__webpack_require__("util/console"),Registry=(__webpack_require__("shim/jquery.deparam"),__webpack_require__("splunkjs/mvc/protections"),__webpack_require__("splunkjs/mvc/registry")),Resolver=__webpack_require__("splunkjs/generated/urlresolver"),sdk=__webpack_require__("shim/splunkjs"),splunkConfig=__webpack_require__("stubs/splunk.config"),TokenEscapeString=__webpack_require__("splunkjs/mvc/tokenescapestring"),TokenSafeString=__webpack_require__("splunkjs/mvc/tokensafestring"),TokenUtils=__webpack_require__("splunkjs/mvc/tokenutils"),utils=__webpack_require__("splunkjs/mvc/utils");__webpack_require__("shim/splunk.error"),__webpack_require__("util/ajax_logging");var sessionKey=null,MVCConstructor=function(options){this.Components=new Registry,this.initialize.apply(this,arguments)};_.extend(MVCConstructor.prototype,Backbone.Events,{started:!1,initialize:function(){},drilldown:function(path,data){var encoded=$.param(data||{});encoded&&(path=path+"?"+encoded),window.location=path},loadDebugger:function(callback){var that=this;__webpack_require__.e(9).then(function(){var __WEBPACK_AMD_REQUIRE_ARRAY__=[__webpack_require__("splunkjs/mvc/debugger")];(function(Debugger){that.Debugger=new Debugger({registry:that.Components}),that.trigger("debugger:ready",that),callback&&callback(that.Debugger)}).apply(null,__WEBPACK_AMD_REQUIRE_ARRAY__)}).catch(__webpack_require__.oe)},loadDrilldown:function(data){var queryArgs=window.location.search.substr(1)||"",args=_.extend({},$.deparam(queryArgs),data),that=this;_.each(args,function(datum,id){if(that.Components.has(id)){var component=that.Components.getInstance(id);component.settings?component.settings.set(datum):component.set?component.set(datum):console.log("Could not find a setter for '"+id+"'",datum)}})},reverse:function(name,app,args){return Resolver.reverse(name,app,args)},_setSessionKey:function(key){sessionKey=key},createService:function(options){options=options||{},sessionKey&&(options.sessionKey=sessionKey);var http=options.http||new sdk.ProxyHttp(splunkConfig.SPLUNKD_PATH);return options.scheme=options.scheme||splunkConfig.SCHEME,options.host=options.host||splunkConfig.HOST,options.port=options.port||splunkConfig.PORT,options.version=options.version||"5.0",options.app=options.app||utils.getPageInfo().app||"-",options.owner=options.owner||splunkConfig.USERNAME,new sdk.Service(http,options)},tokenSafe:function(template){return new TokenSafeString(template)},tokenEscape:function(literal){return new TokenEscapeString(literal)},setFilter:function(filterName,filterFunc){TokenUtils.setFilter(filterName,filterFunc,mvc.Components)},getFilter:function(filterName){return TokenUtils.getFilter(filterName,mvc.Components)}}),window.splunkjs||(window.splunkjs={});var mvc=new MVCConstructor;window.splunkjs.mvc=mvc;return mvc}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"splunkjs/mvc/protections":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var splunkUtils=__webpack_require__("shim/splunk.util");return{enableCSRFProtection:function($){var splunkwebCookie=splunkUtils.getFormKey();$.ajaxPrefilter(function(options,originalOptions,xhr){options.hasOwnProperty("crossDomain")||(options.crossDomain=!1),function(method){return/^(GET|HEAD|OPTIONS|TRACE)$/.test(method)}(options.type||"")||splunkwebCookie&&xhr.setRequestHeader("X-Splunk-Form-Key",splunkwebCookie)})},enableUnauthorizationRedirection:function($,loginURL,logoutURL){$(document).bind("ajaxError",function(ev,xhr,opts,err){var pathname=window.location.pathname;if(401===xhr.status&&-1===pathname.indexOf(logoutURL)){var returnTo=encodeURIComponent(pathname+document.location.search);document.location=loginURL+"?return_to="+returnTo}})}}}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"splunkjs/mvc/registry":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var _=__webpack_require__("require/underscore"),Backbone=__webpack_require__("require/backbone"),console=__webpack_require__("util/console"),BaseTokenModel=__webpack_require__("splunkjs/mvc/basetokenmodel");return Backbone.Model.extend({initialize:function(){this.registerInstance("default",this._createTokenModel("default"))},createError:function(message){return message},registerInstance:function(id,component,options){if(options=options||{},!id)throw new Error("You must pass in an ID when registering an instance.");if(this.has(id)&&!options.replace)throw new Error(this.createError("Already have instance with id: "+id));return this.set(id,component,options),component},revokeInstance:function(id,options){this.unset(id,options)},hasInstance:function(id){return this.has(id)},getInstance:function(id,options){return options=options||{},this.has(id)||(options.create?this.registerInstance(id,this._createTokenModel(id)):console.error(this.createError("No instance with id: "+id))),this.get(id)},getInstances:function(){return _.values(this.attributes)},getInstanceNames:function(){return _.keys(this.attributes)},_createTokenModel:function(id){var namespaceModel=new BaseTokenModel;return namespaceModel.id=id,namespaceModel}})}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"splunkjs/mvc/searchmanager":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var _=__webpack_require__("require/underscore"),$=__webpack_require__("shim/jquery"),mvc=__webpack_require__("splunkjs/mvc/mvc"),BaseManager=(__webpack_require__("splunkjs/splunk").Async,__webpack_require__("splunkjs/mvc/basemanager")),SplunkResultsModel=__webpack_require__("splunkjs/mvc/splunkresultsmodel"),SearchModels=__webpack_require__("splunkjs/mvc/searchmodel"),TokenSafeString=__webpack_require__("splunkjs/mvc/tokensafestring"),TokenUtils=__webpack_require__("splunkjs/mvc/tokenutils"),console=__webpack_require__("util/console"),JobTracker=__webpack_require__("splunkjs/mvc/jobtracker"),Messages=__webpack_require__("splunkjs/mvc/messages"),JobModel=__webpack_require__("models/search/Job"),JobsCollection=__webpack_require__("collections/search/Jobs"),splunkUtil=__webpack_require__("shim/splunk.util"),splunkDUtils=__webpack_require__("util/splunkd_utils"),splunkjsUtils=__webpack_require__("splunkjs/mvc/utils"),splunkConfig=__webpack_require__("stubs/splunk.config"),moment=__webpack_require__(95);__webpack_require__("util/moment/relative");var sdk=__webpack_require__("shim/splunkjs"),PROPERTIES_IGNORED_BY_CACHE=["label","webframework.cache.hash","app","owner","provenance","refresh","refreshType"],ALLOWED_ATTRIBUTES=SearchModels.SearchSettingsModel.ALLOWED_ATTRIBUTES,SearchManager=BaseManager.extend({moduleId:module.i,defaults:{autostart:!0,cache:!1,cancelOnUnload:!0,runWhenTimeIsUndefined:!0,replaceTabsInSearch:!1,defaultsToGlobalTimerange:!1,refreshType:"delay",app:splunkjsUtils.getCurrentApp(),owner:splunkConfig.USERNAME,provenance:"splunkjs",rf:void 0},constructor:function(attributes,options){if(options=options||{},(attributes=attributes||{}).queryModel&&attributes.searchModel)throw new Error('Cannot specify two custom settings models via deprecated options "queryModel" and "searchModel".');return this.settings=attributes.settings||attributes.queryModel||attributes.searchModel||new SearchModels.SearchSettingsModel({},_.extend({},options,{_tokenRegistry:options.registry||options._tokenRegistry||mvc.Components})),this.query=this.settings,this.search=this.settings,delete attributes.settings,delete attributes.queryModel,delete attributes.searchModel,BaseManager.prototype.constructor.apply(this,arguments)},initialize:function(options){options=options||{};var service=mvc.createService({app:this.get("app"),owner:this.get("owner")});Object.defineProperty(this,"service",{get:function(){return console.warn("SearchManager#service has been deprecated and will be removed in a future release."),service}}),this.settings.has("label")||this.settings.set("label",this.id),this._debouncedUpdateGlobalTimerange=_.debounce(this._updateGlobalTimerange.bind(this)),this._updateGlobalTimerange(),this.listenTo(this.settings,"change",this._handleSettingsChange),this._debouncedStartSearch=_.debounce(this.startSearch),this.listenTo(this,"change:autostart",this.handleAutostart),this.listenTo(this,"search:error",function(msg){return this.lastError=msg,!0}),this.listenTo(this,"all",function(evt){"search:"===evt.substring(0,"search:".length)&&(this._lastSearchEvent=[evt,Array.prototype.slice.call(arguments,1)])}),this.handleAutostart();var tokenDependencies=this.settings.get("tokenDependencies",{tokens:!0});TokenUtils.listenToTokenDependencyChange(tokenDependencies,this.registry,this._start,this),this.listenTo(this.settings,"change:tokenDependencies",function(settings,newTokenDependencies){var oldTokenDependencies=settings.previous("tokenDependencies");TokenUtils.stopListeningToTokenDependencyChange(oldTokenDependencies,this.registry),TokenUtils.listenToTokenDependencyChange(newTokenDependencies,this.registry,this._start,this)}),this._start(),this._cancelOnUnload=_.bind(this._cancelOnUnload,this),this.listenTo(this,"change:cancelOnUnload change:cache",this.handleCancelOnUnload),this.listenTo(this,"change:refresh change:refreshType",_.debounce(this._handleRefreshChange)),this.handleCancelOnUnload()},_handleSettingsChange:function(){var managerPropertiesChanged=_.omit(this.settings.changed,ALLOWED_ATTRIBUTES);BaseManager.prototype.set.call(this,managerPropertiesChanged),this._debouncedUpdateGlobalTimerange()},_updateGlobalTimerange:function(){this.settings.get("defaultsToGlobalTimerange")&&(null==this.settings.get("earliest_time",{tokens:!0})&&null==this.settings.get("latest_time",{tokens:!0})?this.settings.set({global_earliest_time:"$earliest$",global_latest_time:"$latest$"},{tokens:!0}):this.settings.set({global_earliest_time:void 0,global_latest_time:void 0},{unset:!0,tokens:!0}))},_handleRefreshChange:function(){clearTimeout(this._refreshSearchTimout);var refreshType=this.get("refreshType");(refreshType&&"delay"!==refreshType||!this._job||this._job.isDone())&&this._setRefreshSearch(refreshType)},handleAutostart:function(){this.get("autostart")?this.listenTo(this.settings,"change",this._handleSettingsChangeOnAutostart,this):this.stopListening(this.settings,"change",this._handleSettingsChangeOnAutostart,this)},_handleSettingsChangeOnAutostart:function(){var jobPropertiesChanged=_.pick(this.settings.changed,ALLOWED_ATTRIBUTES.concat(["global_earliest_time","global_latest_time"]));_.isEmpty(jobPropertiesChanged)||this._debouncedStartSearch()},handleCancelOnUnload:function(){this.stopListeningDOM($(window),"unload",this._cancelOnUnload),this.get("cancelOnUnload")&&!this.get("cache")&&this.listenToDOM($(window),"unload",this._cancelOnUnload)},_cancelOnUnload:function(){var job=this._job;job&&!job.isDone()&&job.cancel({async:!1})},_stopKeepAlive:function(){this._job&&this._job.stopKeepAlive()},_startKeepAlive:function(){this._job&&this._job.startKeepAlive()},set:function(key,value,options){var attrs;_.isObject(key)&&!_.isArray(key)||null===key?(attrs=key,options=value):(attrs={})[key]=value;var settings={};_.has(attrs,"search")&&this._isDictionary(attrs.search)&&(_.extend(settings,attrs.search),delete attrs.search),_.has(attrs,"query")&&this._isDictionary(attrs.query)&&(_.extend(settings,attrs.query),delete attrs.query),_.extend(settings,attrs),this.settings.set(settings,options),BaseManager.prototype.set.call(this,attrs,options)},get:function(attr){return this.settings.get.apply(this.settings,arguments)},_isDictionary:function(value){return _.isObject(value)&&!(value instanceof TokenSafeString)},_start:function(){return this.get("autostart")&&this.startSearch(),this},data:function(source,attrs){if(!source)throw new Error("Cannot get a results model without specifying the source.");return(attrs=attrs||{}).manager=this,attrs.source=source,new SplunkResultsModel(attrs)},_startSearchFromSid:function(sid){var that=this,job=new JobModel({id:sid});job.fetch({data:{app:this.get("app"),owner:this.get("owner")},success:function(){var updatedSettings=job.entry.content.request.pick(ALLOWED_ATTRIBUTES);that.settings.set(updatedSettings,{silent:!0,qualified:!0}),that.createManager(job)},error:function(){var message=_("Error in getting pre-existing search: ").t()+sid;that.trigger("search:error",message)}})},startSearch:function(options){if("boolean"==typeof options||"refresh"===options?options={refresh:!!options}:options||(options={}),this.lastError="",this._refresh=options.refresh,this.cancel(),this.has("sid"))this._startSearchFromSid(this.get("sid"));else{var cache=this.get("cache")||!1;_.isBoolean(cache)&&(cache=cache?-1:0);var searchOptions=this._createOptionsForSearchJob(),threshold=cache<0?new Date(0).valueOf():(new Date).valueOf()-1e3*cache;if(searchOptions.search){var earliestSetting="earliest_time",latestSetting="latest_time";if(null!=this.settings.get("global_earliest_time",{tokens:!0})&&null!=this.settings.get("global_latest_time",{tokens:!0})&&(earliestSetting="global_earliest_time",latestSetting="global_latest_time"),!(null==this.settings.get(earliestSetting,{tokens:!1})&&this.settings.get(earliestSetting,{tokens:!0})||null==this.settings.get(latestSetting,{tokens:!1})&&this.settings.get(latestSetting,{tokens:!0}))||this.settings.get("runWhenTimeIsUndefined")){var tokenDependencies=this.settings.get("tokenDependencies",{tokens:!0});if(TokenUtils.tokenDependenciesMet(tokenDependencies,this.registry)){if(0===cache)return this.createSearch(searchOptions),this;var filter=searchOptions["webframework.cache.hash"]?{search:"request.webframework.cache.hash="+searchOptions["webframework.cache.hash"]}:{},that=this;return(new JobsCollection).fetch({data:_.extend(filter,{app:this.get("app"),owner:this.get("owner")}),success:function(jobs){var targetOptions=_.reduce(searchOptions,function(accum,value,key){return _.contains(PROPERTIES_IGNORED_BY_CACHE,key)||("search"===key?accum[key]=splunkUtil.addLeadingSearchCommand(value,!0):_.isUndefined(value)||(accum[key]=_.isBoolean(value)||_.isNumber(value)?value.toString():value)),accum},{}),matches=jobs.filter(function(job){var request=job.entry.content.request.omit(PROPERTIES_IGNORED_BY_CACHE),published=new Date(job.entry.get("published"));return _.isEqual(request,targetOptions)&&threshold<published});if(matches.length){var mostRecentMatch=_.max(matches,function(job){return new Date(job.entry.get("published"))});that.createManager(mostRecentMatch)}else that.createSearch(searchOptions)},error:function(){console.log("Error fetching searches"),that.trigger("search:error",_("Error fetching searches").t())}}),this}this.trigger("search:error",Messages.resolve("unresolved-tokens").message)}else this.trigger("search:error",Messages.resolve("unresolved-search").message)}else this.settings.get("search",{tokens:!0})?this.trigger("search:error",Messages.resolve("unresolved-search").message):this.trigger("search:error",_("No search query provided.").t())}},_setRefreshSearch:function(refreshType){if(this.has("refresh")&&this.get("refreshType")===refreshType){var refreshValue=this.get("refresh"),timeoutDelay=moment().applyRelative(refreshValue,{treatPlainNumberAs:"second",snapAhead:!0}).diff();timeoutDelay<=0?console.warn("Warning: Invalid refresh value",refreshValue):(clearTimeout(this._refreshSearchTimout),this._refreshSearchTimout=setTimeout(this.startSearch.bind(this,{refresh:!0}),timeoutDelay))}},isRefresh:function(){return!!this._refresh},_createOptionsForSearchJob:function(){var options=this.settings.pick(ALLOWED_ATTRIBUTES);return null==options.earliest_time&&null==options.latest_time&&this.settings.get("defaultsToGlobalTimerange")&&(options.earliest_time=this.settings.get("global_earliest_time"),options.latest_time=this.settings.get("global_latest_time")),options.search&&(options["webframework.cache.hash"]="java5:"+SearchManager._createJava5HashForString(options.search).toString(16),this.settings.get("replaceTabsInSearch")&&(options.search=options.search.replace(/\t/g," "))),options},pause:function(){this._job&&this._job.pause()},unpause:function(){return this._job&&this._job.unpause(),this},finalize:function(){return this._job&&this._job.finalize(),this},cancel:function(){var msg=this.isRefresh()?"refresh":"cancelled";if(clearTimeout(this._refreshSearchTimout),!this.get("cache")){var sid=this.getSid();return sid&&(JobTracker.untrack(sid,this),this._stopKeepAlive(),this._job.cancel(),this._job=null,this.trigger("search:"+msg)),this}},createManager:function(job){var that=this,check=_.bind(this._checkJob,this),cacheEnabled=this.get("cache");this._stopKeepAlive(),this._job=job;var mockSdkJob=this._sdkJobFromCoreJob(job);Object.defineProperty(this,"job",{get:function(){return console.warn("SearchManager#job has been deprecated and will be removed in a future release."),mockSdkJob},configurable:!0}),this._startKeepAlive();var jobData=this.getJobResponse().entry[0];this._setDataAttributes(jobData),this._setRefreshSearch("interval"),this.trigger("search:start",jobData,mockSdkJob),JobTracker.track(job,{progress:function(job){if(check(job,cacheEnabled)){var tokenDependencies=that.settings.get("tokenDependencies",{tokens:!0});if(!TokenUtils.tokenDependenciesMet(tokenDependencies,that.registry))return that.trigger("search:error",Messages.resolve("unresolved-tokens").message),void job.cancel();var jobData=that.getJobResponse().entry[0];mockSdkJob._load(jobData),that.trigger("search:progress",jobData,mockSdkJob),that.unset("data",{silent:!0}),that._setDataAttributes(jobData)}},done:function(job){if(check(job,cacheEnabled)){that._setRefreshSearch("delay");var jobData=that.getJobResponse().entry[0];mockSdkJob._load(jobData),that.trigger("search:done",jobData,mockSdkJob)}},failed:function(job){if(check(job,cacheEnabled)){var jobData=that.getJobResponse().entry[0];mockSdkJob._load(jobData),that.trigger("search:fail",jobData,mockSdkJob)}}},this)},_checkJob:function(job,cache){return this._job===job||(cache||job.cancel(),!1)},_setDataAttributes:function(jobEntry,options){return this.set({data:jobEntry.content,published:jobEntry.published},options)},getJobResponse:function(){return this._job&&this._job.toSplunkD()},hasJob:function(){return!!this._job},getSid:function(){return this._job&&this._job.id},createSearch:function(options){options=options||this._createOptionsForSearchJob();var that=this,cache=this.get("cache"),job=new JobModel,req=this._inflightCreateXHR=job.save({},{data:options,success:function(){req===that._inflightCreateXHR?(that._inflightCreateXHR=null,that.createManager(job)):cache||job.cancel()},error:function(job,response){if("abort"!==response.status){var err=splunkDUtils.convertToSDKResponse(response),sdkJob=that._sdkJobFromCoreJob(job);that.trigger("search:error",_("Could not create search.").t(),err,sdkJob)}}})},replayLastSearchEvent:function(listener){var replayed=!1;if(this._lastSearchEvent){var evtName=this._lastSearchEvent[0],listenerObj=_(this._events[evtName]).find(function(attachedListener){return attachedListener.ctx===listener});if(listenerObj){var args=this._lastSearchEvent[1];listenerObj.callback.apply(listener,args),replayed=!0}}return replayed},getLastSearchEvent:function(){return this._lastSearchEvent},dispose:function(){var tokenDependencies=this.settings.get("tokenDependencies",{tokens:!0});TokenUtils.stopListeningToTokenDependencyChange(tokenDependencies,this.registry),this.cancel(),_.isFunction(this.settings.dispose)&&this.settings.dispose(),BaseManager.prototype.dispose.apply(this,arguments)},_sdkJobFromCoreJob:function(coreJob){var mockSdkJob=new MockSdkJob(mvc.createService({app:this.get("app"),owner:this.get("owner")}),coreJob.entry.content.get("sid")),data=coreJob.toSplunkD().entry;return mockSdkJob._load(data),mockSdkJob}});function MockSdkJob(sdkService,sid){this._sdkJob=new sdk.Service.Job(sdkService,sid),_.forEach(this._sdkJob,function(prop,propName){Object.defineProperty(this,propName,{get:function(){return"_load"!==propName&&console.warn("Job instance from SearchMangers has been deprecated and will be removed in a future release"),prop}})}.bind(this))}return SearchManager._createJava5HashForString=function(s){for(var h=0,i=0,n=s.length;i<n;i++)h=(31*h|0)+s.charCodeAt(i)|0;return h},SearchManager}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"splunkjs/mvc/searchmodel":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){__webpack_require__("require/underscore");var TokenAwareModel=__webpack_require__("splunkjs/mvc/tokenawaremodel"),TokenSafeString=__webpack_require__("splunkjs/mvc/tokensafestring"),splunkUtils=__webpack_require__("shim/splunk.util"),SearchSettingsModel=TokenAwareModel.extend({set:function(key,val,options){var attrs;return null==key?this:("object"==typeof key?(attrs=key,options=val):(attrs={})[key]=val,options&&options.qualified&&attrs.search&&(attrs.search instanceof TokenSafeString?attrs.search=new TokenSafeString(splunkUtils.stripLeadingSearchCommand(attrs.search.value)):attrs.search=splunkUtils.stripLeadingSearchCommand(attrs.search)),TokenAwareModel.prototype.set.call(this,attrs,options))},get:function(attribute,options){var result=TokenAwareModel.prototype.get.apply(this,arguments);return"search"===attribute&&options&&options.qualified&&result&&(result=splunkUtils.addLeadingSearchCommand(result)),result},resolve:function(options){return this.get("search",options)}});return SearchSettingsModel.ALLOWED_ATTRIBUTES=["adhoc_search_level","app","auto_cancel","auto_finalize_ec","auto_pause","buckets","earliest_time","enable_lookups","exec_mode","force_bundle_replication","indexedRealtime","indexedRealtimeOffset","latest_time","label","lookups","max_count","max_time","namespace","now","owner","preview","reduce_freq","reload_macros","remote_server_list","required_field_list","rf","rt_backfill","rt_blocking","rt_indexfilter","rt_maxblocksecs","rt_queue_size","search","search_listener","search_mode","spawn_process","status_buckets","sync_bundle_replication","time_format","timeout","ttl","sample_ratio","provenance","postprocess_searches"],{SearchSettingsModel:SearchSettingsModel,SearchJob:SearchSettingsModel,SearchQuery:SearchSettingsModel}}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"splunkjs/mvc/splunkresultsmodel":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var _=__webpack_require__("require/underscore"),Backbone=__webpack_require__("require/backbone"),urlUtil=__webpack_require__("util/url"),splunkDUtils=__webpack_require__("util/splunkd_utils"),defaultCondition=function(manager){var content=manager.get("data")||{},previewCount=content.resultPreviewCount||0,isRealTimeSearch=content.isRealTimeSearch;return!(0!==previewCount||!isRealTimeSearch)||0<previewCount};return Backbone.Model.extend({defaults:{manager:null,condition:defaultCondition,source:"",autofetch:!0,serialfetch:!0,output_mode:"json_rows"},initialize:function(){this.on("change:autofetch",this.handleAutofetch,this),this.handleAutofetch(),this.get("autofetch")&&this._fetch()},handleAutofetch:function(){this.get("autofetch")?(this.on("change",this._fetch,this),this.get("manager").on("change:data",this._fetch,this)):(this.off("change",null,this),this.get("manager").off("change:data",null,this))},sync:function(){return!1},destroy:function(){this.off(),this.get("manager").off(null,null,this)},_fetch:function(){this.fetch({autofetch:!0})},fetch:function(options){var isAutofetch=!!(options=options||{}).autofetch,_success=options.success,_error=options.error;options=_.omit(options,["error","success","autofetch"]);var error=function(options,err){return _error&&_error(this,err,options),this},manager=this.get("manager");if(!manager)return error(options,_("No manager").t());var jobData=manager.getJobResponse();if(!jobData)return error(options,_("No job").t());var links=jobData.entry[0].links,condition=this.get("condition")||defaultCondition;if(!isAutofetch||condition(manager)){var fetchOptions=this._requestOptions(options),url=this._getUrl(links,fetchOptions.source,fetchOptions);if(this._isFetching&&this.get("serialfetch"))return this._pendingFetchOptions=fetchOptions,this._pendingFetchOptions.success=_success,void(this._pendingFetchOptions.error=_error);this._isFetching=!0;var model=this;delete fetchOptions.source,Backbone.ajax({url:url,error:function(response){model._pendingFetchOptions=null,model._isFetching=!1;var err=splunkDUtils.convertToSDKResponse(response);error(options,err);var message=null;err.data&&err.data.messages&&err.data.messages.length&&(message=err.data.messages[0]);var text=message?message.text:"An error occurred while fetching data.";model.trigger("error",text,err)},success:function(data,status,res){var pendingFetchOptions=model._pendingFetchOptions;if(model._pendingFetchOptions=null,model._isFetching=!1,model._data=data,_success&&_success(this,data,options),model.trigger("data",model,data),pendingFetchOptions&&!model._isFetching){var manager=model.get("manager");manager&&manager.hasJob()&&model.fetch(pendingFetchOptions)}}})}else{var content=manager.get("data")||{};(content.isDone||content.isFailed||content.isFinalized)&&this.trigger("nodata",this)}},_requestOptions:function(options){var requestOptions=this.toJSON();return requestOptions=_.omit(requestOptions,["data","manager","autofetch","serialfetch","condition"]),_.extend(requestOptions,options)},_getUrl:function(links,source,params){var endpoint="preview"===source?links.results_preview:links[source];if(!endpoint)throw new Error("Cannot get a results model, this manager does not support thespecified source: "+source);var encodedParams=urlUtil.encode(_.omit(params,"source"));return splunkDUtils.fullpath(endpoint)+"?"+encodedParams},data:function(){return this._data},model:function(){var model=new Backbone.Model(this.data());return model.raw=this.data(),model},collection:function(){var i,j,data=this.data();if(!data)return new Backbone.Collection;var fields=data.fields||[],items=[];if(data.results)items=data.results;else if(data.columns){var columns=data.columns||[];for(i=0;i<columns.length;i++)items.push({field:fields[i],values:columns[i]})}else if(data.rows){var rows=data.rows||[];for(i=0;i<rows.length;i++){var row=rows[i],item={};for(j=0;j<fields.length;j++)item[fields[j]]=row[j];items.push(item)}}var collection=new Backbone.Collection(items);return collection.raw=data,collection},hasData:function(){return!!this.data()&&((!_.isArray(this._data)||1!==this._data.length||0!==this._data[0].count)&&((!this._data.results||0!==this._data.results.length)&&(!this._data.fields||0!==this._data.fields.length)))}},{defaultCondition:defaultCondition,identityCondition:function(){return!0}})}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"splunkjs/mvc/tokenawaremodel":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var _=__webpack_require__("require/underscore"),mvc=__webpack_require__("splunkjs/mvc"),TokenEscapeString=__webpack_require__("splunkjs/mvc/tokenescapestring"),TokenSafeString=__webpack_require__("splunkjs/mvc/tokensafestring"),TokenUtils=(__webpack_require__("util/console"),__webpack_require__("splunkjs/mvc/tokenutils")),BaseModel=__webpack_require__("models/Base"),TokenAwareModel=BaseModel.extend({applyTokensByDefault:!1,retrieveTokensByDefault:!1,constructor:function(attributes,options){attributes=attributes||{},options=options||{},this._tokenNamespace=options.tokenNamespace||void 0,this._retainUnmatchedTokens=options.retainUnmatchedTokens,this._tokenEscaper=options.tokenEscaper||void 0,this._allowNoEscape=options.allowNoEscape,this._tokenRegistry=options._tokenRegistry||mvc.Components,this._applyTokensByDefault=options.hasOwnProperty("applyTokensByDefault")?options.applyTokensByDefault:this.applyTokensByDefault,this._retrieveTokensByDefault=options.hasOwnProperty("retrieveTokensByDefault")?options.retrieveTokensByDefault:this.retrieveTokensByDefault,BaseModel.prototype.constructor.call(this,{}),this._templates=new BaseModel({}),this._bindings={},this._pushed_properties=[],this.listenTo(this._templates,"change",function(model,options){this._updateBindingsForProperties(model.changed,options)}),this.set(attributes,options)},_updateBindingsForProperties:function(properties,options){var that=this;_.each(properties,function(propTemplate,propName){var newBinding;if(void 0===propTemplate)newBinding=void 0;else{var tokens=TokenUtils.getTokens(propTemplate,{tokenNamespace:that._tokenNamespace}),items=[];_.each(tokens,function(token){items.push({namespace:token.namespace,name:token.name}),_.each(token.filters,function(filter){items.push({namespace:TokenUtils._FILTER_NAMESPACE,name:filter.name})})}),newBinding={observes:items,template:propTemplate,computeValue:function(_retainUnmatchedTokens){if(TokenUtils.isToken(propTemplate)){var token=tokens[0],tokenValue=that._tokenRegistry.getInstance(token.namespace,{create:!0}).get(token.name);if(!_.isString(tokenValue)&&void 0!==tokenValue)return tokenValue}return _.all(tokens,function(token){var tokenValue=that._tokenRegistry.getInstance(token.namespace,{create:!0}).get(token.name),filtersSatisfied=_.all(token.filters,function(filter){return void 0!==TokenUtils.getFilter(filter.name,that._tokenRegistry)});return void 0!==tokenValue&&filtersSatisfied})||that._retainUnmatchedTokens||_retainUnmatchedTokens?TokenUtils.replaceTokens(propTemplate,that._tokenRegistry,{tokenNamespace:that._tokenNamespace,escaper:that._tokenEscaper,allowNoEscape:that._allowNoEscape}):void 0}}}that._setBinding(propName,newBinding,options)})},_setBinding:function(propName,newBinding,options){var that=this;this._disposeBindingListeners(this._bindings[propName]),void 0!==(this._bindings[propName]=newBinding)&&(newBinding._listeners=[],_.each(newBinding.observes,function(observedItem){var observedContext=that._tokenRegistry.getInstance(observedItem.namespace,{create:!0}),observedPropName=observedItem.name,listener=function(){that._pullPropertyValue(propName)};that.listenTo(observedContext,"change:"+observedPropName,listener),listener.dispose=function(){that.stopListening(observedContext,"change:"+observedPropName,listener)},newBinding._listeners.push(listener)}),this._isPushEnabled(propName)&&this._configureBindingForPush(propName),this._isPushEnabled(propName)&&void 0!==this.get(propName)?this._pushPropertyValue(propName,options):this._pullPropertyValue(propName,options))},_pullPropertyValue:function(propName,options){var propValue=this._bindings[propName].computeValue();(options=options||{}).hasOwnProperty("_silent")&&(options.silent=options._silent,delete options._silent),BaseModel.prototype.set.call(this,propName,propValue,options)},enablePush:function(propName){this._isPushEnabled(propName)||(this._pushed_properties.push(propName),void 0!==this._bindings[propName]&&this._configureBindingForPush(propName))},_isPushEnabled:function(propName){return _.contains(this._pushed_properties,propName)},_configureBindingForPush:function(propName){var binding=this._bindings[propName];if(TokenUtils.isToken(binding.template)){var that=this,listener=function(model,newValue,options){that._pushPropertyValue(propName)};this.listenTo(this,"change:"+propName,listener),listener.dispose=function(){that.stopListening(that,"change:"+propName,listener)},binding._listeners.push(listener)}},_pushPropertyValue:function(propName,options){var binding=this._bindings[propName],newValue=this.get(propName),observedItem=binding.observes[0],observedContext=this._tokenRegistry.getInstance(observedItem.namespace,{create:!0}),observedPropName=observedItem.name;(options=options||{}).hasOwnProperty("_silent")&&(options.silent=options._silent,delete options._silent),observedContext.set(observedPropName,newValue,options)},set:function(key,val,options){var attrs,that=this;"object"==typeof key?(attrs=key,options=val):(attrs={})[key]=val,(options=options||{}).hasOwnProperty("tokens")||(options.tokens=this._applyTokensByDefault);var bulkTemplateSets={},bulkTemplateUnsets=[],bulkSelfSets={},queueTemplateSet=function(propName,propTemplate){bulkTemplateSets[propName]=propTemplate},queueLiteralSet=function(propName,propValue){that._isPushEnabled(propName)||bulkTemplateUnsets.push(propName),bulkSelfSets[propName]=propValue};_.each(attrs,function(propValue,propName){propValue instanceof TokenSafeString?queueTemplateSet(propName,propValue.value):propValue instanceof TokenEscapeString?queueLiteralSet(propName,propValue.value):_.isString(propValue)&&options.tokens?queueTemplateSet(propName,propValue):queueLiteralSet(propName,propValue)});var optionsForTemplates=_.clone(options);options.hasOwnProperty("silent")&&(optionsForTemplates._silent=options.silent,delete optionsForTemplates.silent),_.isEmpty(bulkTemplateSets)||this._templates.set(bulkTemplateSets,optionsForTemplates),_.isEmpty(bulkTemplateUnsets)||_.each(bulkTemplateUnsets,function(propName){that._templates&&that._templates.has(propName)&&that._templates.unset(propName,optionsForTemplates)}),_.isEmpty(bulkSelfSets)||BaseModel.prototype.set.call(this,bulkSelfSets,options)},get:function(key,options){if(options||(options={}),options.hasOwnProperty("tokens")||(options.tokens=this._retrieveTokensByDefault),options.tokens)return this._templates.has(key)?this._templates.get(key):TokenUtils.quoteAsTokenString(BaseModel.prototype.get.call(this,key));var v=BaseModel.prototype.get.call(this,key);return null==v&&options.retainUnmatchedTokens&&this._templates.has(key)&&(v=TokenUtils.replaceTokens(this._templates.get(key),this._tokenRegistry,{tokenNamespace:this._tokenNamespace,escaper:this._tokenEscaper,allowNoEscape:this._allowNoEscape})),v},extractWithPrefix:function(prefix){var that=this,extractedProperties={};return _.each(_.keys(this.attributes),function(propNameOnThis){if(0===propNameOnThis.indexOf(prefix)){var propValue,propName=propNameOnThis.substring(prefix.length),templateValue=that.get(propNameOnThis,{tokens:!0});propValue=void 0!==templateValue?mvc.tokenSafe(templateValue):that.get(propNameOnThis),extractedProperties[propName]=propValue}}),extractedProperties},toJSON:function(options){if(options||(options={}),options.hasOwnProperty("tokens")||(options.tokens=this._retrieveTokensByDefault),options.tokens){var that=this,result={};return _.each(this.attributes,function(value,key){result[key]=that.get(key,{tokens:!0})}),result=_.extend(result,this._templates.toJSON())}return BaseModel.prototype.toJSON.apply(this,arguments)},dispose:function(){this._templates.deepOff(),_.each(this._bindings,this._disposeBindingListeners),this._bindings={},this.deepOff()},_disposeBindingListeners:function(binding){binding&&(_.each(binding._listeners,function(listener){listener.dispose()}),binding._listeners=[])}});return TokenAwareModel._createReportModel=function(attributes,options){return options=options||{},new TokenAwareModel(attributes||{},_.extend({applyTokensByDefault:!0,retainUnmatchedTokens:!0},options))},TokenAwareModel}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"splunkjs/mvc/tokenescapestring":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){return function(value){this.value=value}}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"splunkjs/mvc/tokensafestring":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){return function(value){this.value=value}}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"splunkjs/mvc/tokenutils":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var _=__webpack_require__("require/underscore"),Registry=__webpack_require__("splunkjs/mvc/registry"),VALUE_ESCAPERS={search:function(v){return JSON.stringify(String(v))},url:function(v){return encodeURIComponent(String(v))},html:function(v){return _.escape(String(v))},noEscape:function(v){return v}};_.extend(VALUE_ESCAPERS,{h:VALUE_ESCAPERS.html,u:VALUE_ESCAPERS.url,s:VALUE_ESCAPERS.search,n:VALUE_ESCAPERS.noEscape});var TOKEN_OR_DOLLAR_RE=new RegExp(/\$/.source+/(\w+:)?/.source+/([^$|:]+?)(\|[|\w]+)?/.source+/\$/.source+"|"+/\$\$/.source,"g"),OLD_STYLE_FILTER_CHAIN_RE=/^[suh]{1,3}$/,r=function(regexp){var flags="";return regexp.global&&(flags+="g"),regexp.multiline&&(flags+="m"),regexp.ignoreCase&&(flags+="i"),new RegExp(regexp.source,flags)},TokenUtils={_FILTER_NAMESPACE:"__filters",getTokens:function(searchTemplate,options){for(var defaultTokenNamespace=(options=options||{}).tokenNamespace||"default",tokens=[],rex=r(TOKEN_OR_DOLLAR_RE);;){var match=rex.exec(searchTemplate);if(options._isToken)return match&&0===match.index&&match[0].length===searchTemplate.length&&2<match[0].length;if(!match)break;var tokenNamespace=match[1],tokenName=match[2],filterChain=match[3];if(tokenNamespace||tokenName){var filters;if(tokenNamespace=tokenNamespace?tokenNamespace.substring(0,tokenNamespace.length-1):defaultTokenNamespace,filterChain){var filterNames=TokenUtils._parseFilterChain(filterChain);filters=_.map(filterNames,function(filterName){return{name:filterName}})}else filters=[];tokens.push({namespace:tokenNamespace,name:tokenName,filters:filters})}}return tokens},getTokenNames:function(searchTemplate){var tokens=TokenUtils.getTokens(searchTemplate),tokenNames=[];return _.each(tokens,function(token){"default"===token.namespace&&tokenNames.push(token.name)}),tokenNames},replaceTokens:function(str,tokenRegistry,optionsOrEscaper){var options,extraFilterFunc=(options=_.isFunction(optionsOrEscaper)?{escaper:optionsOrEscaper}:optionsOrEscaper||{}).escaper,defaultTokenNamespace=options.tokenNamespace||"default";return str.replace(r(TOKEN_OR_DOLLAR_RE),function(match,tokenNamespace,tokenName,filterChain){if(!tokenNamespace&&!tokenName)return"$";tokenNamespace=tokenNamespace?tokenNamespace.substring(0,tokenNamespace.length-1):defaultTokenNamespace;var tokenModel=tokenRegistry.get(tokenNamespace);if(void 0===tokenModel)return match;var v=tokenModel.get(tokenName);if(void 0===v)return match;if(filterChain){var filterNames=TokenUtils._parseFilterChain(filterChain,extraFilterFunc,tokenRegistry),filterFuncs=_.map(filterNames,function(filterName){return TokenUtils.getFilter(filterName,tokenRegistry)});if(_.compact(filterFuncs).length!==filterFuncs.length)return match;_.each(filterFuncs,function(filterFunc){filterFunc&&(v=filterFunc(v),filterFunc===VALUE_ESCAPERS.noEscape&&!1!==options.allowNoEscape&&(extraFilterFunc=null))})}return _.isFunction(extraFilterFunc)&&(v=extraFilterFunc(v)),v})},_parseFilterChain:function(filterChain,suppressedOldFilterFunc,registry){var filterNames=filterChain.substring(1).split("|");return 1===filterNames.length&&OLD_STYLE_FILTER_CHAIN_RE.test(filterNames[0])&&(filterNames=filterNames[0].split(""),suppressedOldFilterFunc&&(filterNames=_.filter(filterNames,function(filterName){return TokenUtils.getFilter(filterName,registry)!==suppressedOldFilterFunc}))),filterNames},replaceTokenNames:function(str,valuesByTokenName,escaper,tokenFilters){var tokenRegistry=new Registry;return tokenRegistry.getInstance("default",{create:!0}).set(valuesByTokenName),tokenFilters&&_(tokenFilters).each(function(filter,name){TokenUtils.setFilter(name,filter,tokenRegistry)}),TokenUtils.replaceTokens(str,tokenRegistry,escaper)},hasToken:function(str){return 0<TokenUtils.getTokens(str).length},hasTokenName:function(str){return _.some(TokenUtils.getTokens(str),function(token){return"default"===token.namespace})},isToken:function(p){return TokenUtils.getTokens(p,{_isToken:!0})},isTokenName:function(p){return TokenUtils.isToken(p)&&"default"===TokenUtils.getTokens(p)[0].namespace},getTokenName:function(tokenStr){return TokenUtils.isTokenName(tokenStr)&&TokenUtils.getTokenNames(tokenStr)[0]},quoteAsTokenString:function(literalStr){return _.isString(literalStr)?literalStr.replace(/\$/g,function(match){return"$$"}):literalStr},setFilter:function(filterName,filterFunc,registry){if(TokenUtils.getEscaper(filterName)||OLD_STYLE_FILTER_CHAIN_RE.test(filterName))throw new Error('Cannot register new filter with reserved name "'+filterName+'".');registry.getInstance(TokenUtils._FILTER_NAMESPACE,{create:!0}).set(filterName,filterFunc)},getFilter:function(filterName,registry){var builtinFilterFunc=TokenUtils.getEscaper(filterName);return builtinFilterFunc||registry.getInstance(TokenUtils._FILTER_NAMESPACE,{create:!0}).get(filterName)},getFilters:function(registry){return registry.getInstance(TokenUtils._FILTER_NAMESPACE,{create:!0}).toJSON()},getEscaper:function(esc){return VALUE_ESCAPERS[esc]},isTokenDefined:function(registry,token){return registry.getInstance(token.namespace).has(token.name)},listenToTokenDependencyChange:function(tokenDependencies,registry,callback,context){if(tokenDependencies){var tokens=TokenUtils.getTokenDeps(tokenDependencies,"submitted");_(tokens.all).each(function(token){var namespace=registry.get(token.namespace),eventname="change:"+token.name,wrappedCb=_.wrap(callback,function(fn,model,currTokenValue){var prevTokenValue=!!model.previous(token.name);(!(currTokenValue=!!currTokenValue)||!prevTokenValue&&currTokenValue)&&fn.call(context)});namespace.on(eventname,wrappedCb)},context)}},stopListeningToTokenDependencyChange:function(tokenDependencies,registry){if(tokenDependencies){var tokens=TokenUtils.getTokenDeps(tokenDependencies,"submitted");_(tokens.all).each(function(token){var namespace=registry.get(token.namespace),eventname="change:"+token.name;namespace.off(eventname)})}},getTokenDeps:function(tokenDependencies,namespace){var tokens={};if(namespace=namespace||"submitted",tokenDependencies){var required=tokenDependencies.depends?TokenUtils.getTokens(tokenDependencies.depends,{tokenNamespace:namespace}):[],rejected=tokenDependencies.rejects?TokenUtils.getTokens(tokenDependencies.rejects,{tokenNamespace:namespace}):[],all=required.concat(rejected);tokens={required:required,rejected:rejected,all:all}}return tokens},tokenDependenciesMet:function(tokenDependencies,registry){var isTokenDefined=_.partial(TokenUtils.isTokenDefined,registry),tokens=TokenUtils.getTokenDeps(tokenDependencies,"submitted");return _(tokens.required).all(isTokenDefined)&&!_(tokens.rejected).any(isTokenDefined)}};return TokenUtils}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"splunkjs/mvc/utils":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){__webpack_require__("shim/jquery");var _=__webpack_require__("require/underscore"),console=__webpack_require__("util/console"),splunkConfig=__webpack_require__("stubs/splunk.config"),TokenUtils=__webpack_require__("splunkjs/mvc/tokenutils"),HTMLUtils=__webpack_require__("util/htmlcleaner"),ModelSyncer=function(options){options=options||{},this.source=options.source,this.prefix=options.prefix||"",this.dest=options.dest,this.destSetter=options.save||options.saveDest?"save":"set",this.sourceSetter=options.save||options.saveSource?"save":"set",this.debug=options.debug,this.aliasMap=options.alias||{},this.tokens=void 0===options.tokens||options.tokens,this.include(options.include),this.exclude(options.exclude),!0===options.auto?(this.auto("push"),this.auto("pull")):_.isString(options.auto)&&this.auto(options.auto)};_.extend(ModelSyncer.prototype,{include:function(attributes){return this.includes=_.isArray(attributes)?_.object(attributes,_.map(attributes,function(){return!0})):attributes,this},exclude:function(attributes){return this.excludes=_.isArray(attributes)?_.object(attributes,_.map(attributes,function(){return!0})):attributes,this},auto:function(what){return"push"===what?(this.source.on("change",this.push,this),this.push()):"pull"==what&&(this.dest.on("change",this.pull,this),this.pull()),this},push:function(m,o){var opts={tokens:this.tokens},attrs=o&&o.unset?m.changed:this.source.toJSON(opts),newAttrs={},alias=this.aliasMap||{},includes=this.includes,excludes=this.excludes||{},p=this.prefix,d=this.dest;_(attrs).each(function(v,k){if((void 0===includes||includes[k])&&!excludes[k]){var a=alias[k],n=void 0!==a?a:p+k;d.get(n,opts)!==v&&(newAttrs[n]=v)}}),_(newAttrs).isEmpty()||(this.debug&&console.log("PUSH",newAttrs,_.isObject(o)?_.pick(o,["unset"]):void 0),this.dest[this.destSetter](newAttrs,_.extend(opts,_.isObject(o)?_.pick(o,["unset"]):void 0)))},pull:function(m,o){var opts={tokens:this.tokens},attrs=o&&o.unset?m.changed:this.dest.toJSON(opts),newAttrs={},inverseAlias=_.invert(this.aliasMap||{}),includes=this.includes,excludes=this.excludes||{},p=this.prefix,s=this.source;_(attrs).each(function(v,k){if(inverseAlias[k])newAttrs[inverseAlias[k]]=v;else if(k.substring(0,p.length)==p){var n=k.substring(p.length);void 0!==includes&&!includes[n]||excludes[n]||s.get(n,opts)!==v&&(newAttrs[n]=v)}}),_(newAttrs).isEmpty()||(this.debug&&console.log("PULL",newAttrs,_.isObject(o)?_.pick(o,["unset"]):void 0),this.source[this.sourceSetter](newAttrs,_.extend(opts,_.isObject(o)?_.pick(o,["unset"]):void 0)))},destroy:function(){this.source.off(null,null,this),this.dest.off(null,null,this)}});var utils={getPageInfo:function(){return splunkConfig.INDEPENDENT_MODE?{root:void 0,locale:splunkConfig.LOCALE,app:splunkConfig.APP,page:void 0}:utils._getUrlInfo(window.location.pathname)},_getUrlInfo:_.memoize(function(url){var locale,root,appPath,urlParts=url.substring(1).split("/"),appIndex=_.indexOf(urlParts,"app",1),managerIndex=_.indexOf(urlParts,"manager",1);return appPath=1<appIndex?(root=_.first(urlParts,appIndex-1).join("/"),locale=urlParts[appIndex-1],_.rest(urlParts,appIndex+1)):1<managerIndex?(root=_.first(urlParts,managerIndex-1).join("/"),locale=urlParts[managerIndex-1],_.rest(urlParts,managerIndex+1)):(locale=urlParts[0],_.rest(urlParts,2)),{root:root,locale:locale,app:appPath[0],page:appPath[1]}}),getCurrentApp:function(){return utils.getPageInfo().app},replaceTokens:function(str,values,escaper){return TokenUtils.replaceTokenNames(str,values,escaper)},getTokenName:function(tokenStr){return TokenUtils.getTokenName(tokenStr)},discoverReplacementTokens:function(searchTemplate){return TokenUtils.getTokenNames(searchTemplate)},isToken:function(p){return TokenUtils.isTokenName(p)},hasToken:function(str){return TokenUtils.hasTokenName(str)},quoteAsTokenString:function(literalStr){return TokenUtils.quoteAsTokenString(literalStr)},syncModels:function(src,dest,o){var options=o;return 1==arguments.length?options=src:(options=options||{},_.extend(options,{source:src,dest:dest})),new ModelSyncer(options)},redirect:function(url,newWindow,target){HTMLUtils.isBadUrl(url)?console.log("Invalid URL format: "+url):newWindow?window.open(url,"_blank"):target?window.open(url,target):window.location=url}};return utils}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"splunkjs/splunk":function(module,exports,__webpack_require__){(function(process,Buffer){var queue,canPost,require;(require=function(file,cwd){var resolved=require.resolve(file,cwd||"/"),mod=require.modules[resolved];if(!mod)throw new Error("Failed to resolve module "+file+", tried "+resolved);return mod._cached?mod._cached:mod()}).paths=[],require.modules={},require.extensions=[".js",".coffee"],require._core={assert:!0,events:!0,fs:!0,path:!0,vm:!0},require.resolve=function(x,cwd){if(cwd||(cwd="/"),require._core[x])return x;var path=require.modules.path(),y=(cwd=path.resolve("/",cwd))||"/";if(x.match(/^(?:\.\.?\/|\/)/)){var m=loadAsFileSync(path.resolve(y,x))||loadAsDirectorySync(path.resolve(y,x));if(m)return m}var n=function(x,start){for(var dirs=function(start){var parts;parts="/"===start?[""]:path.normalize(start).split("/");for(var dirs=[],i=parts.length-1;0<=i;i--)if("node_modules"!==parts[i]){var dir=parts.slice(0,i+1).join("/")+"/node_modules";dirs.push(dir)}return dirs}(start),i=0;i<dirs.length;i++){var dir=dirs[i],m=loadAsFileSync(dir+"/"+x);if(m)return m;var n=loadAsDirectorySync(dir+"/"+x);if(n)return n}if(m=loadAsFileSync(x))return m}(x,y);if(n)return n;throw new Error("Cannot find module '"+x+"'");function loadAsFileSync(x){if(require.modules[x])return x;for(var i=0;i<require.extensions.length;i++){var ext=require.extensions[i];if(require.modules[x+ext])return x+ext}}function loadAsDirectorySync(x){var pkgfile=(x=x.replace(/\/+$/,""))+"/package.json";if(require.modules[pkgfile]){var pkg=require.modules[pkgfile](),b=pkg.browserify;if("object"==typeof b&&b.main){if(m=loadAsFileSync(path.resolve(x,b.main)))return m}else if("string"==typeof b){if(m=loadAsFileSync(path.resolve(x,b)))return m}else if(pkg.main){var m;if(m=loadAsFileSync(path.resolve(x,pkg.main)))return m}}return loadAsFileSync(x+"/index")}},require.alias=function(from,to){var path=require.modules.path(),res=null;try{res=require.resolve(from+"/package.json","/")}catch(err){res=require.resolve(from,"/")}for(var basedir=path.dirname(res),keys=(Object.keys||function(obj){var res=[];for(var key in obj)res.push(key);return res})(require.modules),i=0;i<keys.length;i++){var key=keys[i];if(key.slice(0,basedir.length+1)===basedir+"/"){var f=key.slice(basedir.length);require.modules[to+f]=require.modules[basedir+f]}else key===basedir&&(require.modules[to]=require.modules[basedir])}},require.define=function(filename,fn){var dirname=require._core[filename]?"":require.modules.path().dirname(filename),require_=function(file){return require(file,dirname)};require_.resolve=function(name){return require.resolve(name,dirname)},require_.modules=require.modules,require_.define=require.define;var module_={exports:{}};require.modules[filename]=function(){return require.modules[filename]._cached=module_.exports,fn.call(module_.exports,require_,module_,module_.exports,dirname,filename),require.modules[filename]._cached=module_.exports,module_.exports}},void 0===process&&(process={}),process.nextTick||(process.nextTick=(queue=[],(canPost="undefined"!=typeof window&&window.postMessage&&window.addEventListener)&&window.addEventListener("message",function(ev){ev.source===window&&"browserify-tick"===ev.data&&(ev.stopPropagation(),0<queue.length&&queue.shift()())},!0),function(fn){canPost?(queue.push(fn),window.postMessage("browserify-tick","*")):setTimeout(fn,0)})),process.title||(process.title="browser"),process.binding||(process.binding=function(name){if("evals"===name)return require("vm");throw new Error("No such module")}),process.cwd||(process.cwd=function(){return"."}),require.define("path",function(require,module,exports,__dirname,__filename){function filter(xs,fn){for(var res=[],i=0;i<xs.length;i++)fn(xs[i],i,xs)&&res.push(xs[i]);return res}function normalizeArray(parts,allowAboveRoot){for(var up=0,i=parts.length;0<=i;i--){var last=parts[i];"."==last?parts.splice(i,1):".."===last?(parts.splice(i,1),up++):up&&(parts.splice(i,1),up--)}if(allowAboveRoot)for(;up--;up)parts.unshift("..");return parts}var splitPathRe=/^(.+\/(?!$)|\/)?((?:.+?)?(\.[^.]*)?)$/;exports.resolve=function(){for(var resolvedPath="",resolvedAbsolute=!1,i=arguments.length;-1<=i&&!resolvedAbsolute;i--){var path=0<=i?arguments[i]:process.cwd();"string"==typeof path&&path&&(resolvedPath=path+"/"+resolvedPath,resolvedAbsolute="/"===path.charAt(0))}return(resolvedAbsolute?"/":"")+(resolvedPath=normalizeArray(filter(resolvedPath.split("/"),function(p){return!!p}),!resolvedAbsolute).join("/"))||"."},exports.normalize=function(path){var isAbsolute="/"===path.charAt(0),trailingSlash="/"===path.slice(-1);return(path=normalizeArray(filter(path.split("/"),function(p){return!!p}),!isAbsolute).join("/"))||isAbsolute||(path="."),path&&trailingSlash&&(path+="/"),(isAbsolute?"/":"")+path},exports.join=function(){var paths=Array.prototype.slice.call(arguments,0);return exports.normalize(filter(paths,function(p,index){return p&&"string"==typeof p}).join("/"))},exports.dirname=function(path){var dir=splitPathRe.exec(path)[1]||"";return dir?1===dir.length?dir:dir.substring(0,dir.length-1):"."},exports.basename=function(path,ext){var f=splitPathRe.exec(path)[2]||"";return ext&&f.substr(-1*ext.length)===ext&&(f=f.substr(0,f.length-ext.length)),f},exports.extname=function(path){return splitPathRe.exec(path)[3]||""}}),require.define("/package.json",function(require,module,exports,__dirname,__filename){module.exports={main:"index.js"}}),require.define("/index.js",function(require,module,exports,__dirname,__filename){!function(){var root=exports||this;process.env=process.env||{},module.exports=root={Logger:require("./lib/log").Logger,Context:require("./lib/context"),Service:require("./lib/service"),Http:require("./lib/http"),Utils:require("./lib/utils"),Async:require("./lib/async"),Paths:require("./lib/paths").Paths,Class:require("./lib/jquery.class").Class,ModularInputs:require("./lib/modularinputs")},"undefined"==typeof window&&(root.NodeHttp=require("./lib/platform/node/node_http").NodeHttp)}()}),require.define("/lib/log.js",function(require,module,exports,__dirname,__filename){
/*!*/
!function(){"use strict";var _log,_warn,_error,_info,utils=require("./utils"),levels={ALL:4,INFO:3,WARN:2,ERROR:1,NONE:0},setLevel=function(level){utils.isString(level)&&levels.hasOwnProperty(level)?process.env.LOG_LEVEL=levels[level]:!isNaN(parseInt(level,10))&&utils.keyOf(parseInt(level,10),levels)?process.env.LOG_LEVEL=level:process.env.LOG_LEVEL=levels.ERROR};if(process.env.LOG_LEVEL?setLevel(process.env.LOG_LEVEL):process.env.LOG_LEVEL=levels.ERROR,_log=_warn=_error=_info=function(){},"undefined"!=typeof console){var logAs=function(level){return function(str){try{console[level].apply(console,arguments)}catch(ex){console[level](str)}}};console.log&&(_log=logAs("log")),console.error&&(_error=logAs("error")),console.warn&&(_warn=logAs("warn")),console.info&&(_info=logAs("info"))}exports.Logger={log:function(){process.env.LOG_LEVEL>=levels.ALL&&_log.apply(null,arguments)},error:function(){process.env.LOG_LEVEL>=levels.ERROR&&_error.apply(null,arguments)},warn:function(){process.env.LOG_LEVEL>=levels.WARN&&_warn.apply(null,arguments)},info:function(){process.env.LOG_LEVEL>=levels.INFO&&_info.apply(null,arguments)},printMessages:function(allMessages){allMessages=allMessages||[];for(var i=0;i<allMessages.length;i++){var message=allMessages[i],type=message.type,msg="[SPLUNKD] "+message.text;switch(type){case"HTTP":case"FATAL":case"ERROR":this.error(msg);break;case"WARN":this.warn(msg);break;case"INFO":this.info(msg);break;case"HTTP":this.error(msg);break;default:this.info(msg)}}},setLevel:function(level){setLevel.apply(this,arguments)},
/*!*/
levels:levels}}()}),require.define("/lib/utils.js",function(require,module,exports,__dirname,__filename){
/*!*/
!function(){"use strict";var fs=require("fs"),path=require("path"),root=exports||this;root.bind=function(me,fn){return function(){return fn.apply(me,arguments)}},root.trim=function(str){return str=str||"",String.prototype.trim?String.prototype.trim.call(str):str.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},root.indexOf=function(arr,search){for(var i=0;i<arr.length;i++)if(arr[i]===search)return i;return-1},root.contains=function(arr,obj){return arr=arr||[],0<=root.indexOf(arr,obj)},root.startsWith=function(original,prefix){var matches=original.match("^"+prefix);return matches&&0<matches.length&&matches[0]===prefix},root.endsWith=function(original,suffix){var matches=original.match(suffix+"$");return matches&&0<matches.length&&matches[0]===suffix};var toString=Object.prototype.toString;root.toArray=function(iterable){return Array.prototype.slice.call(iterable)},root.isArray=Array.isArray||function(obj){return"[object Array]"===toString.call(obj)},root.isFunction=function(obj){return!!(obj&&obj.constructor&&obj.call&&obj.apply)},root.isNumber=function(obj){return!!(0===obj||obj&&obj.toExponential&&obj.toFixed)},root.isString=function(obj){return!!(""===obj||obj&&obj.charCodeAt&&obj.substr)},root.isObject=function(obj){return obj===Object(obj)},root.isEmpty=function(obj){if(root.isArray(obj)||root.isString(obj))return 0===obj.length;for(var key in obj)if(this.hasOwnProperty.call(obj,key))return!1;return!0},root.forEach=function(obj,iterator,context){if(null!==obj)if(Array.prototype.forEach&&obj.forEach===Array.prototype.forEach)obj.forEach(iterator,context);else if(obj.length===+obj.length){for(var i=0,l=obj.length;i<l;i++)if(i in obj&&iterator.call(context,obj[i],i,obj)==={})return}else for(var key in obj)if(obj.hasOwnProperty(key)&&iterator.call(context,obj[key],key,obj)==={})return},root.extend=function(obj){return root.forEach(Array.prototype.slice.call(arguments,1),function(source){for(var prop in source)obj[prop]=source[prop]}),obj},root.clone=function(obj){return root.isObject(obj)?root.isArray(obj)?obj.slice():root.extend({},obj):obj},root.namespaceFromProperties=function(props){return root.isUndefined(props)||root.isUndefined(props.acl)?{owner:"",app:"",sharing:""}:{owner:props.acl.owner,app:props.acl.app,sharing:props.acl.sharing}},root.keyOf=function(val,obj){for(var k in obj)if(obj.hasOwnProperty(k)&&obj[k]===val)return k},root.getWithVersion=function(version,map){map=map||{};for(var currentVersion=version+""||"";""!==currentVersion;){if(map.hasOwnProperty(currentVersion))return map[currentVersion];currentVersion=currentVersion.slice(0,currentVersion.lastIndexOf("."))}return map.default},root.isUndefined=function(obj){return void 0===obj},root.readFile=function(filename,relativePath){return fs.readFileSync(path.resolve(filename,relativePath)).toString()}}()}),require.define("fs",function(require,module,exports,__dirname,__filename){}),require.define("/lib/context.js",function(require,module,exports,__dirname,__filename){
/*!*/
!function(){"use strict";var Paths=require("./paths").Paths,Class=require("./jquery.class").Class,Http=require("./http"),utils=require("./utils"),root=exports||this,prefixMap={5:"",4.3:"/services/json/v2",default:""};module.exports=root=Class.extend({init:function(http,params){if(http instanceof Http||params||(params=http,http=null),params=params||{},this.scheme=params.scheme||"https",this.host=params.host||"localhost",this.port=params.port||8089,this.username=params.username||null,this.password=params.password||null,this.owner=params.owner,this.app=params.app,this.sessionKey=params.sessionKey||"",this.authorization=params.authorization||"Splunk",this.paths=params.paths||Paths,this.version=params.version||"default",this.timeout=params.timeout||0,this.autologin=!0,params.hasOwnProperty("autologin")&&(this.autologin=params.autologin),!http){if("undefined"!=typeof window)throw new Error("Http instance required when creating a Context within a browser.");http=new(require("./platform/node/node_http").NodeHttp)}this.http=http,this.http._setSplunkVersion(this.version);var versionPrefix=utils.getWithVersion(this.version,prefixMap);this.prefix=this.scheme+"://"+this.host+":"+this.port+versionPrefix,this._headers=utils.bind(this,this._headers),this.fullpath=utils.bind(this,this.fullpath),this.urlify=utils.bind(this,this.urlify),this.get=utils.bind(this,this.get),this.del=utils.bind(this,this.del),this.post=utils.bind(this,this.post),this.login=utils.bind(this,this.login),this._shouldAutoLogin=utils.bind(this,this._shouldAutoLogin),this._requestWrapper=utils.bind(this,this._requestWrapper)},_headers:function(headers){return headers=headers||{},this.sessionKey&&(headers.Authorization=this.authorization+" "+this.sessionKey),headers},
/*!*/
_shouldAutoLogin:function(){return this.username&&this.password&&this.autologin},
/*!*/
_requestWrapper:function(task,callback){callback=callback||function(){};var that=this,req=null;return req=!this._shouldAutoLogin()||this.sessionKey?task(function(err){req.wasAborted||(err&&401===err.status&&that._shouldAutoLogin()?(that.sessionKey=null,that.login(function(err,success){req.wasAborted||(err?callback(err):task(callback))})):callback.apply(null,arguments))}):this.login(function(err,success){req.wasAborted||(err?callback(err):task(callback))})},fullpath:function(path,namespace){if(namespace=namespace||{},utils.startsWith(path,"/"))return path;if(!namespace.app&&!this.app&&namespace.sharing!==root.Sharing.SYSTEM)return"/services/"+path;var owner=namespace.owner||this.owner||"-",app=namespace.app||this.app||"-";return namespace.sharing=(namespace.sharing||"").toLowerCase(),namespace.sharing===root.Sharing.APP||namespace.sharing===root.Sharing.GLOBAL?owner="nobody":namespace.sharing===root.Sharing.SYSTEM&&(owner="nobody",app="system"),utils.trim("/servicesNS/"+encodeURIComponent(owner)+"/"+encodeURIComponent(app)+"/"+path)},urlify:function(path){return this.prefix+this.fullpath(path)},login:function(callback){var that=this,url=this.paths.login,params={username:this.username,password:this.password};return callback=callback||function(){},this.http.post(this.urlify(url),this._headers(),params,this.timeout,function(err,response){var hasSessionKey=!(err||!response.data||!response.data.sessionKey);err||!hasSessionKey?callback(err||"No session key available",!1):(that.sessionKey=response.data.sessionKey,callback(null,!0))})},get:function(path,params,callback){var that=this;return this._requestWrapper(function(callback){return that.http.get(that.urlify(path),that._headers(),params,that.timeout,callback)},callback)},del:function(path,params,callback){var that=this;return this._requestWrapper(function(callback){return that.http.del(that.urlify(path),that._headers(),params,that.timeout,callback)},callback)},post:function(path,params,callback){var that=this;return this._requestWrapper(function(callback){return that.http.post(that.urlify(path),that._headers(),params,that.timeout,callback)},callback)},request:function(path,method,query,post,body,headers,callback){var that=this;return this._requestWrapper(function(callback){return that.http.request(that.urlify(path),{method:method,headers:that._headers(headers),query:query,post:post,body:body,timeout:that.timeout},callback)},callback)},versionCompare:function(otherVersion){var thisVersion=this.version;"default"===thisVersion&&(thisVersion="5.0");for(var components1=thisVersion.split("."),components2=otherVersion.split("."),numComponents=Math.max(components1.length,components2.length),i=0;i<numComponents;i++){var c1=i<components1.length?parseInt(components1[i],10):0,c2=i<components2.length?parseInt(components2[i],10):0;if(c1<c2)return-1;if(c2<c1)return 1}return 0}}),
/*!*/
root.Sharing={USER:"user",APP:"app",GLOBAL:"global",SYSTEM:"system"}}()}),require.define("/lib/paths.js",function(require,module,exports,__dirname,__filename){
/*!*/
!function(){"use strict";(exports||this).Paths={apps:"/services/apps/local",capabilities:"authorization/capabilities",configurations:"configs",dataModels:"datamodel/model",deploymentClient:"deployment/client",deploymentServers:"deployment/server",deploymentServerClasses:"deployment/serverclass",deploymentTenants:"deployment/tenants",eventTypes:"saved/eventtypes",firedAlerts:"alerts/fired_alerts",indexes:"data/indexes",info:"/services/server/info",inputs:null,jobs:"search/jobs",licenseGroups:"licenser/groups",licenseMessages:"licenser/messages",licensePools:"licenser/pools",licenseSlaves:"licenser/slaves",licenseStacks:"licenser/stacks",licenses:"licenser/licenses",loggers:"server/logger",login:"/services/auth/login",messages:"messages",passwords:"admin/passwords",parser:"search/parser",pivot:"datamodel/pivot",properties:"properties",roles:"authorization/roles",savedSearches:"saved/searches",settings:"server/settings",storagePasswords:"storage/passwords",users:"/services/authentication/users",typeahead:"search/typeahead",views:"data/ui/views",currentUser:"/services/authentication/current-context",submitEvent:"/services/receivers/simple"}}()}),require.define("/lib/jquery.class.js",function(require,module,exports,__dirname,__filename){
/*! Simple JavaScript Inheritance
 * By John Resig http://ejohn.org/
 * MIT Licensed.
 * Inspired by base2 and Prototype
 */
!function(){var root=exports||this,initializing=!1,fnTest=/xyz/.test(function(){return xyz})?/\b_super\b/:/.*/;root.Class=function(){},root.Class.extend=function(prop){var _super=this.prototype;initializing=!0;var prototype=new this;for(var name in initializing=!1,prop)prototype[name]="function"==typeof prop[name]&&"function"==typeof _super[name]&&fnTest.test(prop[name])?function(name,fn){return function(){var tmp=this._super;this._super=_super[name];var ret=fn.apply(this,arguments);return this._super=tmp,ret}}(name,prop[name]):prop[name];function Class(){!initializing&&this.init&&this.init.apply(this,arguments)}return Class.prototype=prototype,(Class.constructor=Class).extend=arguments.callee,Class}}()}),require.define("/lib/http.js",function(require,module,exports,__dirname,__filename){
/*!*/
!function(){"use strict";var Class=require("./jquery.class").Class,logger=require("./log").Logger,utils=require("./utils"),Http=null,queryBuilderMap={5:function(message){var query=message.query||{},post=message.post||{},outputMode=query.output_mode||post.output_mode||"json";return utils.startsWith(outputMode,"json")||(outputMode="json"),query.output_mode=outputMode,query},4:function(message){return message.query||{}},default:function(message){return queryBuilderMap[5](message)},none:function(message){return message.query||{}}};module.exports=Http=Class.extend({init:function(){this.get=utils.bind(this,this.get),this.del=utils.bind(this,this.del),this.post=utils.bind(this,this.post),this.request=utils.bind(this,this.request),this._buildResponse=utils.bind(this,this._buildResponse),this._setSplunkVersion("none")},
/*!*/
_setSplunkVersion:function(version){this.version=version},get:function(url,headers,params,timeout,callback){var message={method:"GET",headers:headers,timeout:timeout,query:params};return this.request(url,message,callback)},post:function(url,headers,params,timeout,callback){headers["Content-Type"]="application/x-www-form-urlencoded";var message={method:"POST",headers:headers,timeout:timeout,post:params};return this.request(url,message,callback)},del:function(url,headers,params,timeout,callback){var message={method:"DELETE",headers:headers,timeout:timeout,query:params};return this.request(url,message,callback)},request:function(url,message,callback){var query=utils.getWithVersion(this.version,queryBuilderMap)(message),post=message.post||{},encodedUrl=url+"?"+Http.encode(query),body=message.body?message.body:Http.encode(post),options={method:message.method,headers:message.headers,timeout:message.timeout,body:body};return this.makeRequest(encodedUrl,options,function(response){callback=callback||function(){},response.status<400&&"abort"!==response.status?callback(null,response):callback(response)})},makeRequest:function(url,message,callback){throw new Error("UNDEFINED FUNCTION - OVERRIDE REQUIRED")},parseJson:function(json){throw new Error("UNDEFINED FUNCTION - OVERRIDE REQUIRED")},_buildResponse:function(error,response,data){var json={},contentType=null;if(response&&response.headers&&(contentType=utils.trim(response.headers["content-type"]||response.headers["Content-Type"]||response.headers["Content-type"]||response.headers.contentType)),utils.startsWith(contentType,"application/json")&&data)try{json=this.parseJson(data)||{}}catch(e){logger.error("Error in parsing JSON:",data,e),json=data}else json=data;return json&&logger.printMessages(json.messages),{response:response,status:response?response.statusCode:0,data:json,error:error}}}),Http.encode=function(params){var encodedStr="";for(var key in params)if(params.hasOwnProperty(key)){encodedStr&&"&"!==encodedStr[encodedStr.length-1]&&(encodedStr+="&");var value=params[key];if(value instanceof Array)for(var i=0;i<value.length;i++)encodedStr=encodedStr+key+"="+encodeURIComponent(value[i])+"&";else if("object"==typeof value)for(var innerKey in value)value.hasOwnProperty(innerKey)&&(value[innerKey],encodedStr=encodedStr+key+"="+encodeURIComponent(value[innerKey])+"&");else encodedStr=encodedStr+key+"="+encodeURIComponent(value)}return"&"===encodedStr[encodedStr.length-1]&&(encodedStr=encodedStr.substr(0,encodedStr.length-1)),encodedStr}}()}),require.define("/lib/service.js",function(require,module,exports,__dirname,__filename){
/*!*/
!function(){"use strict";var Context=require("./context"),Async=(require("./http"),require("./async")),Paths=require("./paths").Paths,Class=require("./jquery.class").Class,utils=require("./utils"),root=exports||this,Service=null,BaseService=Context.extend({init:function(){this._super.apply(this,arguments)}});module.exports=root=Service=BaseService.extend({init:function(){this._super.apply(this,arguments),this.specialize=utils.bind(this,this.specialize),this.apps=utils.bind(this,this.apps),this.configurations=utils.bind(this,this.configurations),this.indexes=utils.bind(this,this.indexes),this.savedSearches=utils.bind(this,this.savedSearches),this.jobs=utils.bind(this,this.jobs),this.users=utils.bind(this,this.users),this.currentUser=utils.bind(this,this.currentUser),this.views=utils.bind(this,this.views),this.firedAlertGroups=utils.bind(this,this.firedAlertGroups),this.dataModels=utils.bind(this,this.dataModels)},specialize:function(owner,app){return new Service(this.http,{scheme:this.scheme,host:this.host,port:this.port,username:this.username,password:this.password,owner:owner,app:app,sessionKey:this.sessionKey,version:this.version})},apps:function(){return new root.Applications(this)},configurations:function(namespace){return new root.Configurations(this,namespace)},indexes:function(namespace){return new root.Indexes(this,namespace)},savedSearches:function(namespace){return new root.SavedSearches(this,namespace)},storagePasswords:function(namespace){return new root.StoragePasswords(this,namespace)},firedAlertGroups:function(namespace){return new root.FiredAlertGroupCollection(this,namespace)},jobs:function(namespace){return new root.Jobs(this,namespace)},dataModels:function(namespace){return new root.DataModels(this,namespace)},users:function(){return new root.Users(this)},views:function(namespace){return new root.Views(this,namespace)},search:function(query,params,namespace,callback){return!callback&&utils.isFunction(namespace)&&(callback=namespace,namespace=null),new root.Jobs(this,namespace).search(query,params,callback)},getJob:function(sid,namespace,callback){return!callback&&utils.isFunction(namespace)&&(callback=namespace,namespace=null),new root.Job(this,sid,namespace).fetch({},callback)},oneshotSearch:function(query,params,namespace,callback){return!callback&&utils.isFunction(namespace)&&(callback=namespace,namespace=null),new root.Jobs(this,namespace).oneshotSearch(query,params,callback)},currentUser:function(callback){callback=callback||function(){};var that=this,req=this.get(Paths.currentUser,{},function(err,response){if(err)callback(err);else{var username=response.data.entry[0].content.username;new root.User(that,username).fetch(function(){req.wasAborted||callback.apply(null,arguments)})}});return req},serverInfo:function(callback){return callback=callback||function(){},new root.ServerInfo(this).fetch(callback)},parse:function(query,params,callback){return!callback&&utils.isFunction(params)&&(callback=params,params={}),callback=callback||function(){},(params=params||{}).q=query,this.get(Paths.parser,params,function(err,response){err?callback(err):callback(null,response.data)})},typeahead:function(prefix,count,callback){!callback&&utils.isFunction(count)&&(callback=count,count=10),callback=callback||function(){};var params={count:count||10,prefix:prefix};return this.get(Paths.typeahead,params,function(err,response){if(err)callback(err);else{var results=(response.data||{}).results;callback(null,results||[])}})},log:function(event,params,callback){!callback&&utils.isFunction(params)&&(callback=params,params={}),callback=callback||function(){},params=params||{},utils.isObject(event)&&(event=JSON.stringify(event));var path=this.paths.submitEvent,body=event,get=params;return this.request(path,"POST",get,{},body,{"Content-Type":"text/plain"},function(err,response){err?callback(err):callback(null,response.data)})}}),root.Endpoint=Class.extend({init:function(service,qualifiedPath){if(!service)throw new Error("Passed in a null Service.");if(!qualifiedPath)throw new Error("Passed in an empty path.");this.service=service,this.qualifiedPath=qualifiedPath,this.get=utils.bind(this,this.get),this.post=utils.bind(this,this.post),this.del=utils.bind(this,this.del)},get:function(relpath,params,callback){var url=this.qualifiedPath;return relpath&&(url=url+"/"+relpath),this.service.get(url,params,callback)},post:function(relpath,params,callback){var url=this.qualifiedPath;return relpath&&(url=url+"/"+relpath),this.service.post(url,params,callback)},del:function(relpath,params,callback){var url=this.qualifiedPath;return relpath&&(url=url+"/"+relpath),this.service.del(url,params,callback)}}),root.Resource=root.Endpoint.extend({init:function(service,path,namespace){var fullpath=service.fullpath(path,namespace);this._super(service,fullpath),this.namespace=namespace,this._properties={},this._state={},this._load=utils.bind(this,this._load),this.fetch=utils.bind(this,this.fetch),this.properties=utils.bind(this,this.properties),this.state=utils.bind(this,this.state),this.path=utils.bind(this,this.path)},path:function(){throw new Error("MUST BE OVERRIDDEN")},_load:function(properties){this._properties=properties||{},this._state=properties||{}},fetch:function(callback){throw new Error("MUST BE OVERRIDDEN")},properties:function(){return this._properties},state:function(){return this._state}}),root.Entity=root.Resource.extend({fetchOnUpdate:!1,init:function(service,path,namespace){this._super(service,path,namespace),this._load=utils.bind(this,this._load),this.fetch=utils.bind(this,this.fetch),this.remove=utils.bind(this,this.remove),this.update=utils.bind(this,this.update),this.fields=utils.bind(this,this.fields),this.links=utils.bind(this,this.links),this.acl=utils.bind(this,this.acl),this.author=utils.bind(this,this.author),this.updated=utils.bind(this,this.updated),this.published=utils.bind(this,this.published),this.enable=utils.bind(this,this.enable),this.disable=utils.bind(this,this.disable),this.reload=utils.bind(this,this.reload),this._properties={},this._fields={},this._acl={},this._links={}},_load:function(properties){properties=(properties=utils.isArray(properties)?properties[0]:properties)||{content:{},fields:{},acl:{},links:{}},this._super(properties),this._properties=properties.content||{},this._fields=properties.fields||this._fields||{},this._acl=properties.acl||{},this._links=properties.links||{},this._author=properties.author||null,this._updated=properties.updated||null,this._published=properties.published||null},fields:function(){return this._fields},acl:function(){return this._acl},links:function(){return this._links},author:function(){return this._author},updated:function(){return this._updated},published:function(){return this._published},fetch:function(options,callback){!callback&&utils.isFunction(options)&&(callback=options,options={}),callback=callback||function(){},options=options||{};var that=this;return this.get("",options,function(err,response){err?callback(err):(that._load(response.data?response.data.entry:null),callback(null,that))})},remove:function(callback){return callback=callback||function(){},this.del("",{},function(err){callback(err)})},update:function(props,callback){if(callback=callback||function(){},props.hasOwnProperty("name"))throw new Error("Cannot set 'name' field in 'update'");var that=this,req=this.post("",props,function(err,response){err||that.fetchOnUpdate?!err&&that.fetchOnUpdate?that.fetch(function(){req.wasAborted||callback.apply(null,arguments)}):callback(err,that):(that._load(response.data.entry),callback(err,that))});return req},disable:function(callback){callback=callback||function(){};var that=this;this.post("disable",{},function(err,response){err?callback(err):callback(null,that)})},enable:function(callback){callback=callback||function(){};var that=this;this.post("enable",{},function(err,response){err?callback(err):callback(null,that)})},reload:function(callback){callback=callback||function(){};var that=this;this.post("_reload",{},function(err,response){err?callback(err):callback(null,that)})}}),root.Collection=root.Resource.extend({fetchOnEntityCreation:!1,init:function(service,path,namespace){this._super(service,path,namespace),this._load=utils.bind(this,this._load),this.fetch=utils.bind(this,this.fetch),this.create=utils.bind(this,this.create),this.list=utils.bind(this,this.list),this.item=utils.bind(this,this.item),this.instantiateEntity=utils.bind(this,this.instantiateEntity),this._entities=[],this._entitiesByName={},this._properties={},this._paging={},this._links={}},instantiateEntity:function(props){throw new Error("MUST BE OVERRIDDEN")},_load:function(properties){this._super(properties);for(var entities=[],entitiesByName={},entityPropertyList=properties.entry||[],i=0;i<entityPropertyList.length;i++){var props=entityPropertyList[i],entity=this.instantiateEntity(props);entity._load(props),entities.push(entity),entitiesByName.hasOwnProperty(entity.name)?entitiesByName[entity.name].push(entity):entitiesByName[entity.name]=[entity]}this._entities=entities,this._entitiesByName=entitiesByName,this._paging=properties.paging||{},this._links=properties.links||{},this._updated=properties.updated||null},links:function(){return this._links},paging:function(){return this._paging},updated:function(){return this._updated},fetch:function(options,callback){!callback&&utils.isFunction(options)&&(callback=options,options={}),callback=callback||function(){},(options=options||{}).count||(options.count=0);var that=this;return that.get("",options,function(err,response){err?callback(err):(that._load(response.data),callback(null,that))})},item:function(id,namespace){if(utils.isEmpty(namespace)&&(namespace=null),!id)throw new Error("Must suply a non-empty name.");if(namespace&&("-"===namespace.app||"-"===namespace.owner))throw new Error("When searching for an entity, wildcards are not allowed in the namespace. Please refine your search.");var fullPath=null;if(!this._entitiesByName.hasOwnProperty(id))return null;var entities=this._entitiesByName[id];if(1===entities.length&&!namespace)return entities[0];if(1===entities.length&&namespace)return fullPath=this.service.fullpath(entities[0].path(),namespace),entities[0].qualifiedPath===fullPath?entities[0]:null;if(1<entities.length&&!namespace)throw new Error("Ambiguous match for name '"+id+"'");for(var i=0;i<entities.length;i++){var entity=entities[i];if(fullPath=this.service.fullpath(entities[i].path(),namespace),entity.qualifiedPath===fullPath)return entity}},create:function(params,callback){callback=callback||function(){};var that=this,req=this.post("",params,function(err,response){if(err)callback(err);else{var props=response.data.entry;utils.isArray(props)&&(props=props[0]);var entity=that.instantiateEntity(props);entity._load(props),that.fetchOnEntityCreation?entity.fetch(function(){req.wasAborted||callback.apply(null,arguments)}):callback(null,entity)}});return req},list:function(callback){return callback=callback||function(){},utils.clone(this._entities)}}),root.SavedSearch=root.Entity.extend({path:function(){return Paths.savedSearches+"/"+encodeURIComponent(this.name)},init:function(service,name,namespace){this.name=name,this._super(service,this.path(),namespace),this.acknowledge=utils.bind(this,this.acknowledge),this.dispatch=utils.bind(this,this.dispatch),this.history=utils.bind(this,this.history),this.suppressInfo=utils.bind(this,this.suppressInfo)},alertCount:function(){return parseInt(this.properties().triggered_alert_count,10)||0},acknowledge:function(callback){callback=callback||function(){};var that=this;return this.post("acknowledge",{},function(err){callback(err,that)})},dispatch:function(options,callback){!callback&&utils.isFunction(options)&&(callback=options,options={}),callback=callback||function(){},options=options||{};var that=this;return this.post("dispatch",options,function(err,response){if(err)callback(err);else{var sid=response.data.sid,job=new root.Job(that.service,sid,that.namespace);callback(null,job,that)}})},firedAlertGroup:function(){return new root.FiredAlertGroup(this.service,this.name)},history:function(callback){callback=callback||function(){};var that=this;return this.get("history",{},function(err,response){if(err)callback(err);else{for(var jobs=[],data=response.data.entry||[],i=0;i<data.length;i++){var jobData=response.data.entry[i],namespace=utils.namespaceFromProperties(jobData),job=new root.Job(that.service,jobData.name,namespace);job._load(jobData),jobs.push(job)}callback(null,jobs,that)}})},suppressInfo:function(callback){callback=callback||function(){};var that=this;return this.get("suppress",{},function(err,response){callback(err,response.data.entry.content,that)})},update:function(params,callback){if((params=params||{}).search)return this._super(params,callback);var update=this._super,req=this.fetch(function(err,search){err?callback(err):(params.search=search.properties().search,update.call(search,params,function(){req.wasAborted||callback.apply(null,arguments)}))});return req}}),root.SavedSearches=root.Collection.extend({path:function(){return Paths.savedSearches},instantiateEntity:function(props){var entityNamespace=utils.namespaceFromProperties(props);return new root.SavedSearch(this.service,props.name,entityNamespace)},init:function(service,namespace){this._super(service,this.path(),namespace)}}),root.StoragePassword=root.Entity.extend({path:function(){return Paths.storagePasswords+"/"+encodeURIComponent(this.name)},init:function(service,name,namespace){this.name=name,this._super(service,this.path(),namespace)}}),root.StoragePasswords=root.Collection.extend({path:function(){return Paths.storagePasswords},instantiateEntity:function(props){var entityNamespace=utils.namespaceFromProperties(props);return new root.StoragePassword(this.service,props.name,entityNamespace)},init:function(service,namespace){this._super(service,this.path(),namespace)}}),root.FiredAlert=root.Entity.extend({path:function(){return Paths.firedAlerts+"/"+encodeURIComponent(this.name)},actions:function(){return this.properties().actions||[]},alertType:function(){return this.properties().alert_type||null},isDigestMode:function(){return!!this.properties().digest_mode},expirationTime:function(){return this.properties().expiration_time_rendered||null},savedSearchName:function(){return this.properties().savedsearch_name||null},severity:function(){return parseInt(this.properties().severity,10)||-1},sid:function(){return this.properties().sid||null},triggerTime:function(){return this.properties().trigger_time||null},triggerTimeRendered:function(){return this.properties().trigger_time_rendered||null},triggeredAlertCount:function(){return parseInt(this.properties().triggered_alerts,10)||-1},init:function(service,name,namespace){this.name=name,this._super(service,this.path(),namespace)}}),root.FiredAlertGroup=root.Entity.extend({path:function(){return Paths.firedAlerts+"/"+encodeURIComponent(this.name)},count:function(){return parseInt(this.properties().triggered_alert_count,10)||0},list:function(options,callback){!callback&&utils.isFunction(options)&&(callback=options,options={}),callback=callback||function(){},options=options||{};var that=this;return this.get("",options,function(err,response){if(err)callback(err);else{for(var firedAlerts=[],data=response.data.entry||[],i=0;i<data.length;i++){var firedAlertData=response.data.entry[i],namespace=utils.namespaceFromProperties(firedAlertData),firedAlert=new root.FiredAlert(that.service,firedAlertData.name,namespace);firedAlert._load(firedAlertData),firedAlerts.push(firedAlert)}callback(null,firedAlerts,that)}})},init:function(service,name,namespace){this.name=name,this._super(service,this.path(),namespace),this.list=utils.bind(this,this.list)}}),root.FiredAlertGroupCollection=root.Collection.extend({path:function(){return Paths.firedAlerts},instantiateEntity:function(props){var entityNamespace=utils.namespaceFromProperties(props);return new root.FiredAlertGroup(this.service,props.name,entityNamespace)},remove:function(){throw new Error("To remove an alert, remove the saved search with the same name.")},init:function(service,namespace){this._super(service,this.path(),namespace),this.instantiateEntity=utils.bind(this,this.instantiateEntity),this.remove=utils.bind(this,this.remove)}}),root.Application=root.Entity.extend({fetchOnUpdate:!0,path:function(){return Paths.apps+"/"+encodeURIComponent(this.name)},init:function(service,name){this.name=name,this._super(service,this.path(),{}),this.setupInfo=utils.bind(this,this.setupInfo),this.updateInfo=utils.bind(this,this.updateInfo)},setupInfo:function(callback){callback=callback||function(){};var that=this;return this.get("setup",{},function(err,response){err?callback(err):callback(null,response.data.entry.content,that)})},updateInfo:function(callback){callback=callback||function(){};var that=this;return this.get("update",{},function(err,response){err?callback(err):callback(null,response.data.entry.content,that)})}}),root.Applications=root.Collection.extend({fetchOnEntityCreation:!0,path:function(){return Paths.apps},instantiateEntity:function(props){return new root.Application(this.service,props.name,{})},init:function(service){this._super(service,this.path(),{})}}),root.ServerInfo=root.Entity.extend({path:function(){return Paths.info},init:function(service){this.name="server-info",this._super(service,this.path(),{})}}),root.User=root.Entity.extend({path:function(){return Paths.users+"/"+encodeURIComponent(this.name)},init:function(service,name){this.name=name,this._super(service,this.path(),{})}}),root.Users=root.Collection.extend({fetchOnEntityCreation:!0,path:function(){return Paths.users},instantiateEntity:function(props){return new root.User(this.service,props.name,{})},init:function(service){this._super(service,this.path(),{})},create:function(params,callback){callback=callback||function(){};var that=this,req=this.post("",params,function(err,response){if(err)callback(err);else{var props={name:params.name};that.instantiateEntity(props).fetch(function(){req.wasAborted||callback.apply(null,arguments)})}});return req}}),root.View=root.Entity.extend({path:function(){return Paths.views+"/"+encodeURIComponent(this.name)},init:function(service,name,namespace){this.name=name,this._super(service,this.path(),namespace)}}),root.Views=root.Collection.extend({path:function(){return Paths.views},instantiateEntity:function(props){var entityNamespace=utils.namespaceFromProperties(props);return new root.View(this.service,props.name,entityNamespace)},init:function(service,namespace){this._super(service,this.path(),namespace)}}),root.Index=root.Entity.extend({path:function(){return Paths.indexes+"/"+encodeURIComponent(this.name)},init:function(service,name,namespace){this.name=name,this._super(service,this.path(),namespace),this.submitEvent=utils.bind(this,this.submitEvent)},submitEvent:function(event,params,callback){!callback&&utils.isFunction(params)&&(callback=params,params={}),callback=callback||function(){},(params=params||{}).index=this.name;var that=this;return this.service.log(event,params,function(err,result){callback(err,result,that)})},remove:function(callback){if(this.service.versionCompare("5.0")<0)throw new Error("Indexes cannot be removed in Splunk 4.x");return this._super(callback)}}),root.Indexes=root.Collection.extend({path:function(){return Paths.indexes},instantiateEntity:function(props){var entityNamespace=utils.namespaceFromProperties(props);return new root.Index(this.service,props.name,entityNamespace)},init:function(service,namespace){this._super(service,this.path(),namespace)},create:function(name,params,callback){return utils.isObject(name)&&utils.isFunction(params)&&!callback&&(callback=params,name=(params=name).name),(params=params||{}).name=name,this._super(params,callback)}}),root.ConfigurationStanza=root.Entity.extend({path:function(){var name="default"===this.name?"_new":this.name;return Paths.configurations+"/conf-"+encodeURIComponent(this.file)+"/"+encodeURIComponent(name)},init:function(service,file,name,namespace){this.name=name,this.file=file,this._super(service,this.path(),namespace)}}),root.ConfigurationFile=root.Collection.extend({path:function(){return Paths.configurations+"/conf-"+encodeURIComponent(this.name)},getDefaultStanza:function(){return new root.ConfigurationStanza(this.service,this.name,"default",this.namespace)},instantiateEntity:function(props){var entityNamespace=utils.namespaceFromProperties(props);return new root.ConfigurationStanza(this.service,this.name,props.name,entityNamespace)},init:function(service,name,namespace){this.name=name,this._super(service,this.path(),namespace)},create:function(stanzaName,values,callback){return utils.isObject(stanzaName)&&utils.isFunction(values)&&!callback&&(callback=values,stanzaName=(values=stanzaName).name),utils.isFunction(values)&&!callback&&(callback=values,values={}),(values=values||{}).name=stanzaName,this._super(values,callback)}}),root.Configurations=root.Collection.extend({fetchOnEntityCreation:!0,path:function(){return Paths.properties},instantiateEntity:function(props){return new root.ConfigurationFile(this.service,props.name,this.namespace)},init:function(service,namespace){if(!namespace||"-"===namespace.owner||"-"===namespace.app)throw new Error("Configurations requires a non-wildcard owner/app");this._super(service,this.path(),namespace)},create:function(filename,callback){utils.isObject(filename)&&(filename=filename.__conf),callback=callback||function(){};var that=this,req=this.post("",{__conf:filename},function(err,response){err?callback(err):new root.ConfigurationFile(that.service,filename).fetch(function(){req.wasAborted||callback.apply(null,arguments)})});return req}}),root.Job=root.Entity.extend({path:function(){return Paths.jobs+"/"+encodeURIComponent(this.name)},init:function(service,sid,namespace){this.name=sid,this._super(service,this.path(),namespace),this.sid=sid,this.cancel=utils.bind(this,this.cancel),this.disablePreview=utils.bind(this,this.disablePreview),this.enablePreview=utils.bind(this,this.enablePreview),this.events=utils.bind(this,this.events),this.finalize=utils.bind(this,this.finalize),this.pause=utils.bind(this,this.pause),this.preview=utils.bind(this,this.preview),this.results=utils.bind(this,this.results),this.searchlog=utils.bind(this,this.searchlog),this.setPriority=utils.bind(this,this.setPriority),this.setTTL=utils.bind(this,this.setTTL),this.summary=utils.bind(this,this.summary),this.timeline=utils.bind(this,this.timeline),this.touch=utils.bind(this,this.touch),this.unpause=utils.bind(this,this.unpause)},cancel:function(callback){return this.post("control",{action:"cancel"},callback)},disablePreview:function(callback){callback=callback||function(){};var that=this;return this.post("control",{action:"disablepreview"},function(err){callback(err,that)})},enablePreview:function(callback){callback=callback||function(){};var that=this;return this.post("control",{action:"enablepreview"},function(err){callback(err,that)})},events:function(params,callback){callback=callback||function(){},(params=params||{}).output_mode=params.output_mode||"json_rows";var that=this;return this.get("events",params,function(err,response){err?callback(err):callback(null,response.data,that)})},finalize:function(callback){callback=callback||function(){};var that=this;return this.post("control",{action:"finalize"},function(err){callback(err,that)})},iterator:function(type,params){return new root.PaginatedEndpointIterator(this[type],params)},pause:function(callback){callback=callback||function(){};var that=this;return this.post("control",{action:"pause"},function(err){callback(err,that)})},preview:function(params,callback){callback=callback||function(){},(params=params||{}).output_mode=params.output_mode||"json_rows";var that=this;return this.get("results_preview",params,function(err,response){err?callback(err):callback(null,response.data,that)})},results:function(params,callback){callback=callback||function(){},(params=params||{}).output_mode=params.output_mode||"json_rows";var that=this;return this.get("results",params,function(err,response){err?callback(err):callback(null,response.data,that)})},searchlog:function(callback){callback=callback||function(){};var that=this;return this.get("search.log",{},function(err,response){err?callback(err):callback(null,response.data,that)})},setPriority:function(value,callback){callback=callback||function(){};var that=this;return this.post("control",{action:"setpriority",priority:value},function(err){callback(err,that)})},setTTL:function(value,callback){callback=callback||function(){};var that=this;return this.post("control",{action:"setttl",ttl:value},function(err){callback(err,that)})},summary:function(params,callback){callback=callback||function(){};var that=this;return this.get("summary",params,function(err,response){err?callback(err):callback(null,response.data,that)})},timeline:function(params,callback){callback=callback||function(){};var that=this;return this.get("timeline",params,function(err,response){err?callback(err):callback(null,response.data,that)})},touch:function(callback){callback=callback||function(){};var that=this;return this.post("control",{action:"touch"},function(err){callback(err,that)})},track:function(options,callbacks){var period=options.period||500;utils.isFunction(callbacks)&&(callbacks={done:callbacks});var noCallbacksAfterReady=!(callbacks.progress||callbacks.done||callbacks.failed||callbacks.error);callbacks.ready=callbacks.ready||function(){},callbacks.progress=callbacks.progress||function(){},callbacks.done=callbacks.done||function(){},callbacks.failed=callbacks.failed||function(){},callbacks.error=callbacks.error||function(){},callbacks._preready=callbacks._preready||function(){},callbacks._stoppedAfterReady=callbacks._stoppedAfterReady||function(){};var that=this,emittedReady=!1,doneLooping=!1;Async.whilst(function(){return!doneLooping},function(nextIteration){that.fetch(function(err,job){if(err)nextIteration(err);else{var dispatchState=job.properties().dispatchState;if("QUEUED"===dispatchState||"PARSING"===dispatchState)callbacks._preready(job);else{if(!emittedReady&&(callbacks.ready(job),emittedReady=!0,noCallbacksAfterReady))return callbacks._stoppedAfterReady(job),doneLooping=!0,void nextIteration();callbacks.progress(job);var props=job.properties();if("DONE"===dispatchState&&props.isDone)return callbacks.done(job),doneLooping=!0,void nextIteration();if("FAILED"===dispatchState&&props.isFailed)return callbacks.failed(job),doneLooping=!0,void nextIteration()}Async.sleep(period,nextIteration)}})},function(err){err&&callbacks.error(err)})},unpause:function(callback){callback=callback||function(){};var that=this;return this.post("control",{action:"unpause"},function(err){callback(err,that)})}}),root.Jobs=root.Collection.extend({path:function(){return Paths.jobs},instantiateEntity:function(props){var sid=props.content.sid,entityNamespace=utils.namespaceFromProperties(props);return new root.Job(this.service,sid,entityNamespace)},init:function(service,namespace){this._super(service,this.path(),namespace),this.create=utils.bind(this,this.create)},create:function(query,params,callback){if(utils.isObject(query)&&utils.isFunction(params)&&!callback&&(callback=params,query=(params=query).search),callback=callback||function(){},(params=params||{}).search=query,"oneshot"===(params.exec_mode||"").toLowerCase())throw new Error("Please use splunkjs.Service.Jobs.oneshotSearch for exec_mode=oneshot");if(params.search){var that=this;return this.post("",params,function(err,response){if(err)callback(err);else{var job=new root.Job(that.service,response.data.sid,that.namespace);callback(null,job)}})}callback("Must provide a query to create a search job")},search:function(query,params,callback){return this.create(query,params,callback)},oneshotSearch:function(query,params,callback){utils.isObject(query)&&utils.isFunction(params)&&!callback&&(callback=params,query=(params=query).search),callback=callback||function(){},(params=params||{}).search=query,params.exec_mode="oneshot",params.search||callback("Must provide a query to create a search job");var outputMode=params.output_mode||"json_rows",path=this.qualifiedPath,post=params,get={output_mode:outputMode};return this.service.request(path,"POST",get,post,null,{},function(err,response){err?callback(err):callback(null,response.data)})}}),root.DataModelField=Class.extend({_types:["string","number","timestamp","objectCount","childCount","ipv4","boolean"],init:function(props){(props=props||{}).owner=props.owner||"",this.name=props.fieldName,this.displayName=props.displayName,this.type=props.type,this.multivalued=props.multivalue,this.required=props.required,this.hidden=props.hidden,this.editable=props.editable,this.comment=props.comment||null,this.fieldSearch=props.fieldSearch,this.lineage=props.owner.split("."),this.owner=this.lineage[this.lineage.length-1]},isString:function(){return"string"===this.type},isNumber:function(){return"number"===this.type},isTimestamp:function(){return"timestamp"===this.type},isObjectcount:function(){return"objectCount"===this.type},isChildcount:function(){return"childCount"===this.type},isIPv4:function(){return"ipv4"===this.type},isBoolean:function(){return"boolean"===this.type}}),root.DataModelConstraint=Class.extend({init:function(props){(props=props||{}).owner=props.owner||"",this.query=props.search,this.lineage=props.owner.split("."),this.owner=this.lineage[this.lineage.length-1]}}),root.DataModelCalculation=Class.extend({_types:["Lookup","Eval","GeoIP","Rex"],init:function(props){(props=props||{}).owner=props.owner||"",this.id=props.calculationID,this.type=props.calculationType,this.comment=props.comment||null,this.editable=props.editable,this.lineage=props.owner.split("."),this.owner=this.lineage[this.lineage.length-1],this.outputFields=[];for(var i=0;i<props.outputFields.length;i++)this.outputFields[props.outputFields[i].fieldName]=new root.DataModelField(props.outputFields[i]);"Eval"!==this.type&&"Rex"!==this.type||(this.expression=props.expression),"GeoIP"!==this.type&&"Rex"!==this.type||(this.inputField=props.inputField),"Lookup"===this.type&&(this.lookupName=props.lookupName,this.inputFieldMappings=props.lookupInputs[0])},outputFieldNames:function(){return Object.keys(this.outputFields)},isEditable:function(){return!!this.editable},isLookup:function(){return"Lookup"===this.type},isEval:function(){return"Eval"===this.type},isRex:function(){return"Rex"===this.type},isGeoIP:function(){return"GeoIP"===this.type}}),root.Pivot=Class.extend({init:function(service,props){this.service=service,this.search=props.search,this.drilldownSearch=props.drilldown_search,this.prettyQuery=this.openInSearch=props.open_in_search,this.pivotSearch=props.pivot_search,this.tstatsSearch=props.tstats_search||null,this.run=utils.bind(this,this.run)},run:function(args,callback){utils.isUndefined(callback)&&(callback=args,args={}),args&&0!==Object.keys(args).length||(args={}),this.service.search(this.tstatsSearch||this.pivotSearch,args,callback)}}),root.PivotSpecification=Class.extend({_comparisons:{boolean:["=","is","isNull","isNotNull"],string:["=","is","isNull","isNotNull","contains","doesNotContain","startsWith","endsWith","regex"],number:["=","!=","<",">","<=",">=","is","isNull","isNotNull"],ipv4:["is","isNull","isNotNull","contains","doesNotContain","startsWith"]},_binning:["auto","year","month","day","hour","minute","second"],_sortDirection:["ASCENDING","DESCENDING","DEFAULT"],_statsFunctions:["list","values","first","last","count","dc","sum","average","max","min","stdev","duration","earliest","latest"],init:function(dataModelObject){this.dataModelObject=dataModelObject,this.columns=[],this.rows=[],this.filters=[],this.cells=[],this.accelerationNamespace=dataModelObject.dataModel.isAccelerated()?dataModelObject.dataModel.name:null,this.run=utils.bind(this,this.run),this.pivot=utils.bind(this,this.pivot)},setAccelerationJob:function(sid){if(sid&&sid instanceof Service.Job&&(sid=sid.sid),!sid)throw new Error("Sid to use for acceleration must not be null.");return this.accelerationNamespace="sid="+sid,this},addFilter:function(fieldName,comparisonType,comparisonOp,compareTo){if(!this.dataModelObject.hasField(fieldName))throw new Error("Cannot add filter on a nonexistent field.");if(comparisonType!==this.dataModelObject.fieldByName(fieldName).type)throw new Error("Cannot add "+comparisonType+" filter on "+fieldName+" because it is of type "+this.dataModelObject.fieldByName(fieldName).type);if(!utils.contains(this._comparisons[comparisonType],comparisonOp))throw new Error("Cannot add "+comparisonType+" filter because "+comparisonOp+" is not a valid comparison operator");var ret={fieldName:fieldName,owner:this.dataModelObject.fieldByName(fieldName).lineage.join("."),type:comparisonType};return utils.contains(["boolean","string","ipv4","number"],ret.type)&&(ret.comparator=comparisonOp,ret.compareTo=compareTo),this.filters.push(ret),this},addLimitFilter:function(fieldName,sortAttribute,sortDirection,limit,statsFunction){if(!this.dataModelObject.hasField(fieldName))throw new Error("Cannot add limit filter on a nonexistent field.");var f=this.dataModelObject.fieldByName(fieldName);if(!utils.contains(["string","number","objectCount"],f.type))throw new Error("Cannot add limit filter on "+fieldName+" because it is of type "+f.type);if("string"===f.type&&!utils.contains(["count","dc"],statsFunction))throw new Error("Stats function for fields of type string must be COUNT or DISTINCT_COUNT; found "+statsFunction);if("number"===f.type&&!utils.contains(["count","dc","average","sum"],statsFunction))throw new Error("Stats function for fields of type number must be one of COUNT, DISTINCT_COUNT, SUM, or AVERAGE; found "+statsFunction);if("objectCount"===f.type&&!utils.contains(["count"],statsFunction))throw new Error("Stats function for fields of type object count must be COUNT; found "+statsFunction);var filter={fieldName:fieldName,owner:f.lineage.join("."),type:f.type,attributeName:sortAttribute,attributeOwner:this.dataModelObject.fieldByName(sortAttribute).lineage.join("."),sortDirection:sortDirection,limitAmount:limit,statsFn:statsFunction};return filter.limitType="ASCENDING"===sortDirection?"lowest":"highest",this.filters.push(filter),this},addRowSplit:function(fieldName,label){if(!this.dataModelObject.hasField(fieldName))throw new Error("Did not find field "+fieldName);var f=this.dataModelObject.fieldByName(fieldName);if(!utils.contains(["number","string"],f.type))throw new Error("Field was of type "+f.type+", expected number or string.");var row={fieldName:fieldName,owner:f.owner,type:f.type,label:label};return"number"===f.type&&(row.display="all"),this.rows.push(row),this},addRangeRowSplit:function(field,label,ranges){if(!this.dataModelObject.hasField(field))throw new Error("Did not find field "+field);var f=this.dataModelObject.fieldByName(field);if("number"!==f.type)throw new Error("Field was of type "+f.type+", expected number.");var updateRanges={};return utils.isUndefined(ranges.start)||null===ranges.start||(updateRanges.start=ranges.start),utils.isUndefined(ranges.end)||null===ranges.end||(updateRanges.end=ranges.end),utils.isUndefined(ranges.step)||null===ranges.step||(updateRanges.size=ranges.step),utils.isUndefined(ranges.limit)||null===ranges.limit||(updateRanges.maxNumberOf=ranges.limit),this.rows.push({fieldName:field,owner:f.owner,type:f.type,label:label,display:"ranges",ranges:updateRanges}),this},addBooleanRowSplit:function(field,label,trueDisplayValue,falseDisplayValue){if(!this.dataModelObject.fieldByName(field))throw new Error("Did not find field "+field);var f=this.dataModelObject.fieldByName(field);if("boolean"!==f.type)throw new Error("Field was of type "+f.type+", expected boolean.");return this.rows.push({fieldName:field,owner:f.owner,type:f.type,label:label,trueLabel:trueDisplayValue,falseLabel:falseDisplayValue}),this},addTimestampRowSplit:function(field,label,binning){if(!this.dataModelObject.hasField(field))throw new Error("Did not find field "+field);var f=this.dataModelObject.fieldByName(field);if("timestamp"!==f.type)throw new Error("Field was of type "+f.type+", expected timestamp.");if(!utils.contains(this._binning,binning))throw new Error("Invalid binning "+binning+" found. Valid values are: "+this._binning.join(", "));return this.rows.push({fieldName:field,owner:f.owner,type:f.type,label:label,period:binning}),this},addColumnSplit:function(fieldName){if(!this.dataModelObject.hasField(fieldName))throw new Error("Did not find field "+fieldName);var f=this.dataModelObject.fieldByName(fieldName);if(!utils.contains(["number","string"],f.type))throw new Error("Field was of type "+f.type+", expected number or string.");var col={fieldName:fieldName,owner:f.owner,type:f.type};return"number"===f.type&&(col.display="all"),this.columns.push(col),this},addRangeColumnSplit:function(fieldName,ranges){if(!this.dataModelObject.hasField(fieldName))throw new Error("Did not find field "+fieldName);var f=this.dataModelObject.fieldByName(fieldName);if("number"!==f.type)throw new Error("Field was of type "+f.type+", expected number.");var updatedRanges={};return utils.isUndefined(ranges.start)||null===ranges.start||(updatedRanges.start=ranges.start),utils.isUndefined(ranges.end)||null===ranges.end||(updatedRanges.end=ranges.end),utils.isUndefined(ranges.step)||null===ranges.step||(updatedRanges.size=ranges.step),utils.isUndefined(ranges.limit)||null===ranges.limit||(updatedRanges.maxNumberOf=ranges.limit),this.columns.push({fieldName:fieldName,owner:f.owner,type:f.type,display:"ranges",ranges:updatedRanges}),this},addBooleanColumnSplit:function(fieldName,trueDisplayValue,falseDisplayValue){if(!this.dataModelObject.fieldByName(fieldName))throw new Error("Did not find field "+fieldName);var f=this.dataModelObject.fieldByName(fieldName);if("boolean"!==f.type)throw new Error("Field was of type "+f.type+", expected boolean.");return this.columns.push({fieldName:fieldName,owner:f.owner,type:f.type,trueLabel:trueDisplayValue,falseLabel:falseDisplayValue}),this},addTimestampColumnSplit:function(field,binning){if(!this.dataModelObject.hasField(field))throw new Error("Did not find field "+field);var f=this.dataModelObject.fieldByName(field);if("timestamp"!==f.type)throw new Error("Field was of type "+f.type+", expected timestamp.");if(!utils.contains(this._binning,binning))throw new Error("Invalid binning "+binning+" found. Valid values are: "+this._binning.join(", "));return this.columns.push({fieldName:field,owner:f.owner,type:f.type,period:binning}),this},addCellValue:function(fieldName,label,statsFunction){if(!this.dataModelObject.hasField(fieldName))throw new Error("Did not find field "+fieldName);var f=this.dataModelObject.fieldByName(fieldName);if(utils.contains(["string","ipv4"],f.type)&&!utils.contains(["list","values","first","last","count","dc"],statsFunction))throw new Error("Stats function on string and IPv4 fields must be one of: list, distinct_values, first, last, count, or distinct_count; found "+statsFunction);if("number"===f.type&&!utils.contains(["sum","count","average","min","max","stdev","list","values"],statsFunction))throw new Error("Stats function on number field must be must be one of: sum, count, average, max, min, stdev, list, or distinct_values; found "+statsFunction);if("timestamp"===f.type&&!utils.contains(["duration","earliest","latest","list","values"],statsFunction))throw new Error("Stats function on timestamp field must be one of: duration, earliest, latest, list, or distinct values; found "+statsFunction);if(utils.contains(["objectCount","childCount"],f.type)&&"count"!==statsFunction)throw new Error("Stats function on childcount and objectcount fields must be count; found "+statsFunction);if("boolean"===f.type)throw new Error("Cannot use boolean valued fields as cell values.");return this.cells.push({fieldName:fieldName,owner:f.lineage.join("."),type:f.type,label:label,sparkline:!1,value:statsFunction}),this},toJsonObject:function(){return{dataModel:this.dataModelObject.dataModel.name,baseClass:this.dataModelObject.name,rows:this.rows,columns:this.columns,cells:this.cells,filters:this.filters}},pivot:function(callback){var svc=this.dataModelObject.dataModel.service,args={pivot_json:JSON.stringify(this.toJsonObject())};return utils.isUndefined(this.accelerationNamespace)||(args.namespace=this.accelerationNamespace),svc.get(Paths.pivot+"/"+encodeURIComponent(this.dataModelObject.dataModel.name),args,function(err,response){err?callback(new Error(err.data.messages[0].text),response):response.data.entry&&response.data.entry[0]?callback(null,new root.Pivot(svc,response.data.entry[0].content)):callback(new Error("Didn't get a Pivot report back from Splunk"),response)})},run:function(args,callback){callback||(callback=args,args={}),args=args||{},this.pivot(function(err,pivot){err?callback(err,null,null):pivot.run(args,Async.augment(callback,pivot))})}}),root.DataModelObject=Class.extend({init:function(props,parentDataModel){(props=props||{}).owner=props.owner||"",this.dataModel=parentDataModel,this.name=props.objectName,this.displayName=props.displayName,this.parentName=props.parentName,this.lineage=props.lineage.split("."),props.hasOwnProperty("groupByFields")&&(this.groupByFields=props.groupByFields),props.hasOwnProperty("objectsToGroup")&&(this.objectsToGroup=props.objectsToGroup),props.hasOwnProperty("transactionMaxTimeSpan")&&(this.maxSpan=props.transactionMaxTimeSpan),props.hasOwnProperty("transactionMaxPause")&&(this.maxPause=props.transactionMaxPause),props.hasOwnProperty("baseSearch")&&(this.baseSearch=props.baseSearch),this.fields={};for(var i=0;i<props.fields.length;i++)this.fields[props.fields[i].fieldName]=new root.DataModelField(props.fields[i]);this.constraints=[];for(var j=0;j<props.constraints.length;j++)this.constraints.push(new root.DataModelConstraint(props.constraints[j]));this.calculations=[];for(var k=0;k<props.calculations.length;k++)this.calculations[props.calculations[k].calculationID]=new root.DataModelCalculation(props.calculations[k])},isBaseSearch:function(){return!utils.isUndefined(this.baseSearch)},isBaseTransaction:function(){return!utils.isUndefined(this.maxSpan)},fieldNames:function(){return Object.keys(this.fields)},fieldByName:function(name){return this.calculatedFields()[name]||this.fields[name]||null},allFields:function(){var combinedFields=[];for(var f in this.fields)this.fields.hasOwnProperty(f)&&(combinedFields[f]=this.fields[f]);var calculatedFields=this.calculatedFields();for(var cf in calculatedFields)calculatedFields.hasOwnProperty(cf)&&(combinedFields[cf]=calculatedFields[cf]);return combinedFields},allFieldNames:function(){return Object.keys(this.allFields())},calculatedFields:function(){for(var fields={},keys=this.calculationIDs(),calculations=this.calculations,i=0;i<keys.length;i++)for(var calculation=calculations[keys[i]],f=0;f<calculation.outputFieldNames().length;f++)fields[calculation.outputFieldNames()[f]]=calculation.outputFields[calculation.outputFieldNames()[f]];return fields},calculatedFieldNames:function(){return Object.keys(this.calculatedFields())},hasField:function(fieldName){return utils.contains(this.allFieldNames(),fieldName)},calculationIDs:function(){return Object.keys(this.calculations)},createLocalAccelerationJob:function(earliestTime,callback){!callback&&utils.isFunction(earliestTime)&&(callback=earliestTime,earliestTime=void 0);var query='| datamodel "'+this.dataModel.name+'" '+this.name+" search | tscollect",args=earliestTime?{earliest_time:earliestTime}:{};this.dataModel.service.search(query,args,callback)},startSearch:function(params,querySuffix,callback){var query="| datamodel "+this.dataModel.name+" "+this.name+" search";querySuffix=querySuffix?" "+querySuffix:"",this.dataModel.service.search(query+querySuffix,params,callback)},parent:function(){return this.dataModel.objectByName(this.parentName)},createPivotSpecification:function(){return new root.PivotSpecification(this)}}),root.DataModel=Service.Entity.extend({path:function(){return Paths.dataModels+"/"+encodeURIComponent(this.name)},init:function(service,name,namespace,props){props||(props=namespace,namespace={}),this.name=name,this._super(service,this.path(),namespace),this.acceleration=JSON.parse(props.content.acceleration)||{},this.acceleration.hasOwnProperty("enabled")&&(this.acceleration.enabled=!!this.acceleration.enabled),props.hasOwnProperty("concise")&&!utils.isUndefined(props.concise)||(this.concise="0");var dataModelDefinition=JSON.parse(props.content.description);this.objectNames=dataModelDefinition.objectNameList,this.displayName=dataModelDefinition.displayName,this.description=dataModelDefinition.description;var objs=dataModelDefinition.objects;this.objects=[];for(var i=0;i<objs.length;i++)this.objects.push(new root.DataModelObject(objs[i],this));this.remove=utils.bind(this,this.remove),this.update=utils.bind(this,this.update)},isAccelerated:function(){return!!this.acceleration.enabled},objectByName:function(name){for(var i=0;i<this.objects.length;i++)if(this.objects[i].name===name)return this.objects[i];return null},hasObject:function(name){return utils.contains(this.objectNames,name)},update:function(props,callback){if(utils.isUndefined(callback)&&(callback=props,props={}),callback=callback||function(){},props){if(!props.hasOwnProperty("name")){var updatedProps={acceleration:JSON.stringify({enabled:props.accceleration&&props.acceleration.enabled||this.acceleration.enabled,earliest_time:props.accceleration&&props.acceleration.earliestTime||this.acceleration.earliestTime,cron_schedule:props.accceleration&&props.acceleration.cronSchedule||this.acceleration.cronSchedule})},that=this;return this.post("",updatedProps,function(err,response){if(err)callback(err,that);else{var dataModelNamespace=utils.namespaceFromProperties(response.data.entry[0]);callback(null,new root.DataModel(that.service,response.data.entry[0].name,dataModelNamespace,response.data.entry[0]))}})}callback(new Error("Cannot set 'name' field in 'update'"),this)}else callback(new Error("Must specify a props argument to update a data model."))}}),root.DataModels=Service.Collection.extend({path:function(){return Paths.dataModels},init:function(service,namespace){namespace=namespace||{},this._super(service,this.path(),namespace),this.create=utils.bind(this,this.create)},create:function(name,params,callback){utils.isFunction(params)&&!callback&&(callback=params,params={}),params=params||{},callback=callback||function(){},name=name.replace(/ /g,"_");var that=this;return this.post("",{name:name,description:JSON.stringify(params)},function(err,response){if(err)callback(err);else{var dataModel=new root.DataModel(that.service,response.data.entry[0].name,that.namespace,response.data.entry[0]);callback(null,dataModel)}})},instantiateEntity:function(props){var entityNamespace=utils.namespaceFromProperties(props);return new root.DataModel(this.service,props.name,entityNamespace,props)}}),
/*!*/
root.PaginatedEndpointIterator=Class.extend({init:function(endpoint,params){params=params||{},this._endpoint=endpoint,this._pagesize=params.pagesize||0,this._offset=0},next:function(callback){callback=callback||function(){};var that=this,params={count:this._pagesize,offset:this._offset};return this._endpoint(params,function(err,results){if(err)callback(err);else{var numResults=results.rows?results.rows.length:0;that._offset+=numResults,callback(null,results,0<numResults)}})}})}()}),require.define("/lib/async.js",function(require,module,exports,__dirname,__filename){
/*!*/
!function(){"use strict";var utils=require("./utils"),root=exports||this;root.whilst=function(condition,body,callback){body=body||function(done){done()},callback=callback||function(){},(condition=condition||function(){return!1})()?body(function(err){err?callback(err):root.whilst(condition,body,callback)}):callback(null)},root.parallel=function(tasks,callback){if(1<arguments.length&&utils.isFunction(arguments[0])){var args=utils.toArray(arguments);tasks=args.slice(0,args.length-1),callback=args[args.length-1]}callback=callback||function(){},0===(tasks=tasks||[]).length&&callback();for(var tasksLeft=tasks.length,results=[],doneCallback=function(idx){return function(err){if(err)callback&&callback(err),callback=null;else{var args=utils.toArray(arguments);args.shift(),1===args.length&&(args=args[0]),results[idx]=args,0==--tasksLeft&&(results.unshift(null),callback&&callback.apply(null,results))}}},i=0;i<tasks.length;i++)(0,tasks[i])(doneCallback(i))},root.series=function(tasks,callback){if(1<arguments.length&&utils.isFunction(arguments[0])){var args=utils.toArray(arguments);tasks=args.slice(0,args.length-1),callback=args[args.length-1]}callback=callback||function(){};var innerSeries=function(task,restOfTasks,resultsSoFar,callback){if(!task)return resultsSoFar.unshift(null),void callback.apply(null,resultsSoFar);task(function(err){if(err)callback&&callback(err),callback=null;else{var args=utils.toArray(arguments);args.shift(),1===args.length&&(args=args[0]),resultsSoFar.push(args),innerSeries(restOfTasks[0],restOfTasks.slice(1),resultsSoFar,callback)}})};innerSeries((tasks=tasks||[])[0],tasks.slice(1),[],callback)},root.parallelMap=function(vals,fn,callback){vals=vals||[],callback=callback||function(){};for(var tasks=[],createTask=function(val,idx){return function(done){fn(val,idx,done)}},i=0;i<vals.length;i++)tasks.push(createTask(vals[i],i));root.parallel(tasks,function(err){if(err)callback&&callback(err),callback=null;else{var args=utils.toArray(arguments);args.shift(),callback(null,args)}})},root.seriesMap=function(vals,fn,callback){vals=vals||[],callback=callback||function(){};for(var tasks=[],createTask=function(val,idx){return function(done){fn(val,idx,done)}},i=0;i<vals.length;i++)tasks.push(createTask(vals[i],i));root.series(tasks,function(err){if(err)callback&&callback(err);else{var args=utils.toArray(arguments);args.shift(),callback(null,args)}})},root.parallelEach=function(vals,fn,callback){vals=vals||[],callback=callback||function(){},root.parallelMap(vals,fn,function(err,result){callback(err)})},root.seriesEach=function(vals,fn,callback){vals=vals||[],callback=callback||function(){},root.seriesMap(vals,fn,function(err,result){callback(err)})},root.chain=function(tasks,callback){if(1<arguments.length&&utils.isFunction(arguments[0])){var args=utils.toArray(arguments);tasks=args.slice(0,args.length-1),callback=args[args.length-1]}if(callback=callback||function(){},(tasks=tasks||[]).length){var innerChain=function(task,restOfTasks,result){var args=result;restOfTasks.length?args.push(function(err){if(err)callback(err),callback=function(){};else{var args=utils.toArray(arguments);args.shift(),innerChain(restOfTasks[0],restOfTasks.slice(1),args)}}):args.push(callback),task.apply(null,args)};innerChain(tasks[0],tasks.slice(1),[])}else callback()},root.sleep=function(timeout,callback){setTimeout(function(){callback()},timeout)},root.augment=function(callback){var args=Array.prototype.slice.call(arguments,1);return function(){for(var augmentedArgs=Array.prototype.slice.call(arguments),i=0;i<args.length;i++)augmentedArgs.push(args[i]);callback.apply(null,augmentedArgs)}}}()}),require.define("/lib/modularinputs/index.js",function(require,module,exports,__dirname,__filename){var Async=require("../async"),ModularInputs={utils:require("./utils"),ValidationDefinition:require("./validationdefinition"),InputDefinition:require("./inputdefinition"),Event:require("./event"),EventWriter:require("./eventwriter"),Argument:require("./argument"),Scheme:require("./scheme"),ModularInput:require("./modularinput"),Logger:require("./logger"),execute:function(exports,module){if(require.main===module){var args=process.argv;("node"===args[0]||ModularInputs.utils.contains(args[0],"node.exe"))&&(args=args.slice(1,args.length)),exports.setup=exports.setup||ModularInputs.ModularInput.prototype.setup,exports.start=exports.start||ModularInputs.ModularInput.prototype.start,exports.end=exports.end||ModularInputs.ModularInput.prototype.end,exports.teardown=exports.teardown||ModularInputs.ModularInput.prototype.teardown,exports._inputDefinition=exports._inputDefinition||null,exports._service=exports._service||null;var scriptStatus,ew=new this.EventWriter;Async.chain([function(done){exports.setup(done)},function(done){ModularInputs.ModularInput.runScript(exports,args,ew,process.stdin,done)},function(status,done){scriptStatus=status,exports.teardown(done)}],function(err){err&&ModularInputs.Logger.error("",err,ew._err),process.stdout.once("drain",function(){process.exit(scriptStatus||err?1:0)})})}}};module.exports=ModularInputs}),require.define("/lib/modularinputs/utils.js",function(require,module,exports,__dirname,__filename){
/*!*/
var utils=require("../utils");utils.parseParameters=function(paramNode){switch(paramNode.tag){case"param":return paramNode.text;case"param_list":for(var parameters=[],paramChildren=paramNode.getchildren(),i=0;i<paramChildren.length;i++){var mvp=paramChildren[i];parameters.push(mvp.text)}return parameters;default:throw new Error("Invalid configuration scheme, <"+paramNode.tag+"> tag unexpected.")}},utils.parseXMLData=function(parentNode,childNodeTag){for(var data={},children=parentNode.getchildren(),i=0;i<children.length;i++){var child=children[i];if(child.tag===childNodeTag){if("stanza"===childNodeTag){data[child.get("name")]={};for(var stanzaChildren=child.getchildren(),p=0;p<stanzaChildren.length;p++){var param=stanzaChildren[p];data[child.get("name")][param.get("name")]=utils.parseParameters(param)}}}else"item"===parentNode.tag&&(data[child.get("name")]=utils.parseParameters(child))}return data},module.exports=utils}),require.define("/lib/modularinputs/validationdefinition.js",function(require,module,exports,__dirname,__filename){
/*!*/
!function(){var ET=require("elementtree"),utils=require("./utils");function ValidationDefinition(){this.metadata={},this.parameters={}}ValidationDefinition.parse=function(str){for(var definition=new ValidationDefinition,rootChildren=ET.parse(str).getroot().getchildren(),i=0;i<rootChildren.length;i++){var node=rootChildren[i];"item"===node.tag?(definition.metadata.name=node.get("name"),definition.parameters=utils.parseXMLData(node,"")):definition.metadata[node.tag]=node.text}return definition},module.exports=ValidationDefinition}()}),require.define("/node_modules/elementtree/package.json",function(require,module,exports,__dirname,__filename){module.exports={main:"lib/elementtree.js"}}),require.define("/node_modules/elementtree/lib/elementtree.js",function(require,module,exports,__dirname,__filename){var sprintf=require("./sprintf").sprintf,utils=require("./utils"),ElementPath=require("./elementpath"),TreeBuilder=require("./treebuilder").TreeBuilder,get_parser=require("./parser").get_parser,constants=require("./constants"),element_ids=0;function Element(tag,attrib){this._id=element_ids++,this.tag=tag,this.attrib={},this.text=null,this.tail=null,this._children=[],attrib&&(this.attrib=utils.merge(this.attrib,attrib))}function Comment(text){var element=new Element(Comment);return text&&(element.text=text),element}function CData(text){var element=new Element(CData);return text&&(element.text=text),element}function ProcessingInstruction(target,text){var element=new Element(ProcessingInstruction);return element.text=target,text&&(element.text=element.text+" "+text),element}function QName(text_or_uri,tag){tag&&(text_or_uri=sprintf("{%s}%s",text_or_uri,tag)),this.text=text_or_uri}function ElementTree(element){this._root=element}Element.prototype.toString=function(){return sprintf("<Element %s at %s>",this.tag,this._id)},Element.prototype.makeelement=function(tag,attrib){return new Element(tag,attrib)},Element.prototype.len=function(){return this._children.length},Element.prototype.getItem=function(index){return this._children[index]},Element.prototype.setItem=function(index,element){this._children[index]=element},Element.prototype.delItem=function(index){this._children.splice(index,1)},Element.prototype.getSlice=function(start,stop){return this._children.slice(start,stop)},Element.prototype.setSlice=function(start,stop,elements){var i,k=0;for(i=start;i<stop;i++,k++)this._children[i]=elements[k]},Element.prototype.delSlice=function(start,stop){this._children.splice(start,stop-start)},Element.prototype.append=function(element){this._children.push(element)},Element.prototype.extend=function(elements){this._children.concat(elements)},Element.prototype.insert=function(index,element){this._children[index]=element},Element.prototype.remove=function(element){this._children=this._children.filter(function(e){return e._id!==element._id})},Element.prototype.getchildren=function(){return this._children},Element.prototype.find=function(path){return ElementPath.find(this,path)},Element.prototype.findtext=function(path,defvalue){return ElementPath.findtext(this,path,defvalue)},Element.prototype.findall=function(path,defvalue){return ElementPath.findall(this,path,defvalue)},Element.prototype.clear=function(){this.attrib={},this._children=[],this.text=null,this.tail=null},Element.prototype.get=function(key,defvalue){return void 0!==this.attrib[key]?this.attrib[key]:defvalue},Element.prototype.set=function(key,value){this.attrib[key]=value},Element.prototype.keys=function(){return Object.keys(this.attrib)},Element.prototype.items=function(){return utils.items(this.attrib)},Element.prototype.iter=function(tag,callback){var i;for("*"===tag&&(tag=null),null!==tag&&this.tag!==tag||callback(this),i=0;i<this._children.length;i++)this._children[i].iter(tag,function(e){callback(e)})},Element.prototype.itertext=function(callback){this.iter(null,function(e){e.text&&callback(e.text),e.tail&&callback(e.tail)})},QName.prototype.toString=function(){return this.text},ElementTree.prototype.getroot=function(){return this._root},ElementTree.prototype._setroot=function(element){this._root=element},ElementTree.prototype.parse=function(source,parser){return parser||(parser=new((parser=get_parser(constants.DEFAULT_PARSER)).XMLParser)(new TreeBuilder)),parser.feed(source),this._root=parser.close(),this._root},ElementTree.prototype.iter=function(tag,callback){this._root.iter(tag,callback)},ElementTree.prototype.find=function(path){return this._root.find(path)},ElementTree.prototype.findtext=function(path,defvalue){return this._root.findtext(path,defvalue)},ElementTree.prototype.findall=function(path){return this._root.findall(path)},ElementTree.prototype.write=function(options){var sb=[];if(!1!==(options=utils.merge({encoding:"utf-8",xml_declaration:null,default_namespace:null,method:"xml"},options)).xml_declaration&&sb.push("<?xml version='1.0' encoding='"+options.encoding+"'?>\n"),"text"===options.method)_serialize_text(sb,self._root,encoding);else{var qnames,namespaces,indent,indent_string,x=function(elem,encoding,default_namespace){var qnames={},namespaces={};function add_qname(qname){if("{"===qname[0]){var tmp=qname.substring(1).split("}",2),uri=tmp[0],tag=tmp[1],prefix=namespaces[uri];void 0===prefix&&(void 0===(prefix=_namespace_map[uri])&&(prefix="ns"+Object.keys(namespaces).length),"xml"!==prefix&&(namespaces[uri]=prefix)),qnames[qname]=prefix?sprintf("%s:%s",prefix,tag):tag}else{if(default_namespace)throw new Error("cannot use non-qualified names with default_namespace option");qnames[qname]=qname}}return default_namespace&&(namespaces[default_namespace]=""),elem.iter(null,function(e){var tag=e.tag,text=e.text,items=e.items();if(tag instanceof QName&&void 0===qnames[tag.text])add_qname(tag.text);else if("string"==typeof tag)add_qname(tag);else if(null!==tag&&tag!==Comment&&tag!==CData&&tag!==ProcessingInstruction)throw new Error("Invalid tag type for serialization: "+tag);text instanceof QName&&void 0===qnames[text.text]&&add_qname(text.text),items.forEach(function(item){var key=item[0],value=item[1];key instanceof QName&&(key=key.text),void 0===qnames[key]&&add_qname(key),value instanceof QName&&void 0===qnames[value.text]&&add_qname(value.text)})}),[qnames,namespaces]}(this._root,options.encoding,options.default_namespace);if(qnames=x[0],namespaces=x[1],options.hasOwnProperty("indent")?(indent=0,indent_string=new Array(options.indent+1).join(" ")):indent=!1,"xml"!==options.method)throw new Error("unknown serialization method "+options.method);!function _serialize_xml(write,elem,encoding,qnames,namespaces,indent,indent_string){var items,tag=elem.tag,text=elem.text,newlines=indent||0===indent;write(Array(indent+1).join(indent_string)),tag===Comment?write(sprintf("\x3c!--%s--\x3e",_escape_cdata(text))):tag===ProcessingInstruction?write(sprintf("<?%s?>",_escape_cdata(text))):tag===CData?write(sprintf("<![CDATA[%s]]>",text=text||"")):void 0===(tag=qnames[tag])?(text&&write(_escape_text(text)),elem.iter(function(e){_serialize_xml(write,e,encoding,qnames,null,!!newlines&&indent+1,indent_string)})):(write("<"+tag),((items=elem.items())||namespaces)&&(items.sort(),items.forEach(function(item){var k=item[0],v=item[1];k instanceof QName&&(k=k.text),v=v instanceof QName?qnames[v.text]:_escape_attrib(v),write(sprintf(' %s="%s"',qnames[k],v))}),namespaces&&((items=utils.items(namespaces)).sort(function(a,b){return a[1]<b[1]}),items.forEach(function(item){var k=item[1],v=item[0];k&&(k=":"+k),write(sprintf(' xmlns%s="%s"',k,_escape_attrib(v)))}))),text||elem.len()?(text&&text.toString().match(/^\s*$/)&&(text=null),write(">"),!text&&newlines&&write("\n"),text&&write(_escape_text(text)),elem._children.forEach(function(e){_serialize_xml(write,e,encoding,qnames,null,!!newlines&&indent+1,indent_string)}),!text&&indent&&write(Array(indent+1).join(indent_string)),write("</"+tag+">")):write(" />")),newlines&&write("\n")}(function(data){sb.push(data)},this._root,options.encoding,qnames,namespaces,indent,indent_string)}return sb.join("")};var _namespace_map={"http://www.w3.org/XML/1998/namespace":"xml","http://www.w3.org/1999/xhtml":"html","http://www.w3.org/1999/02/22-rdf-syntax-ns#":"rdf","http://schemas.xmlsoap.org/wsdl/":"wsdl","http://www.w3.org/2001/XMLSchema":"xs","http://www.w3.org/2001/XMLSchema-instance":"xsi","http://purl.org/dc/elements/1.1/":"dc"};function _escape(text,encoding,isAttribute,isText){return text&&(text=(text=(text=(text=text.toString()).replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;"),isText||(text=(text=text.replace(/\n/g,"&#xA;")).replace(/\r/g,"&#xD;")),isAttribute&&(text=text.replace(/"/g,"&quot;"))),text}function _escape_attrib(text,encoding){return _escape(text,0,!0)}function _escape_cdata(text,encoding){return _escape(text,0,!1)}function _escape_text(text,encoding){return _escape(text,0,!1,!0)}exports.PI=ProcessingInstruction,exports.Comment=Comment,exports.CData=CData,exports.ProcessingInstruction=ProcessingInstruction,exports.SubElement=function(parent,tag,attrib){var element=parent.makeelement(tag,attrib);return parent.append(element),element},exports.QName=QName,exports.ElementTree=ElementTree,exports.ElementPath=ElementPath,exports.Element=function(tag,attrib){return new Element(tag,attrib)},exports.XML=function(data){return(new ElementTree).parse(data)},exports.parse=function(source,parser){var tree=new ElementTree;return tree.parse(source,parser),tree},exports.register_namespace=function(prefix,uri){if(/ns\d+$/.test(prefix))throw new Error("Prefix format reserved for internal use");_namespace_map.hasOwnProperty(uri)&&_namespace_map[uri]===prefix&&delete _namespace_map[uri],_namespace_map[uri]=prefix},exports.tostring=function(element,options){return new ElementTree(element).write(options)}}),require.define("/node_modules/elementtree/lib/sprintf.js",function(require,module,exports,__dirname,__filename){var cache={},TO_ESCAPE={"'":"\\'","\n":"\\n"};exports.sprintf=function(formatter,var_args){return cache[formatter]||function(formatter){var i,key=formatter,prev=0,arg=1,builder="return '";for(i=0;i<formatter.length;i++)if("%"===formatter[i])switch(formatter[i+1]){case"s":builder+=formatter.slice(prev,i)+"' + arguments["+arg+"] + '",prev=i+2,arg++;break;case"j":builder+=formatter.slice(prev,i)+"' + JSON.stringify(arguments["+arg+"]) + '",prev=i+2,arg++;break;case"%":builder+=formatter.slice(prev,i+1),prev=i+2,i++}else TO_ESCAPE[formatter[i]]&&(builder+=formatter.slice(prev,i)+TO_ESCAPE[formatter[i]],prev=i+1);builder+=formatter.slice(prev)+"';",cache[key]=new Function(builder)}(formatter),cache[formatter].apply(null,arguments)}}),require.define("/node_modules/elementtree/lib/utils.js",function(require,module,exports,__dirname,__filename){exports.items=function(hash,ignored){ignored=ignored||null;var k,key,rv=[];for(k in hash)!hash.hasOwnProperty(k)||(key=ignored)&&0!==ignored.length&&ignored.indexOf(key)||rv.push([k,hash[k]]);return rv},exports.findall=function(re,str){for(var match,matches=[];match=re.exec(str);)matches.push(match);return matches},exports.merge=function(a,b){var attrname,c={};for(attrname in a)a.hasOwnProperty(attrname)&&(c[attrname]=a[attrname]);for(attrname in b)b.hasOwnProperty(attrname)&&(c[attrname]=b[attrname]);return c}}),require.define("/node_modules/elementtree/lib/elementpath.js",function(require,module,exports,__dirname,__filename){var sprintf=require("./sprintf").sprintf,utils=require("./utils"),SyntaxError=require("./errors").SyntaxError,_cache={},RE=new RegExp("('[^']*'|\"[^\"]*\"|::|//?|\\.\\.|\\(\\)|[/.*:\\[\\]\\(\\)@=])|((?:\\{[^}]+\\})?[^/\\[\\]\\(\\)@=\\s]+)|\\s+","g"),xpath_tokenizer=utils.findall.bind(null,RE),ops={"":function(next,token){var tag=token[0];return function(context,result){var i,len,rv=[];for(i=0,len=result.length;i<len;i++)result[i]._children.forEach(function(e){e.tag===tag&&rv.push(e)});return rv}},"*":function(next,token){return function(context,result){var i,len,rv=[];for(i=0,len=result.length;i<len;i++)result[i]._children.forEach(function(e){rv.push(e)});return rv}},".":function(next,token){return function(context,result){var i,len,elem,rv=[];for(i=0,len=result.length;i<len;i++)elem=result[i],rv.push(elem);return rv}},"..":function(next,token){return function(context,result){var i,len,elem,rv=[],parent_map=context.parent_map;for(parent_map||(context.parent_map=parent_map={},context.root.iter(null,function(p){p._children.forEach(function(e){parent_map[e]=p})})),i=0,len=result.length;i<len;i++)elem=result[i],parent_map.hasOwnProperty(elem)&&rv.push(parent_map[elem]);return rv}},"//":function(next,token){var tag;if("*"===(token=next())[1])tag="*";else{if(token[1])throw new SyntaxError(token);tag=token[0]||""}return function(context,result){var i,len,elem,rv=[];for(i=0,len=result.length;i<len;i++)(elem=result[i]).iter(tag,function(e){e!==elem&&rv.push(e)});return rv}},"[":function(next,token){var tag,key,value,select;if("@"===(token=next())[1]){if((token=next())[1])throw new SyntaxError(token,"Invalid attribute predicate");if(key=token[0],"]"===(token=next())[1])select=function(context,result){var i,len,elem,rv=[];for(i=0,len=result.length;i<len;i++)(elem=result[i]).get(key)&&rv.push(elem);return rv};else if("="===token[1]){if('"'!==(value=next()[1])[0]&&"'"!==value[value.length-1])throw new SyntaxError(token,"Ivalid comparison target");value=value.slice(1,value.length-1),token=next(),select=function(context,result){var i,len,elem,rv=[];for(i=0,len=result.length;i<len;i++)(elem=result[i]).get(key)===value&&rv.push(elem);return rv}}if("]"!==token[1])throw new SyntaxError(token,"Invalid attribute predicate")}else{if(token[1])throw new SyntaxError(null,"Invalid predicate");if(tag=token[0]||"","]"!==(token=next())[1])throw new SyntaxError(token,"Invalid node predicate");select=function(context,result){var i,len,elem,rv=[];for(i=0,len=result.length;i<len;i++)(elem=result[i]).find(tag)&&rv.push(elem);return rv}}return select}};function _SelectorContext(root){this.parent_map=null,this.root=root}function findall(elem,path){var selector,result,i,len,token,value,select,context;if(_cache.hasOwnProperty(path))selector=_cache[path];else{if(100<Object.keys(_cache).length&&(_cache={}),"/"===path.charAt(0))throw new SyntaxError(null,"Cannot use absolute path on element");function getToken(){return result.shift()}for(result=xpath_tokenizer(path),selector=[],token=getToken();;){var c=token[1]||"";if(!(value=ops[c](getToken,token)))throw new SyntaxError(null,sprintf("Invalid path: %s",path));if(selector.push(value),!(token=getToken()))break;if("/"===token[1]&&(token=getToken()),!token)break}_cache[path]=selector}for(result=[elem],context=new _SelectorContext(elem),i=0,len=selector.length;i<len;i++)select=selector[i],result=select(context,result);return result||[]}exports.find=function(element,path){var resultElements=findall(element,path);return resultElements&&0<resultElements.length?resultElements[0]:null},exports.findall=findall,exports.findtext=function(element,path,defvalue){var resultElements=findall(element,path);return resultElements&&0<resultElements.length?resultElements[0].text:defvalue}}),require.define("/node_modules/elementtree/lib/errors.js",function(require,module,exports,__dirname,__filename){var util=require("util"),sprintf=require("./sprintf").sprintf;function SyntaxError(token,msg){msg=msg||sprintf("Syntax Error at token %s",token.toString()),this.token=token,this.message=msg,Error.call(this,msg)}util.inherits(SyntaxError,Error),exports.SyntaxError=SyntaxError}),require.define("util",function(require,module,exports,__dirname,__filename){function isArray(ar){return ar instanceof Array||Array.isArray(ar)||ar&&ar!==Object.prototype&&isArray(ar.__proto__)}function isRegExp(re){return re instanceof RegExp||"object"==typeof re&&"[object RegExp]"===Object.prototype.toString.call(re)}function isDate(d){if(d instanceof Date)return!0;if("object"!=typeof d)return!1;var properties=Date.prototype&&Object_getOwnPropertyNames(Date.prototype),proto=d.__proto__&&Object_getOwnPropertyNames(d.__proto__);return JSON.stringify(proto)===JSON.stringify(properties)}require("events"),exports.print=function(){},exports.puts=function(){},exports.debug=function(){},exports.inspect=function(obj,showHidden,depth,colors){var seen=[],stylize=function(str,styleType){var styles={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},style={special:"cyan",number:"blue",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"}[styleType];return style?"["+styles[style][0]+"m"+str+"["+styles[style][1]+"m":str};return colors||(stylize=function(str,styleType){return str}),function format(value,recurseTimes){if(value&&"function"==typeof value.inspect&&value!==exports&&(!value.constructor||value.constructor.prototype!==value))return value.inspect(recurseTimes);switch(typeof value){case"undefined":return stylize("undefined","undefined");case"string":var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return stylize(simple,"string");case"number":return stylize(""+value,"number");case"boolean":return stylize(""+value,"boolean")}if(null===value)return stylize("null","null");var base,type,braces,visible_keys=Object_keys(value),keys=showHidden?Object_getOwnPropertyNames(value):visible_keys;if("function"==typeof value&&0===keys.length){if(isRegExp(value))return stylize(""+value,"regexp");var name=value.name?": "+value.name:"";return stylize("[Function"+name+"]","special")}if(isDate(value)&&0===keys.length)return stylize(value.toUTCString(),"date");if(braces=isArray(value)?(type="Array",["[","]"]):(type="Object",["{","}"]),"function"==typeof value){var n=value.name?": "+value.name:"";base=isRegExp(value)?" "+value:" [Function"+n+"]"}else base="";if(isDate(value)&&(base=" "+value.toUTCString()),0===keys.length)return braces[0]+base+braces[1];if(recurseTimes<0)return isRegExp(value)?stylize(""+value,"regexp"):stylize("[Object]","special");seen.push(value);var output=keys.map(function(key){var name,str;if(value.__lookupGetter__&&(value.__lookupGetter__(key)?str=value.__lookupSetter__(key)?stylize("[Getter/Setter]","special"):stylize("[Getter]","special"):value.__lookupSetter__(key)&&(str=stylize("[Setter]","special"))),visible_keys.indexOf(key)<0&&(name="["+key+"]"),str||(seen.indexOf(value[key])<0?-1<(str=null===recurseTimes?format(value[key]):format(value[key],recurseTimes-1)).indexOf("\n")&&(str=isArray(value)?str.split("\n").map(function(line){return"  "+line}).join("\n").substr(2):"\n"+str.split("\n").map(function(line){return"   "+line}).join("\n")):str=stylize("[Circular]","special")),void 0===name){if("Array"===type&&key.match(/^\d+$/))return str;name=(name=JSON.stringify(""+key)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(name=name.substr(1,name.length-2),stylize(name,"name")):(name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),stylize(name,"string"))}return name+": "+str});return seen.pop(),output=50<output.reduce(function(prev,cur){return cur.indexOf("\n"),prev+cur.length+1},0)?braces[0]+(""===base?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1]:braces[0]+base+" "+output.join(", ")+" "+braces[1]}(obj,void 0===depth?2:depth)},exports.log=function(msg){},exports.pump=null;var Object_keys=Object.keys||function(obj){var res=[];for(var key in obj)res.push(key);return res},Object_getOwnPropertyNames=Object.getOwnPropertyNames||function(obj){var res=[];for(var key in obj)Object.hasOwnProperty.call(obj,key)&&res.push(key);return res},Object_create=Object.create||function(prototype,properties){var object;if(null===prototype)object={__proto__:null};else{if("object"!=typeof prototype)throw new TypeError("typeof prototype["+typeof prototype+"] != 'object'");var Type=function(){};Type.prototype=prototype,(object=new Type).__proto__=prototype}return void 0!==properties&&Object.defineProperties&&Object.defineProperties(object,properties),object};exports.inherits=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object_create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})}}),require.define("events",function(require,module,exports,__dirname,__filename){process.EventEmitter||(process.EventEmitter=function(){});var EventEmitter=exports.EventEmitter=process.EventEmitter,isArray="function"==typeof Array.isArray?Array.isArray:function(xs){return"[object Array]"===Object.toString.call(xs)};EventEmitter.prototype.setMaxListeners=function(n){this._events||(this._events={}),this._events.maxListeners=n},EventEmitter.prototype.emit=function(type){if("error"===type&&(!this._events||!this._events.error||isArray(this._events.error)&&!this._events.error.length))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var handler=this._events[type];if(!handler)return!1;if("function"==typeof handler){switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:var args=Array.prototype.slice.call(arguments,1);handler.apply(this,args)}return!0}if(isArray(handler)){args=Array.prototype.slice.call(arguments,1);for(var listeners=handler.slice(),i=0,l=listeners.length;i<l;i++)listeners[i].apply(this,args);return!0}return!1},EventEmitter.prototype.addListener=function(type,listener){if("function"!=typeof listener)throw new Error("addListener only takes instances of Function");if(this._events||(this._events={}),this.emit("newListener",type,listener),this._events[type])if(isArray(this._events[type])){var m;this._events[type].warned||(m=void 0!==this._events.maxListeners?this._events.maxListeners:10)&&0<m&&this._events[type].length>m&&(this._events[type].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[type].length),console.trace()),this._events[type].push(listener)}else this._events[type]=[this._events[type],listener];else this._events[type]=listener;return this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(type,listener){var self=this;return self.on(type,function g(){self.removeListener(type,g),listener.apply(this,arguments)}),this},EventEmitter.prototype.removeListener=function(type,listener){if("function"!=typeof listener)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[type])return this;var list=this._events[type];if(isArray(list)){var i=list.indexOf(listener);if(i<0)return this;list.splice(i,1),0==list.length&&delete this._events[type]}else this._events[type]===listener&&delete this._events[type];return this},EventEmitter.prototype.removeAllListeners=function(type){return type&&this._events&&this._events[type]&&(this._events[type]=null),this},EventEmitter.prototype.listeners=function(type){return this._events||(this._events={}),this._events[type]||(this._events[type]=[]),isArray(this._events[type])||(this._events[type]=[this._events[type]]),this._events[type]}}),require.define("/node_modules/elementtree/lib/treebuilder.js",function(require,module,exports,__dirname,__filename){function TreeBuilder(element_factory){this._data=[],this._elem=[],this._last=null,this._tail=null,element_factory||(element_factory=require("./elementtree").Element),this._factory=element_factory}TreeBuilder.prototype.close=function(){return this._last},TreeBuilder.prototype._flush=function(){if(this._data){if(null!==this._last){var text=this._data.join("");this._tail?this._last.tail=text:this._last.text=text}this._data=[]}},TreeBuilder.prototype.data=function(data){this._data.push(data)},TreeBuilder.prototype.start=function(tag,attrs){this._flush();var elem=this._factory(tag,attrs);this._last=elem,this._elem.length&&this._elem[this._elem.length-1].append(elem),this._elem.push(elem),this._tail=null},TreeBuilder.prototype.end=function(tag){if(this._flush(),this._last=this._elem.pop(),this._last.tag!==tag)throw new Error("end tag mismatch");return this._tail=1,this._last},exports.TreeBuilder=TreeBuilder}),require.define("/node_modules/elementtree/lib/parser.js",function(require,module,exports,__dirname,__filename){require("util");var parsers=require("./parsers/index");exports.get_parser=function(name){if("sax"===name)return parsers.sax;throw new Error("Invalid parser: "+name)}}),require.define("/node_modules/elementtree/lib/parsers/index.js",function(require,module,exports,__dirname,__filename){exports.sax=require("./sax")}),require.define("/node_modules/elementtree/lib/parsers/sax.js",function(require,module,exports,__dirname,__filename){require("util");var sax=require("sax"),TreeBuilder=require("./../treebuilder").TreeBuilder;function XMLParser(target){this.parser=sax.parser(!0),this.target=target||new TreeBuilder,this.parser.onopentag=this._handleOpenTag.bind(this),this.parser.ontext=this._handleText.bind(this),this.parser.oncdata=this._handleCdata.bind(this),this.parser.ondoctype=this._handleDoctype.bind(this),this.parser.oncomment=this._handleComment.bind(this),this.parser.onclosetag=this._handleCloseTag.bind(this),this.parser.onerror=this._handleError.bind(this)}XMLParser.prototype._handleOpenTag=function(tag){this.target.start(tag.name,tag.attributes)},XMLParser.prototype._handleText=function(text){this.target.data(text)},XMLParser.prototype._handleCdata=function(text){this.target.data(text)},XMLParser.prototype._handleDoctype=function(text){},XMLParser.prototype._handleComment=function(comment){},XMLParser.prototype._handleCloseTag=function(tag){this.target.end(tag)},XMLParser.prototype._handleError=function(err){throw err},XMLParser.prototype.feed=function(chunk){this.parser.write(chunk)},XMLParser.prototype.close=function(){return this.parser.close(),this.target.close()},exports.XMLParser=XMLParser}),require.define("/node_modules/elementtree/node_modules/sax/package.json",function(require,module,exports,__dirname,__filename){module.exports={main:"lib/sax.js"}}),require.define("/node_modules/elementtree/node_modules/sax/lib/sax.js",function(require,module,exports,__dirname,__filename){!function(sax){sax.parser=function(strict,opt){return new SAXParser(strict,opt)},sax.SAXParser=SAXParser,sax.SAXStream=SAXStream,sax.createStream=function(strict,opt){return new SAXStream(strict,opt)},sax.MAX_BUFFER_LENGTH=65536;var buffers=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function SAXParser(strict,opt){if(!(this instanceof SAXParser))return new SAXParser(strict,opt);!function(parser){for(var i=0,l=buffers.length;i<l;i++)parser[buffers[i]]=""}(this),this.q=this.c="",this.bufferCheckPosition=sax.MAX_BUFFER_LENGTH,this.opt=opt||{},this.tagCase=this.opt.lowercasetags?"toLowerCase":"toUpperCase",this.tags=[],this.closed=this.closedRoot=this.sawRoot=!1,this.tag=this.error=null,this.strict=!!strict,this.noscript=!(!strict&&!this.opt.noscript),this.state=S.BEGIN,this.ENTITIES=Object.create(sax.ENTITIES),this.attribList=[],this.opt.xmlns&&(this.ns=Object.create(rootNS)),this.position=this.line=this.column=0,emit(this,"onready")}sax.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(o){function f(){this.__proto__=o}return f.prototype=o,new f}),Object.getPrototypeOf||(Object.getPrototypeOf=function(o){return o.__proto__}),Object.keys||(Object.keys=function(o){var a=[];for(var i in o)o.hasOwnProperty(i)&&a.push(i);return a}),SAXParser.prototype={end:function(){end(this)},write:function(chunk){if(this.error)throw this.error;if(this.closed)return error(this,"Cannot write after close. Assign an onready handler.");if(null===chunk)return end(this);for(var i=0,c="";this.c=c=chunk.charAt(i++);)switch(this.position++,"\n"===c?(this.line++,this.column=0):this.column++,this.state){case S.BEGIN:"<"===c?this.state=S.OPEN_WAKA:not(whitespace,c)&&(strictFail(this,"Non-whitespace before first tag."),this.textNode=c,this.state=S.TEXT);continue;case S.TEXT:if(this.sawRoot&&!this.closedRoot){for(var starti=i-1;c&&"<"!==c&&"&"!==c;)(c=chunk.charAt(i++))&&(this.position++,"\n"===c?(this.line++,this.column=0):this.column++);this.textNode+=chunk.substring(starti,i-1)}"<"===c?this.state=S.OPEN_WAKA:(!not(whitespace,c)||this.sawRoot&&!this.closedRoot||strictFail("Text data outside of root node."),"&"===c?this.state=S.TEXT_ENTITY:this.textNode+=c);continue;case S.SCRIPT:"<"===c?this.state=S.SCRIPT_ENDING:this.script+=c;continue;case S.SCRIPT_ENDING:"/"===c?(emitNode(this,"onscript",this.script),this.state=S.CLOSE_TAG,this.script="",this.tagName=""):(this.script+="<"+c,this.state=S.SCRIPT);continue;case S.OPEN_WAKA:"!"===c?(this.state=S.SGML_DECL,this.sgmlDecl=""):is(whitespace,c)||(is(nameStart,c)?(this.startTagPosition=this.position-1,this.state=S.OPEN_TAG,this.tagName=c):"/"===c?(this.startTagPosition=this.position-1,this.state=S.CLOSE_TAG,this.tagName=""):"?"===c?(this.state=S.PROC_INST,this.procInstName=this.procInstBody=""):(strictFail(this,"Unencoded <"),this.textNode+="<"+c,this.state=S.TEXT));continue;case S.SGML_DECL:(this.sgmlDecl+c).toUpperCase()===CDATA?(emitNode(this,"onopencdata"),this.state=S.CDATA,this.sgmlDecl="",this.cdata=""):this.sgmlDecl+c==="--"?(this.state=S.COMMENT,this.comment="",this.sgmlDecl=""):(this.sgmlDecl+c).toUpperCase()===DOCTYPE?(this.state=S.DOCTYPE,(this.doctype||this.sawRoot)&&strictFail(this,"Inappropriately located doctype declaration"),this.doctype="",this.sgmlDecl=""):">"===c?(emitNode(this,"onsgmldeclaration",this.sgmlDecl),this.sgmlDecl="",this.state=S.TEXT):(is(quote,c)&&(this.state=S.SGML_DECL_QUOTED),this.sgmlDecl+=c);continue;case S.SGML_DECL_QUOTED:c===this.q&&(this.state=S.SGML_DECL,this.q=""),this.sgmlDecl+=c;continue;case S.DOCTYPE:">"===c?(this.state=S.TEXT,emitNode(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=c,"["===c?this.state=S.DOCTYPE_DTD:is(quote,c)&&(this.state=S.DOCTYPE_QUOTED,this.q=c));continue;case S.DOCTYPE_QUOTED:this.doctype+=c,c===this.q&&(this.q="",this.state=S.DOCTYPE);continue;case S.DOCTYPE_DTD:this.doctype+=c,"]"===c?this.state=S.DOCTYPE:is(quote,c)&&(this.state=S.DOCTYPE_DTD_QUOTED,this.q=c);continue;case S.DOCTYPE_DTD_QUOTED:this.doctype+=c,c===this.q&&(this.state=S.DOCTYPE_DTD,this.q="");continue;case S.COMMENT:"-"===c?this.state=S.COMMENT_ENDING:this.comment+=c;continue;case S.COMMENT_ENDING:"-"===c?(this.state=S.COMMENT_ENDED,this.comment=textopts(this.opt,this.comment),this.comment&&emitNode(this,"oncomment",this.comment),this.comment=""):(this.comment+="-"+c,this.state=S.COMMENT);continue;case S.COMMENT_ENDED:">"!==c?(strictFail(this,"Malformed comment"),this.comment+="--"+c,this.state=S.COMMENT):this.state=S.TEXT;continue;case S.CDATA:"]"===c?this.state=S.CDATA_ENDING:this.cdata+=c;continue;case S.CDATA_ENDING:"]"===c?this.state=S.CDATA_ENDING_2:(this.cdata+="]"+c,this.state=S.CDATA);continue;case S.CDATA_ENDING_2:">"===c?(this.cdata&&emitNode(this,"oncdata",this.cdata),emitNode(this,"onclosecdata"),this.cdata="",this.state=S.TEXT):"]"===c?this.cdata+="]":(this.cdata+="]]"+c,this.state=S.CDATA);continue;case S.PROC_INST:"?"===c?this.state=S.PROC_INST_ENDING:is(whitespace,c)?this.state=S.PROC_INST_BODY:this.procInstName+=c;continue;case S.PROC_INST_BODY:if(!this.procInstBody&&is(whitespace,c))continue;"?"===c?this.state=S.PROC_INST_ENDING:(is(quote,c)&&(this.state=S.PROC_INST_QUOTED,this.q=c),this.procInstBody+=c);continue;case S.PROC_INST_ENDING:">"===c?(emitNode(this,"onprocessinginstruction",{name:this.procInstName,body:this.procInstBody}),this.procInstName=this.procInstBody="",this.state=S.TEXT):(this.procInstBody+="?"+c,this.state=S.PROC_INST_BODY);continue;case S.PROC_INST_QUOTED:this.procInstBody+=c,c===this.q&&(this.state=S.PROC_INST_BODY,this.q="");continue;case S.OPEN_TAG:is(nameBody,c)?this.tagName+=c:(newTag(this),">"===c?openTag(this):"/"===c?this.state=S.OPEN_TAG_SLASH:(not(whitespace,c)&&strictFail(this,"Invalid character in tag name"),this.state=S.ATTRIB));continue;case S.OPEN_TAG_SLASH:">"===c?(openTag(this,!0),closeTag(this)):(strictFail(this,"Forward-slash in opening tag not followed by >"),this.state=S.ATTRIB);continue;case S.ATTRIB:if(is(whitespace,c))continue;">"===c?openTag(this):"/"===c?this.state=S.OPEN_TAG_SLASH:is(nameStart,c)?(this.attribName=c,this.attribValue="",this.state=S.ATTRIB_NAME):strictFail(this,"Invalid attribute name");continue;case S.ATTRIB_NAME:"="===c?this.state=S.ATTRIB_VALUE:is(whitespace,c)?this.state=S.ATTRIB_NAME_SAW_WHITE:is(nameBody,c)?this.attribName+=c:strictFail(this,"Invalid attribute name");continue;case S.ATTRIB_NAME_SAW_WHITE:if("="===c)this.state=S.ATTRIB_VALUE;else{if(is(whitespace,c))continue;strictFail(this,"Attribute without value"),this.tag.attributes[this.attribName]="",this.attribValue="",emitNode(this,"onattribute",{name:this.attribName,value:""}),this.attribName="",">"===c?openTag(this):is(nameStart,c)?(this.attribName=c,this.state=S.ATTRIB_NAME):(strictFail(this,"Invalid attribute name"),this.state=S.ATTRIB)}continue;case S.ATTRIB_VALUE:if(is(whitespace,c))continue;is(quote,c)?(this.q=c,this.state=S.ATTRIB_VALUE_QUOTED):(strictFail(this,"Unquoted attribute value"),this.state=S.ATTRIB_VALUE_UNQUOTED,this.attribValue=c);continue;case S.ATTRIB_VALUE_QUOTED:if(c!==this.q){"&"===c?this.state=S.ATTRIB_VALUE_ENTITY_Q:this.attribValue+=c;continue}attrib(this),this.q="",this.state=S.ATTRIB;continue;case S.ATTRIB_VALUE_UNQUOTED:if(not(attribEnd,c)){"&"===c?this.state=S.ATTRIB_VALUE_ENTITY_U:this.attribValue+=c;continue}attrib(this),">"===c?openTag(this):this.state=S.ATTRIB;continue;case S.CLOSE_TAG:if(this.tagName)">"===c?closeTag(this):is(nameBody,c)?this.tagName+=c:(not(whitespace,c)&&strictFail(this,"Invalid tagname in closing tag"),this.state=S.CLOSE_TAG_SAW_WHITE);else{if(is(whitespace,c))continue;not(nameStart,c)?strictFail(this,"Invalid tagname in closing tag."):this.tagName=c}continue;case S.CLOSE_TAG_SAW_WHITE:if(is(whitespace,c))continue;">"===c?closeTag(this):strictFail("Invalid characters in closing tag");continue;case S.TEXT_ENTITY:case S.ATTRIB_VALUE_ENTITY_Q:case S.ATTRIB_VALUE_ENTITY_U:switch(this.state){case S.TEXT_ENTITY:var returnState=S.TEXT,buffer="textNode";break;case S.ATTRIB_VALUE_ENTITY_Q:var returnState=S.ATTRIB_VALUE_QUOTED,buffer="attribValue";break;case S.ATTRIB_VALUE_ENTITY_U:var returnState=S.ATTRIB_VALUE_UNQUOTED,buffer="attribValue"}";"===c?(this[buffer]+=parseEntity(this),this.entity="",this.state=returnState):is(entity,c)?this.entity+=c:(strictFail("Invalid character entity"),this[buffer]+="&"+this.entity+c,this.entity="",this.state=returnState);continue;default:throw new Error(this,"Unknown state: "+this.state)}return this.position>=this.bufferCheckPosition&&function(parser){for(var maxAllowed=Math.max(sax.MAX_BUFFER_LENGTH,10),maxActual=0,i=0,l=buffers.length;i<l;i++){var len=parser[buffers[i]].length;if(maxAllowed<len)switch(buffers[i]){case"textNode":closeText(parser);break;case"cdata":emitNode(parser,"oncdata",parser.cdata),parser.cdata="";break;case"script":emitNode(parser,"onscript",parser.script),parser.script="";break;default:error(parser,"Max buffer length exceeded: "+buffers[i])}maxActual=Math.max(maxActual,len)}parser.bufferCheckPosition=sax.MAX_BUFFER_LENGTH-maxActual+parser.position}(this),this},resume:function(){return this.error=null,this},close:function(){return this.write(null)},end:function(){return this.write(null)}};try{var Stream=require("stream").Stream}catch(ex){Stream=function(){}}var streamWraps=sax.EVENTS.filter(function(ev){return"error"!==ev&&"end"!==ev});function SAXStream(strict,opt){if(!(this instanceof SAXStream))return new SAXStream(strict,opt);Stream.apply(me),this._parser=new SAXParser(strict,opt),this.writable=!0,this.readable=!0;var me=this;this._parser.onend=function(){me.emit("end")},this._parser.onerror=function(er){me.emit("error",er),me._parser.error=null},streamWraps.forEach(function(ev){Object.defineProperty(me,"on"+ev,{get:function(){return me._parser["on"+ev]},set:function(h){if(!h)return me.removeAllListeners(ev),me._parser["on"+ev]=h;me.on(ev,h)},enumerable:!0,configurable:!1})})}(SAXStream.prototype=Object.create(Stream.prototype,{constructor:{value:SAXStream}})).write=function(data){return this._parser.write(data.toString()),this.emit("data",data),!0},SAXStream.prototype.end=function(chunk){return chunk&&chunk.length&&this._parser.write(chunk.toString()),this._parser.end(),!0},SAXStream.prototype.on=function(ev,handler){var me=this;return me._parser["on"+ev]||-1===streamWraps.indexOf(ev)||(me._parser["on"+ev]=function(){var args=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);args.splice(0,0,ev),me.emit.apply(me,args)}),Stream.prototype.on.call(me,ev,handler)};var whitespace="\r\n\t ",number="0124356789",letter="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",nameStart=letter+"_:",nameBody=nameStart+number+"-.",quote="'\"",entity=number+letter+"#",attribEnd=whitespace+">",CDATA="[CDATA[",DOCTYPE="DOCTYPE",XML_NAMESPACE="http://www.w3.org/XML/1998/namespace",XMLNS_NAMESPACE="http://www.w3.org/2000/xmlns/",rootNS={xml:XML_NAMESPACE,xmlns:XMLNS_NAMESPACE};function charClass(str){return str.split("").reduce(function(s,c){return s[c]=!0,s},{})}function is(charclass,c){return charclass[c]}function not(charclass,c){return!charclass[c]}whitespace=charClass(whitespace),number=charClass(number),letter=charClass(letter),nameStart=charClass(nameStart),nameBody=charClass(nameBody),quote=charClass(quote),entity=charClass(entity),attribEnd=charClass(attribEnd);var S=0;for(var S in sax.STATE={BEGIN:S++,TEXT:S++,TEXT_ENTITY:S++,OPEN_WAKA:S++,SGML_DECL:S++,SGML_DECL_QUOTED:S++,DOCTYPE:S++,DOCTYPE_QUOTED:S++,DOCTYPE_DTD:S++,DOCTYPE_DTD_QUOTED:S++,COMMENT_STARTING:S++,COMMENT:S++,COMMENT_ENDING:S++,COMMENT_ENDED:S++,CDATA:S++,CDATA_ENDING:S++,CDATA_ENDING_2:S++,PROC_INST:S++,PROC_INST_BODY:S++,PROC_INST_QUOTED:S++,PROC_INST_ENDING:S++,OPEN_TAG:S++,OPEN_TAG_SLASH:S++,ATTRIB:S++,ATTRIB_NAME:S++,ATTRIB_NAME_SAW_WHITE:S++,ATTRIB_VALUE:S++,ATTRIB_VALUE_QUOTED:S++,ATTRIB_VALUE_UNQUOTED:S++,ATTRIB_VALUE_ENTITY_Q:S++,ATTRIB_VALUE_ENTITY_U:S++,CLOSE_TAG:S++,CLOSE_TAG_SAW_WHITE:S++,SCRIPT:S++,SCRIPT_ENDING:S++},sax.ENTITIES={apos:"'",quot:'"',amp:"&",gt:">",lt:"<"},sax.STATE)sax.STATE[sax.STATE[S]]=S;function emit(parser,event,data){parser[event]&&parser[event](data)}function emitNode(parser,nodeType,data){parser.textNode&&closeText(parser),emit(parser,nodeType,data)}function closeText(parser){parser.textNode=textopts(parser.opt,parser.textNode),parser.textNode&&emit(parser,"ontext",parser.textNode),parser.textNode=""}function textopts(opt,text){return opt.trim&&(text=text.trim()),opt.normalize&&(text=text.replace(/\s+/g," ")),text}function error(parser,er){return closeText(parser),er+="\nLine: "+parser.line+"\nColumn: "+parser.column+"\nChar: "+parser.c,er=new Error(er),parser.error=er,emit(parser,"onerror",er),parser}function end(parser){return parser.state!==S.TEXT&&error(parser,"Unexpected end"),closeText(parser),parser.c="",parser.closed=!0,emit(parser,"onend"),SAXParser.call(parser,parser.strict,parser.opt),parser}function strictFail(parser,message){parser.strict&&error(parser,message)}function newTag(parser){parser.strict||(parser.tagName=parser.tagName[parser.tagCase]());var parent=parser.tags[parser.tags.length-1]||parser,tag=parser.tag={name:parser.tagName,attributes:{}};parser.opt.xmlns&&(tag.ns=parent.ns),parser.attribList.length=0}function qname(name){var qualName=name.indexOf(":")<0?["",name]:name.split(":"),prefix=qualName[0],local=qualName[1];return"xmlns"===name&&(prefix="xmlns",local=""),{prefix:prefix,local:local}}function attrib(parser){if(parser.opt.xmlns){var qn=qname(parser.attribName),prefix=qn.prefix,local=qn.local;if("xmlns"===prefix)if("xml"===local&&parser.attribValue!==XML_NAMESPACE)strictFail(parser,"xml: prefix must be bound to "+XML_NAMESPACE+"\nActual: "+parser.attribValue);else if("xmlns"===local&&parser.attribValue!==XMLNS_NAMESPACE)strictFail(parser,"xmlns: prefix must be bound to "+XMLNS_NAMESPACE+"\nActual: "+parser.attribValue);else{var tag=parser.tag,parent=parser.tags[parser.tags.length-1]||parser;tag.ns===parent.ns&&(tag.ns=Object.create(parent.ns)),tag.ns[local]=parser.attribValue}parser.attribList.push([parser.attribName,parser.attribValue])}else parser.tag.attributes[parser.attribName]=parser.attribValue,emitNode(parser,"onattribute",{name:parser.attribName,value:parser.attribValue});parser.attribName=parser.attribValue=""}function openTag(parser,selfClosing){if(parser.opt.xmlns){var tag=parser.tag,qn=qname(parser.tagName);tag.prefix=qn.prefix,tag.local=qn.local,tag.uri=tag.ns[qn.prefix]||qn.prefix,tag.prefix&&!tag.uri&&strictFail(parser,"Unbound namespace prefix: "+JSON.stringify(parser.tagName));var parent=parser.tags[parser.tags.length-1]||parser;tag.ns&&parent.ns!==tag.ns&&Object.keys(tag.ns).forEach(function(p){emitNode(parser,"onopennamespace",{prefix:p,uri:tag.ns[p]})});for(var i=0,l=parser.attribList.length;i<l;i++){var nv=parser.attribList[i],name=nv[0],value=nv[1],qualName=qname(name),prefix=qualName.prefix,local=qualName.local,uri=tag.ns[prefix]||"",a={name:name,value:value,prefix:prefix,local:local,uri:uri};prefix&&"xmlns"!=prefix&&!uri&&(strictFail(parser,"Unbound namespace prefix: "+JSON.stringify(prefix)),a.uri=prefix),parser.tag.attributes[name]=a,emitNode(parser,"onattribute",a)}parser.attribList.length=0}parser.sawRoot=!0,parser.tags.push(parser.tag),emitNode(parser,"onopentag",parser.tag),selfClosing||(parser.noscript||"script"!==parser.tagName.toLowerCase()?parser.state=S.TEXT:parser.state=S.SCRIPT,parser.tag=null,parser.tagName=""),parser.attribName=parser.attribValue="",parser.attribList.length=0}function closeTag(parser){if(!parser.tagName)return strictFail(parser,"Weird empty close tag."),parser.textNode+="</>",void(parser.state=S.TEXT);var t=parser.tags.length,tagName=parser.tagName;parser.strict||(tagName=tagName[parser.tagCase]());for(var closeTo=tagName;t--&&parser.tags[t].name!==closeTo;)strictFail(parser,"Unexpected close tag");if(t<0)return strictFail(parser,"Unmatched closing tag: "+parser.tagName),parser.textNode+="</"+parser.tagName+">",void(parser.state=S.TEXT);parser.tagName=tagName;for(var s=parser.tags.length;s-- >t;){var tag=parser.tag=parser.tags.pop();parser.tagName=parser.tag.name,emitNode(parser,"onclosetag",parser.tagName);var x={};for(var i in tag.ns)x[i]=tag.ns[i];var parent=parser.tags[parser.tags.length-1]||parser;parser.opt.xmlns&&tag.ns!==parent.ns&&Object.keys(tag.ns).forEach(function(p){var n=tag.ns[p];emitNode(parser,"onclosenamespace",{prefix:p,uri:n})})}0===t&&(parser.closedRoot=!0),parser.tagName=parser.attribValue=parser.attribName="",parser.attribList.length=0,parser.state=S.TEXT}function parseEntity(parser){var num,entity=parser.entity.toLowerCase(),numStr="";return parser.ENTITIES[entity]?parser.ENTITIES[entity]:("#"===entity.charAt(0)&&(numStr="x"===entity.charAt(1)?(entity=entity.slice(2),(num=parseInt(entity,16)).toString(16)):(entity=entity.slice(1),(num=parseInt(entity,10)).toString(10))),entity=entity.replace(/^0+/,""),numStr.toLowerCase()!==entity?(strictFail(parser,"Invalid character entity"),"&"+parser.entity+";"):String.fromCharCode(num))}S=sax.STATE}(void 0===exports?sax={}:exports)}),require.define("stream",function(require,module,exports,__dirname,__filename){var events=require("events");function Stream(){events.EventEmitter.call(this)}require("util").inherits(Stream,events.EventEmitter),((module.exports=Stream).Stream=Stream).prototype.pipe=function(dest,options){var source=this;function ondata(chunk){dest.writable&&!1===dest.write(chunk)&&source.pause&&source.pause()}function ondrain(){source.readable&&source.resume&&source.resume()}source.on("data",ondata),dest.on("drain",ondrain),dest._isStdio||options&&!1===options.end||(dest._pipeCount=dest._pipeCount||0,dest._pipeCount++,source.on("end",onend),source.on("close",onclose));var didOnEnd=!1;function onend(){didOnEnd||(didOnEnd=!0,dest._pipeCount--,cleanup(),0<dest._pipeCount||dest.end())}function onclose(){didOnEnd||(didOnEnd=!0,dest._pipeCount--,cleanup(),0<dest._pipeCount||dest.destroy())}function onerror(er){if(cleanup(),0===this.listeners("error").length)throw er}function cleanup(){source.removeListener("data",ondata),dest.removeListener("drain",ondrain),source.removeListener("end",onend),source.removeListener("close",onclose),source.removeListener("error",onerror),dest.removeListener("error",onerror),source.removeListener("end",cleanup),source.removeListener("close",cleanup),dest.removeListener("end",cleanup),dest.removeListener("close",cleanup)}return source.on("error",onerror),dest.on("error",onerror),source.on("end",cleanup),source.on("close",cleanup),dest.on("end",cleanup),dest.on("close",cleanup),dest.emit("pipe",source),dest}}),require.define("/node_modules/elementtree/lib/constants.js",function(require,module,exports,__dirname,__filename){exports.DEFAULT_PARSER="sax"}),require.define("/lib/modularinputs/inputdefinition.js",function(require,module,exports,__dirname,__filename){
/*!*/
!function(){var ET=require("elementtree"),utils=require("./utils");function InputDefinition(){this.metadata={},this.inputs={}}InputDefinition.parse=function(str){for(var definition=new InputDefinition,rootChildren=ET.parse(str).getroot().getchildren(),i=0;i<rootChildren.length;i++){var node=rootChildren[i];"configuration"===node.tag?definition.inputs=utils.parseXMLData(node,"stanza"):definition.metadata[node.tag]=node.text}return definition},module.exports=InputDefinition}()}),require.define("/lib/modularinputs/event.js",function(require,module,exports,__dirname,__filename){
/*!*/
!function(){var ET=require("elementtree"),utils=require("./utils");function Event(eventConfig){eventConfig=utils.isUndefined(eventConfig)?{}:eventConfig,this.data=utils.isUndefined(eventConfig.data)?null:eventConfig.data,this.done=!!utils.isUndefined(eventConfig.done)||eventConfig.done,this.host=utils.isUndefined(eventConfig.host)?null:eventConfig.host,this.index=utils.isUndefined(eventConfig.index)?null:eventConfig.index,this.source=utils.isUndefined(eventConfig.source)?null:eventConfig.source,this.sourcetype=utils.isUndefined(eventConfig.sourcetype)?null:eventConfig.sourcetype,this.stanza=utils.isUndefined(eventConfig.stanza)?null:eventConfig.stanza,this.unbroken=!!utils.isUndefined(eventConfig.unbroken)||eventConfig.unbroken,this.time=utils.isUndefined(eventConfig.time)?null:eventConfig.time}Event.formatTime=function(time){return time instanceof Date&&(time=time.valueOf()),time&&null!==time?-1!==time.toString().indexOf(".")?10<=(time=parseFloat(time).toFixed(3)).toString().indexOf(".")?parseFloat(time.toString().substring(0,14)).toFixed(3):time.toString().length<=13||time.toString().indexOf(".")<10?parseFloat(time).toFixed(3):(parseFloat(time.toString().substring(0,14))/1e3).toFixed(3):13===time.toString().length?(parseFloat(time)/1e3).toFixed(3):time.toString().length<=12?parseFloat(time).toFixed(3):parseFloat(time.toString().substring(0,13)/1e3).toFixed(3):null},Event.prototype._writeTo=function(stream){if(!this.data)throw new Error("Events must have at least the data field set to be written to XML.");var xmlEvent=ET.Element("event");this.stanza&&xmlEvent.set("stanza",this.stanza),xmlEvent.set("unbroken",(+this.unbroken).toString()),utils.isUndefined(this.time)||null===this.time||(ET.SubElement(xmlEvent,"time").text=Event.formatTime(this.time).toString()),"object"==typeof this.data&&(this.data=JSON.stringify(this.data));for(var subElements=[{tag:"source",text:this.source},{tag:"sourcetype",text:this.sourcetype},{tag:"index",text:this.index},{tag:"host",text:this.host},{tag:"data",text:this.data}],i=0;i<subElements.length;i++){var node=subElements[i];node.text&&(ET.SubElement(xmlEvent,node.tag).text=node.text)}!this.done&&utils.isUndefined(this.done)||ET.SubElement(xmlEvent,"done");var eventString=ET.tostring(xmlEvent,{xml_declaration:!1});stream.write(eventString)},module.exports=Event}()}),require.define("/lib/modularinputs/eventwriter.js",function(require,module,exports,__dirname,__filename){
/*!*/
!function(){var ET=require("elementtree"),utils=require("./utils"),Logger=require("./logger");function EventWriter(output,error){this._out=utils.isUndefined(output)?process.stdout:output,this._err=utils.isUndefined(error)?process.stderr:error,this._headerWritten=!1}require("stream"),require("../async"),EventWriter.prototype.writeEvent=function(event){this._headerWritten||(this._out.write("<stream>"),this._headerWritten=!0);try{event._writeTo(this._out)}catch(e){if("Events must have at least the data field set to be written to XML."===e.message)throw Logger.warn("",e.message,this._err),e;throw Logger.error("",e.message,this._err),e}},EventWriter.prototype.writeXMLDocument=function(xmlDocument){var xmlString=ET.tostring(xmlDocument,{xml_declaration:!1});this._out.write(xmlString)},EventWriter.prototype.close=function(){this._out.write("</stream>")},module.exports=EventWriter}()}),require.define("/lib/modularinputs/logger.js",function(require,module,exports,__dirname,__filename){
/*!*/
!function(){"use strict";require("./utils");var root=exports||this;root.DEBUG="DEBUG",root.INFO="INFO",root.WARN="WARN",root.ERROR="ERROR",root.FATAL="FATAL",root._log=function(severity,name,message,logStream){logStream=logStream||process.stderr,name&&0<name.length&&(name+=" ");var msg=severity+" Modular input "+name+message+"\n";logStream.write(msg)},root.debug=function(name,message,stream){try{root._log(root.DEBUG,name,message,stream)}catch(e){throw e}},root.info=function(name,message,stream){try{root._log(root.INFO,name,message,stream)}catch(e){throw e}},root.warn=function(name,message,stream){try{root._log(root.WARN,name,message,stream)}catch(e){throw e}},root.error=function(name,message,stream){try{root._log(root.ERROR,name,message,stream)}catch(e){throw e}},root.fatal=function(name,message,stream){try{root._log(root.FATAL,name,message,stream)}catch(e){throw e}},module.exports=root}()}),require.define("/lib/modularinputs/argument.js",function(require,module,exports,__dirname,__filename){
/*!*/
!function(){var ET=require("elementtree"),utils=require("./utils");function Argument(argumentConfig){argumentConfig||(argumentConfig={}),this.name=utils.isUndefined(argumentConfig.name)?"":argumentConfig.name,this.description=utils.isUndefined(argumentConfig.description)?null:argumentConfig.description,this.validation=utils.isUndefined(argumentConfig.validation)?null:argumentConfig.validation,this.dataType=utils.isUndefined(argumentConfig.dataType)?Argument.dataTypeString:argumentConfig.dataType,this.requiredOnEdit=!utils.isUndefined(argumentConfig.requiredOnEdit)&&argumentConfig.requiredOnEdit,this.requiredOnCreate=!utils.isUndefined(argumentConfig.requiredOnCreate)&&argumentConfig.requiredOnCreate}Argument.dataTypeBoolean="BOOLEAN",Argument.dataTypeNumber="NUMBER",Argument.dataTypeString="STRING",Argument.prototype.addToDocument=function(parent){var arg=ET.SubElement(parent,"arg");arg.set("name",this.name),this.description&&(ET.SubElement(arg,"description").text=this.description),this.validation&&(ET.SubElement(arg,"validation").text=this.validation);for(var subElements=[{tag:"data_type",value:this.dataType},{tag:"required_on_edit",value:this.requiredOnEdit},{tag:"required_on_create",value:this.requiredOnCreate}],i=0;i<subElements.length;i++)ET.SubElement(arg,subElements[i].tag).text=subElements[i].value.toString().toLowerCase();return arg},module.exports=Argument}()}),require.define("/lib/modularinputs/scheme.js",function(require,module,exports,__dirname,__filename){
/*!*/
!function(){var ET=require("elementtree"),utils=require("./utils");function Scheme(title){this.title=utils.isUndefined(title)?"":title,this.description=null,this.useExternalValidation=!0,this.useSingleInstance=!1,this.streamingMode=Scheme.streamingModeXML,this.args=[]}require("./argument"),Scheme.streamingModeSimple="SIMPLE",Scheme.streamingModeXML="XML",Scheme.prototype.addArgument=function(arg){arg&&this.args.push(arg)},Scheme.prototype.toXML=function(){var root=ET.Element("scheme");ET.SubElement(root,"title").text=this.title,this.description&&(ET.SubElement(root,"description").text=this.description);for(var subElements=[{tag:"use_external_validation",value:this.useExternalValidation},{tag:"use_single_instance",value:this.useSingleInstance},{tag:"streaming_mode",value:this.streamingMode}],i=0;i<subElements.length;i++)ET.SubElement(root,subElements[i].tag).text=subElements[i].value.toString().toLowerCase();for(var argsElement=ET.SubElement(ET.SubElement(root,"endpoint"),"args"),j=0;j<this.args.length;j++)this.args[j].addToDocument(argsElement);return root},module.exports=Scheme}()}),require.define("/lib/modularinputs/modularinput.js",function(require,module,exports,__dirname,__filename){
/*!*/
!function(){var ET=require("elementtree"),url=require("url"),utils=require("./utils"),Async=require("../async"),ValidationDefinition=require("./validationdefinition"),InputDefinition=require("./inputdefinition"),Service=(require("./eventwriter"),require("./scheme"),require("../service")),Logger=require("./logger");function ModularInput(){this._inputDefinition=null,this._service=null}ModularInput.runScript=function(exports,args,eventWriter,inputStream,callback){exports.setup=exports.setup||ModularInput.prototype.setup,exports.start=exports.start||ModularInput.prototype.start,exports.end=exports.end||ModularInput.prototype.end,exports.teardown=exports.teardown||ModularInput.prototype.teardown;var that=this;inputStream.resume&&inputStream.resume();var bigBuff=new Buffer(0);if(1===args.length){var inputDefintionsReceivedTimer=setTimeout(function(){callback(new Error("Receiving input definitions prior to streaming timed out."),1)},30500);inputStream.on("data",function(chunk){var bufferString=(bigBuff=Buffer.concat([bigBuff,chunk])).toString("utf8",0,bigBuff.length).trim();if(utils.endsWith(bufferString,"</input>")){clearTimeout(inputDefintionsReceivedTimer);var found=InputDefinition.parse(bufferString);exports._inputDefinition=found,that._inputDefinition=found,Async.chain([function(done){Async.parallelEach(Object.keys(exports._inputDefinition.inputs),function(name,index,doneEach){var input=exports._inputDefinition.inputs[name];Async.chain([function(innerDone){exports.start(name,input,innerDone)},function(innerDone){exports.streamEvents(name,input,eventWriter,innerDone)},function(innerDone){exports.end(name,input,innerDone)}],function(innerErr){doneEach(innerErr,innerErr?1:0)})},function(streamErr){done(streamErr,streamErr?1:0)})}],function(err){eventWriter._headerWritten&&eventWriter.close(),callback(err,err?1:0)})}})}else if(2<=args.length&&"--scheme"===args[1].toString().toLowerCase()){var scheme=exports.getScheme();if(scheme)try{eventWriter.writeXMLDocument(scheme.toXML()),callback(null,0)}catch(e){Logger.fatal("","script could not return the scheme, error: "+e,eventWriter._err),callback(e,1)}else Logger.fatal("","script returned a null scheme.",eventWriter._err),callback(null,1)}else if(2<=args.length&&"--validate-arguments"===args[1].toString().toLowerCase()){var validationDefintionReceivedTimer=setTimeout(function(){callback(new Error("Receiving validation definition prior to validating timed out."),1)},30500);inputStream.on("data",function(chunk){var bufferString=(bigBuff=Buffer.concat([bigBuff,chunk])).toString("utf8",0,bigBuff.length).trim();utils.endsWith(bufferString,"</items>")&&(clearTimeout(validationDefintionReceivedTimer),Async.chain([function(done){try{if(utils.isUndefined(exports.validateInput))done();else{var definition=ValidationDefinition.parse(bigBuff.toString("utf8",0,bigBuff.length));exports.validateInput(definition,done)}}catch(e){done(e)}}],function(err){if(err){Logger.error("",err.message),Logger.error("","Stack trace for a modular input error: "+err.stack);try{var errorRoot=ET.Element("error");ET.SubElement(errorRoot,"message").text=err.message,eventWriter.writeXMLDocument(errorRoot),callback(err,1)}catch(e){callback(e,1)}}else callback(null,0)}))})}else{var msg="Invalid arguments to modular input script: "+args.join()+"\n";Logger.error("",msg,eventWriter._err),callback(msg,1)}},ModularInput.service=function(){if(this._service)return this._service;if(!this._inputDefinition)return null;var splunkdURI=this._inputDefinition.metadata.server_uri,sessionKey=this._inputDefinition.metadata.session_key,urlParts=url.parse(splunkdURI),scheme=urlParts.protocol.replace(":",""),splunkdHost=urlParts.hostname,splunkdPort=urlParts.port;return this._service=new Service({scheme:scheme,host:splunkdHost,port:splunkdPort,token:sessionKey}),this._service},ModularInput.prototype.setup=function(done){done()},ModularInput.prototype.start=function(name,definition,done){done()},ModularInput.prototype.end=function(name,definition,done){done()},ModularInput.prototype.teardown=function(done){done()},module.exports=ModularInput}()}),require.define("url",function(require,module,exports,__dirname,__filename){var punycode={encode:function(s){return s}};exports.parse=urlParse,exports.resolve=function(source,relative){return urlFormat(urlResolveObject(source,relative))},exports.resolveObject=urlResolveObject,exports.format=urlFormat;var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]+$/,delims=["<",">",'"',"`"," ","\r","\n","\t"],unwise=["{","}","|","\\","^","~","[","]","`"].concat(delims),autoEscape=["'"],nonHostChars=["%","/","?",";","#"].concat(unwise).concat(autoEscape),nonAuthChars=["/","@","?","#"].concat(delims),hostnameMaxLen=255,hostnamePartPattern=/^[a-zA-Z0-9][a-z0-9A-Z_-]{0,62}$/,hostnamePartStart=/^([a-zA-Z0-9][a-z0-9A-Z_-]{0,62})(.*)$/,unsafeProtocol={javascript:!0,"javascript:":!0},hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},querystring=require("querystring");function urlParse(url,parseQueryString,slashesDenoteHost){if(url&&"object"==typeof url&&url.href)return url;if("string"!=typeof url)throw new TypeError("Parameter 'url' must be a string, not "+typeof url);for(var out={},rest=url,i=0,l=rest.length;i<l&&-1!==delims.indexOf(rest.charAt(i));i++);0!==i&&(rest=rest.substr(i));var proto=protocolPattern.exec(rest);if(proto){var lowerProto=(proto=proto[0]).toLowerCase();out.protocol=lowerProto,rest=rest.substr(proto.length)}if(slashesDenoteHost||proto||rest.match(/^\/\/[^@\/]+@[^@\/]+/)){var slashes="//"===rest.substr(0,2);!slashes||proto&&hostlessProtocol[proto]||(rest=rest.substr(2),out.slashes=!0)}if(!hostlessProtocol[proto]&&(slashes||proto&&!slashedProtocol[proto])){var atSign=rest.indexOf("@");if(-1!==atSign){var hasAuth=!0;for(i=0,l=nonAuthChars.length;i<l;i++)if(-1!==(index=rest.indexOf(nonAuthChars[i]))&&index<atSign){hasAuth=!1;break}hasAuth&&(out.auth=rest.substr(0,atSign),rest=rest.substr(atSign+1))}var firstNonHost=-1;for(i=0,l=nonHostChars.length;i<l;i++){var index;-1!==(index=rest.indexOf(nonHostChars[i]))&&(firstNonHost<0||index<firstNonHost)&&(firstNonHost=index)}rest=-1!==firstNonHost?(out.host=rest.substr(0,firstNonHost),rest.substr(firstNonHost)):(out.host=rest,"");var p=function(host){var out={},port=portPattern.exec(host);return port&&(port=port[0],out.port=port.substr(1),host=host.substr(0,host.length-port.length)),host&&(out.hostname=host),out}(out.host),keys=Object.keys(p);for(i=0,l=keys.length;i<l;i++){var key=keys[i];out[key]=p[key]}if(out.hostname=out.hostname||"",out.hostname.length>hostnameMaxLen)out.hostname="";else{var hostparts=out.hostname.split(/\./);for(i=0,l=hostparts.length;i<l;i++){var part=hostparts[i];if(part&&!part.match(hostnamePartPattern)){for(var newpart="",j=0,k=part.length;j<k;j++)127<part.charCodeAt(j)?newpart+="x":newpart+=part[j];if(!newpart.match(hostnamePartPattern)){var validParts=hostparts.slice(0,i),notHost=hostparts.slice(i+1),bit=part.match(hostnamePartStart);bit&&(validParts.push(bit[1]),notHost.unshift(bit[2])),notHost.length&&(rest="/"+notHost.join(".")+rest),out.hostname=validParts.join(".");break}}}}out.hostname=out.hostname.toLowerCase();var domainArray=out.hostname.split("."),newOut=[];for(i=0;i<domainArray.length;++i){var s=domainArray[i];newOut.push(s.match(/[^A-Za-z0-9_-]/)?"xn--"+punycode.encode(s):s)}out.hostname=newOut.join("."),out.host=(out.hostname||"")+(out.port?":"+out.port:""),out.href+=out.host}if(!unsafeProtocol[lowerProto]){for(i=0,l=autoEscape.length;i<l;i++){var ae=autoEscape[i],esc=encodeURIComponent(ae);esc===ae&&(esc=escape(ae)),rest=rest.split(ae).join(esc)}var chop=rest.length;for(i=0,l=delims.length;i<l;i++){var c=rest.indexOf(delims[i]);-1!==c&&(chop=Math.min(c,chop))}rest=rest.substr(0,chop)}var hash=rest.indexOf("#");-1!==hash&&(out.hash=rest.substr(hash),rest=rest.slice(0,hash));var qm=rest.indexOf("?");return-1!==qm?(out.search=rest.substr(qm),out.query=rest.substr(qm+1),parseQueryString&&(out.query=querystring.parse(out.query)),rest=rest.slice(0,qm)):parseQueryString&&(out.search="",out.query={}),rest&&(out.pathname=rest),slashedProtocol[proto]&&out.hostname&&!out.pathname&&(out.pathname="/"),(out.pathname||out.search)&&(out.path=(out.pathname?out.pathname:"")+(out.search?out.search:"")),out.href=urlFormat(out),out}function urlFormat(obj){"string"==typeof obj&&(obj=urlParse(obj));var auth=obj.auth||"";if(auth){auth=auth.split("@").join("%40");for(var i=0,l=nonAuthChars.length;i<l;i++){var nAC=nonAuthChars[i];auth=auth.split(nAC).join(encodeURIComponent(nAC))}auth+="@"}var protocol=obj.protocol||"",host=void 0!==obj.host?auth+obj.host:void 0!==obj.hostname&&auth+obj.hostname+(obj.port?":"+obj.port:""),pathname=obj.pathname||"",query=obj.query&&("object"==typeof obj.query&&Object.keys(obj.query).length?querystring.stringify(obj.query):"")||"",search=obj.search||query&&"?"+query||"",hash=obj.hash||"";return protocol&&":"!==protocol.substr(-1)&&(protocol+=":"),obj.slashes||(!protocol||slashedProtocol[protocol])&&!1!==host?(host="//"+(host||""),pathname&&"/"!==pathname.charAt(0)&&(pathname="/"+pathname)):host||(host=""),hash&&"#"!==hash.charAt(0)&&(hash="#"+hash),search&&"?"!==search.charAt(0)&&(search="?"+search),protocol+host+pathname+search+hash}function urlResolveObject(source,relative){if(!source)return relative;if(source=urlParse(urlFormat(source),!1,!0),relative=urlParse(urlFormat(relative),!1,!0),source.hash=relative.hash,""===relative.href)return source.href=urlFormat(source),source;if(relative.slashes&&!relative.protocol)return relative.protocol=source.protocol,slashedProtocol[relative.protocol]&&relative.hostname&&!relative.pathname&&(relative.path=relative.pathname="/"),relative.href=urlFormat(relative),relative;if(relative.protocol&&relative.protocol!==source.protocol){if(!slashedProtocol[relative.protocol])return relative.href=urlFormat(relative),relative;if(source.protocol=relative.protocol,!relative.host&&!hostlessProtocol[relative.protocol]){for(var relPath=(relative.pathname||"").split("/");relPath.length&&!(relative.host=relPath.shift()););relative.host||(relative.host=""),relative.hostname||(relative.hostname=""),""!==relPath[0]&&relPath.unshift(""),relPath.length<2&&relPath.unshift(""),relative.pathname=relPath.join("/")}return source.pathname=relative.pathname,source.search=relative.search,source.query=relative.query,source.host=relative.host||"",source.auth=relative.auth,source.hostname=relative.hostname||relative.host,source.port=relative.port,void 0===source.pathname&&void 0===source.search||(source.path=(source.pathname?source.pathname:"")+(source.search?source.search:"")),source.slashes=source.slashes||relative.slashes,source.href=urlFormat(source),source}var isSourceAbs=source.pathname&&"/"===source.pathname.charAt(0),isRelAbs=void 0!==relative.host||relative.pathname&&"/"===relative.pathname.charAt(0),mustEndAbs=isRelAbs||isSourceAbs||source.host&&relative.pathname,removeAllDots=mustEndAbs,srcPath=source.pathname&&source.pathname.split("/")||[],psychotic=(relPath=relative.pathname&&relative.pathname.split("/")||[],source.protocol&&!slashedProtocol[source.protocol]);if(psychotic&&(delete source.hostname,delete source.port,source.host&&(""===srcPath[0]?srcPath[0]=source.host:srcPath.unshift(source.host)),delete source.host,relative.protocol&&(delete relative.hostname,delete relative.port,relative.host&&(""===relPath[0]?relPath[0]=relative.host:relPath.unshift(relative.host)),delete relative.host),mustEndAbs=mustEndAbs&&(""===relPath[0]||""===srcPath[0])),isRelAbs)source.host=relative.host||""===relative.host?relative.host:source.host,source.hostname=relative.hostname||""===relative.hostname?relative.hostname:source.hostname,source.search=relative.search,source.query=relative.query,srcPath=relPath;else if(relPath.length)srcPath||(srcPath=[]),srcPath.pop(),srcPath=srcPath.concat(relPath),source.search=relative.search,source.query=relative.query;else if("search"in relative)return psychotic&&(source.hostname=source.host=srcPath.shift(),(authInHost=!!(source.host&&0<source.host.indexOf("@"))&&source.host.split("@"))&&(source.auth=authInHost.shift(),source.host=source.hostname=authInHost.shift())),source.search=relative.search,source.query=relative.query,void 0===source.pathname&&void 0===source.search||(source.path=(source.pathname?source.pathname:"")+(source.search?source.search:"")),source.href=urlFormat(source),source;if(!srcPath.length)return delete source.pathname,source.search?delete source.path:source.path="/"+source.search,source.href=urlFormat(source),source;for(var last=srcPath.slice(-1)[0],hasTrailingSlash=(source.host||relative.host)&&("."===last||".."===last)||""===last,up=0,i=srcPath.length;0<=i;i--)"."==(last=srcPath[i])?srcPath.splice(i,1):".."===last?(srcPath.splice(i,1),up++):up&&(srcPath.splice(i,1),up--);if(!mustEndAbs&&!removeAllDots)for(;up--;up)srcPath.unshift("..");!mustEndAbs||""===srcPath[0]||srcPath[0]&&"/"===srcPath[0].charAt(0)||srcPath.unshift(""),hasTrailingSlash&&"/"!==srcPath.join("/").substr(-1)&&srcPath.push("");var authInHost,isAbsolute=""===srcPath[0]||srcPath[0]&&"/"===srcPath[0].charAt(0);return psychotic&&(source.hostname=source.host=isAbsolute?"":srcPath.length?srcPath.shift():"",(authInHost=!!(source.host&&0<source.host.indexOf("@"))&&source.host.split("@"))&&(source.auth=authInHost.shift(),source.host=source.hostname=authInHost.shift())),(mustEndAbs=mustEndAbs||source.host&&srcPath.length)&&!isAbsolute&&srcPath.unshift(""),source.pathname=srcPath.join("/"),void 0===source.pathname&&void 0===source.search||(source.path=(source.pathname?source.pathname:"")+(source.search?source.search:"")),source.auth=relative.auth||source.auth,source.slashes=source.slashes||relative.slashes,source.href=urlFormat(source),source}}),require.define("querystring",function(require,module,exports,__dirname,__filename){var isArray="function"==typeof Array.isArray?Array.isArray:function(xs){return"[object Array]"===Object.toString.call(xs)};
/*!
 * querystring
 * Copyright(c) 2010 TJ Holowaychuk <tj@vision-media.ca>
 * MIT Licensed
 */exports.version="0.3.1";var toString=Object.prototype.toString,notint=/[^0-9]/;exports.parse=function(str){if(null==str||""==str)return{};function promote(parent,key){if(0==parent[key].length)return parent[key]={};var t={};for(var i in parent[key])t[i]=parent[key][i];return parent[key]=t}return String(str).split("&").reduce(function(ret,pair){try{pair=decodeURIComponent(pair.replace(/\+/g," "))}catch(e){}var eql=pair.indexOf("="),brace=function(str){for(var brace,c,len=str.length,i=0;i<len;++i)if("]"==(c=str[i])&&(brace=!1),"["==c&&(brace=!0),"="==c&&!brace)return i}(pair),key=pair.substr(0,brace||eql),val=(val=pair.substr(brace||eql,pair.length)).substr(val.indexOf("=")+1,val.length),parent=ret;if(""==key&&(key=pair,val=""),~key.indexOf("]")){var parts=key.split("[");parts.length,function parse(parts,parent,key){var part=parts.shift();part?(obj=parent[key]=parent[key]||[],"]"==part?isArray(obj)?""!=val&&obj.push(val):"object"==typeof obj?obj[Object.keys(obj).length]=val:obj=parent[key]=[parent[key],val]:(~part.indexOf("]")&&(part=part.substr(0,part.length-1)),notint.test(part)&&isArray(obj)&&(obj=promote(parent,key)),parse(parts,obj,part))):isArray(parent[key])?parent[key].push(val):"object"==typeof parent[key]?parent[key]=val:void 0===parent[key]?parent[key]=val:parent[key]=[parent[key],val]}(parts,parent,"base")}else{if(notint.test(key)&&isArray(parent.base)){var t={};for(var k in parent.base)t[k]=parent.base[k];parent.base=t}!function(obj,key,val){var v=obj[key];void 0===v?obj[key]=val:isArray(v)?v.push(val):obj[key]=[v,val]}(parent.base,key,val)}return ret},{base:{}}).base};var stringify=exports.stringify=function(obj,prefix){return isArray(obj)?function(arr,prefix){var ret=[];if(!prefix)throw new TypeError("stringify expects an object");for(var i=0;i<arr.length;i++)ret.push(stringify(arr[i],prefix+"[]"));return ret.join("&")}(obj,prefix):"[object Object]"==toString.call(obj)?function(obj,prefix){for(var key,ret=[],keys=Object.keys(obj),i=0,len=keys.length;i<len;++i)key=keys[i],ret.push(stringify(obj[key],prefix?prefix+"["+encodeURIComponent(key)+"]":encodeURIComponent(key)));return ret.join("&")}(obj,prefix):"string"==typeof obj?function(str,prefix){if(!prefix)throw new TypeError("stringify expects an object");return prefix+"="+encodeURIComponent(str)}(obj,prefix):prefix}}),require.define("/lib/platform/client/jquery_http.js",function(require,module,exports,__dirname,__filename){!function(){var Http=require("../../http"),utils=require("../../utils"),getHeaders=function(headersString){for(var headers={},headerLines=headersString.split("\n"),i=0;i<headerLines.length;i++)if(""!==utils.trim(headerLines[i])){var headerParts=headerLines[i].split(": ");headers[headerParts[0]]=headerParts[1]}return headers};(exports||this).JQueryHttp=Http.extend({init:function(isSplunk){this._super(isSplunk)},makeRequest:function(url,message,callback){var that=this,params={url:url,type:message.method,headers:message.headers,data:message.body||"",timeout:message.timeout||0,dataType:"json",success:utils.bind(this,function(data,error,res){var response={statusCode:res.status,headers:getHeaders(res.getAllResponseHeaders())},complete_response=this._buildResponse(error,response,data);callback(complete_response)}),error:function(res,data,error){var response={statusCode:res.status,headers:getHeaders(res.getAllResponseHeaders())};"abort"===data&&(response.statusCode="abort",res.responseText="{}");var json=JSON.parse(res.responseText),complete_response=that._buildResponse(error,response,json);callback(complete_response)}};return $.ajax(params)},parseJson:function(json){return json}})}()}),require.define("/lib/platform/client/proxy_http.js",function(require,module,exports,__dirname,__filename){!function(){var Http=require("../../http"),utils=require("../../utils"),root=exports||this,getHeaders=function(headersString){for(var headers={},headerLines=headersString.split("\n"),i=0;i<headerLines.length;i++)if(""!==utils.trim(headerLines[i])){var headerParts=headerLines[i].split(": ");headers[headerParts[0]]=headerParts[1]}return headers};function parseUri(str){for(var o=parseUri.options,m=o.parser[o.strictMode?"strict":"loose"].exec(str),uri={},i=14;i--;)uri[o.key[i]]=m[i]||"";return uri[o.q.name]={},uri[o.key[12]].replace(o.q.parser,function($0,$1,$2){$1&&(uri[o.q.name][$1]=$2)}),uri}parseUri.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};var specials=/[.*+?|()\[\]{}\\$\^]/g;root.ProxyHttp=Http.extend({init:function(prefix){this.prefix=prefix,this._super()},makeRequest:function(url,message,callback){var parsed=parseUri(message.headers["X-ProxyDestination"]=url),prefixToRemove=(parsed.protocol?parsed.protocol:"")+"://"+parsed.authority;url=url.replace(new RegExp(function(str){return(str=str||"").replace(specials,"\\$&")}(prefixToRemove),"i"),""),url=this.prefix+url;var that=this,params={url:url,type:message.method,headers:message.headers,data:message.body||"",timeout:message.timeout||0,dataType:"text",success:function(data,error,res){if(!req.wasAborted){var response={statusCode:res.status,headers:getHeaders(res.getAllResponseHeaders())},complete_response=that._buildResponse(error,response,data);callback(complete_response)}},error:function(res,data,error){if(!req.wasAborted){var response={statusCode:res.status,headers:getHeaders(res.getAllResponseHeaders())};"abort"===data&&(response.statusCode="abort",res.responseText="{}");var json=res.responseText,complete_response=that._buildResponse(error,response,json);callback(complete_response),"abort"===data&&(req.wasAborted=!0)}}},req=$.ajax(params);return req},parseJson:function(json){return JSON.parse(json)}}),root.SplunkWebHttp=root.ProxyHttp.extend({init:function(){this._super("/en-US/splunkd/__raw")}})}()}),require.define("/lib/entries/browser.ui.entry.js",function(require,module,exports,__dirname,__filename){!function(exportName){var $script=require("../../contrib/script");window.splunkjs||(window.splunkjs={}),window.splunkjs.UI||(window.splunkjs.UI={});var UI=window.splunkjs.UI,token=0,loadComponent=function(path,token,callback){if(!path)throw new Error("Must specify a path to load from.");$script(path,token,callback=callback||function(){})};UI.loadTimeline=function(path,callback){var timelineToken="timeline"+token++;return loadComponent(path,timelineToken,callback),timelineToken},UI.loadCharting=function(path,callback){var chartToken="charting"+token++;return loadComponent(path,chartToken,callback),chartToken},UI.load=function(paths,callback){if(!paths)throw new Error("Must specify paths to load components from");callback=callback||function(){};var token="all"+token++;return $script(paths,token,function(){callback()}),token},UI.ready=function(token,callback){callback=callback||function(){},$script.ready(token,callback)}}()}),require.define("/contrib/script.js",function(require,module,exports,__dirname,__filename){
/*!
  * $script.js Async loader & dependency manager
  * https://github.com/ded/script.js
  * (c) Dustin Diaz, Jacob Thornton 2011
  * License: MIT
  */
!function(a,b){void 0!==module?module.exports=b():this.$script=b()}(0,function(){function s(a,b,c){for(c=0,j=a.length;c<j;++c)if(!b(a[c]))return m;return 1}function t(a,b){s(a,function(a){return!b(a)})}function u(a,b,c){function o(a){return a.call?a():f[a]}function p(){if(!--m)for(var a in f[l]=1,j&&j(),h)s(a.split("|"),o)&&!t(h[a],o)&&(h[a]=[])}a=a[n]?a:[a];var e=b&&b.call,j=e?b:c,l=e?a.join(""):b,m=a.length;return setTimeout(function(){t(a,function(a){if(k[a])return l&&(g[l]=1),2==k[a]&&p();k[a]=1,l&&(g[l]=1),v(!d.test(a)&&i?i+a+".js":a,p)})},0),u}function v(a,d){var e=b.createElement("script"),f=m;e.onload=e.onerror=e[r]=function(){e[p]&&!/^c|loade/.test(e[p])||f||(e.onload=e[r]=null,f=1,k[a]=2,d())},e.async=1,e.src=a,c.insertBefore(e,c.firstChild)}var i,a=this,b=document,c=b.getElementsByTagName("head")[0],d=/^https?:\/\//,e=a.$script,f={},g={},h={},k={},m=!1,n="push",o="DOMContentLoaded",p="readyState",q="addEventListener",r="onreadystatechange";return!b[p]&&b[q]&&(b[q](o,function w(){b.removeEventListener(o,w,m),b[p]="complete"},m),b[p]="loading"),u.get=v,u.order=function(a,b,c){!function d(e){e=a.shift(),a.length?u(e,d):u(e,b,c)}()},u.path=function(a){i=a},u.ready=function(a,b,c){a=a[n]?a:[a];var d=[];return!t(a,function(a){f[a]||d[n](a)})&&s(a,function(a){return f[a]})?b():function(a){h[a]=h[a]||[],h[a][n](b),c&&c(d)}(a.join("|")),u},u.noConflict=function(){return a.$script=e,this},u})}),require.define("/browser.entry.js",function(require,module,exports,__dirname,__filename){var previousSplunk,ourSplunk,jqueryHttp,proxyHttps,proxyHttp,splunkwebHttp;previousSplunk=window.splunkjs,ourSplunk=require("../../index"),jqueryHttp=require("../../lib/platform/client/jquery_http").JQueryHttp,proxyHttps=require("../../lib/platform/client/proxy_http"),proxyHttp=proxyHttps.ProxyHttp,splunkwebHttp=proxyHttps.SplunkWebHttp,window.splunkjs=ourSplunk,window.splunkjs.ProxyHttp=proxyHttp,window.splunkjs.JQueryHttp=jqueryHttp,window.splunkjs.SplunkWebHttp=splunkwebHttp,window.splunkjs.noConflict=function(name){return window.splunkjs=previousSplunk,ourSplunk},require("../../lib/entries/browser.ui.entry")}),require("/browser.entry.js")}).call(this,__webpack_require__(134),__webpack_require__(410).Buffer)},"util/Ticker":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("require/backbone")],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(_,Backbone){var Ticker=function(options){options||(options={}),this.interval=options.interval||1e3,this.cid=_.uniqueId("ticker"),options.params&&(this.params=options.params),options.tick&&this.tick(),options.start&&this.start()};return _.extend(Ticker.prototype,Backbone.Events,{start:function(tick){return!this._intervalId&&(tick&&this.tick(),this._intervalId=setInterval(_.bind(this.tick,this),this.interval),!0)},stop:function(tick){return!!this._intervalId&&(tick&&this.tick(),clearInterval(this._intervalId),delete this._intervalId,!0)},restart:function(options){options||(options={}),this.stop(),options.interval&&(this.interval=options.interval),options.params&&(this.params=options.params),this.start(options.tick)},tick:function(params){params||(params=this.params);var args=_.isArray(params)?params:[params];this.trigger.apply(this,["tick"].concat(args))}}),Ticker}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"util/ajax_logging":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("shim/splunk.logger"),__webpack_require__("shim/splunk.util")],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function($,_,SplunkLogger,splunkUtils){var LOG_MODE=splunkUtils.getConfigValue("JS_LOGGER_MODE","None"),LOG_LEVEL=splunkUtils.getConfigValue("JS_LOGGER_LEVEL","INFO");if("None"!==LOG_MODE&&"DEBUG"===LOG_LEVEL){var logger=SplunkLogger.getLogger("ajax_logging.js"),URL_BLACKLIST=[SplunkLogger.mode.Server.END_POINT,"services/messages"];$.ajaxPrefilter(function(options,originalOptions,jqXHR){_(URL_BLACKLIST).every(function(blacklistUrl){return-1===options.url.indexOf(blacklistUrl)})&&(logger.debug("sending AJAX request to ",options.url),logger.trace())})}}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"util/console":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("util/console_dev"),__webpack_require__("shim/splunk.logger"),__webpack_require__("shim/splunk.util")],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function($,_,devConsole,SplunkLogger,splunkUtils){return SplunkLogger.getLogger(splunkUtils.getConfigValue("USERNAME","")+":::"+window.location.href)}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"util/console_dev":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){function bind(fn,context){return function(){fn.apply(context,arguments)}}var i,orig=window.console,console=orig,CONSOLE_METHODS=["log","trace","error","warn","info","debug"],EMPTY=function(){};try{console.DEBUG_ENABLED=!0}catch(e){console={DEBUG_ENABLED:!0}}for(i=0;i<CONSOLE_METHODS.length;i++){var fn=CONSOLE_METHODS[i];"function"!=typeof console[fn]&&(void 0!==orig&&"function"==typeof orig[fn]?console[fn]=bind(orig[fn],orig):console[fn]=EMPTY)}return console}.apply(exports,[]))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"util/format_numbers_utils":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("stubs/i18n"),__webpack_require__("shim/splunk.util"),__webpack_require__("util/math_utils")],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(_,i18n,splunkUtil,mathUtils){return{abbreviateNumber:function(number){return number<=1e3?i18n.format_decimal(number):number<1e4?splunkUtil.sprintf(_("%sK").t(),i18n.format_decimal(mathUtils.roundToDecimal(number/1e3,-2))):number<1e5?splunkUtil.sprintf(_("%sK").t(),i18n.format_decimal(mathUtils.roundToDecimal(number/1e3,-1))):number<999500?splunkUtil.sprintf(_("%sK").t(),i18n.format_decimal(mathUtils.roundToDecimal(number/1e3,0))):number<1e7?splunkUtil.sprintf(_("%sM").t(),i18n.format_decimal(mathUtils.roundToDecimal(number/1e6,-2))):number<1e8?splunkUtil.sprintf(_("%sM").t(),i18n.format_decimal(mathUtils.roundToDecimal(number/1e6,-1))):number<9995e5?splunkUtil.sprintf(_("%sM").t(),i18n.format_decimal(mathUtils.roundToDecimal(number/1e6,0))):number<1e10?splunkUtil.sprintf(_("%sB").t(),i18n.format_decimal(mathUtils.roundToDecimal(number/1e9,-2))):number<1e11?splunkUtil.sprintf(_("%sB").t(),i18n.format_decimal(mathUtils.roundToDecimal(number/1e9,-1))):splunkUtil.sprintf(_("%sB").t(),i18n.format_decimal(mathUtils.roundToDecimal(number/1e9,0)))},bytesToFileSize:function(bytes){var mbFileSize,gbFileSize,tbFileSize,kbFileSize=(bytes||0)/1024;return 0===Math.floor(kbFileSize)?i18n.format_decimal(bytes)+" "+_("B").t():(mbFileSize=kbFileSize/1024,0===Math.floor(mbFileSize)?i18n.format_decimal(kbFileSize.toFixed(2))+" "+_("KB").t():(gbFileSize=mbFileSize/1024,0===Math.floor(gbFileSize)?i18n.format_decimal(mbFileSize.toFixed(2))+" "+_("MB").t():(tbFileSize=gbFileSize/1024,0===Math.floor(tbFileSize)?i18n.format_decimal(gbFileSize.toFixed(2))+" "+_("GB").t():i18n.format_decimal(tbFileSize.toFixed(2))+" "+_("TB").t())))}}}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"util/general_utils":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("shim/splunk.util"),__webpack_require__("util/math_utils")],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function($,_,SplunkUtils,mathUtils){var stripUndefinedAttrs=function(obj){return _.each(obj,function(value,key){void 0===value?delete obj[key]:_.isObject(value)&&stripUndefinedAttrs(value)}),obj},globber=function(str){var rex,chars=str.split("");"*"!==_.first(chars)&&chars.unshift("^"),"*"!==_.last(chars)&&chars.push("$"),str=chars.join("").replace(/\*/g,".*");try{rex=new RegExp(str)}catch(e){}return rex},isTrueEquivalent=function(value){return!0===(value="string"==typeof value?value.toLowerCase():value)||1===value||"true"===value||"1"===value||"on"===value||"yes"===value},isFalseEquivalent=function(value){return!1===(value="string"==typeof value?value.toLowerCase():value)||0===value||"false"===value||"0"===value||"off"===value||"no"===value},isBooleanEquivalent=function(value){return isTrueEquivalent(value)||isFalseEquivalent(value)},normalizeBoolean=function(value,options){return options||(options={}),!!isTrueEquivalent(value)||!isFalseEquivalent(value)&&(!!options.hasOwnProperty("default")&&("boolean"==typeof options.default?options.default:normalizeBoolean(options.default)))},VALUES_REGEX=/(\'.*?\')|(\".*?\")|([^\s]+)/g,QUOTES_REGEX=/^(\".*\")$|^(\'.*\')$/;return{VALUES_REGEX:VALUES_REGEX,QUOTES_REGEX:QUOTES_REGEX,compareWithDirection:function(value1,value2,isAsc){var returnVal=0;return value1==value2?returnVal:(returnVal=value1<value2?-1:1,isAsc?returnVal:-returnVal)},unionWithKey:function(arrayOne,arrayTwo,key){var union=_.union(arrayOne,arrayTwo);return _.map(union,function(field){var ret_hash={};return ret_hash[key]=field,ret_hash})},differenceWithKey:function(arrayOne,arrayTwo,key){var difference=_.difference(arrayOne,arrayTwo);return _.map(difference,function(field){var ret_hash={};return ret_hash[key]=field,ret_hash})},filterObjectByRegexes:function(obj,regexes,options){options=options||{},_(regexes).isArray()||(regexes=[regexes]),regexes=_.map(regexes,function(regex){return regex instanceof RegExp?regex:new RegExp(regex)});var strippedKey,attrs={},strip=_.isString(options.strip)?options.strip:"",allowEmpty=!!options.allowEmpty,allowObject=!!options.allowObject;return _.each(obj,function(value,key){strippedKey=key.replace(strip,""),attrs[strippedKey]||_.each(regexes,function(regex){if(regex.test(key)&&!_.isUndefined(value)){if(_.isString(value)&&""==value&&!allowEmpty||_.isObject(value)&&!allowObject)return;attrs[strippedKey]=value}},this)},this),attrs},deleteFromObjectByRegexes:function(obj,regexes){_(regexes).isArray()||(regexes=[regexes]),regexes=_.map(regexes,function(regex){return regex instanceof RegExp?regex:new RegExp(regex)});var attrs=$.extend(!0,{},obj);return _.each(attrs,function(value,key){_.each(regexes,function(regex){regex.test(key)&&delete attrs[key]},this)},this),attrs},stripUndefinedAttrs:stripUndefinedAttrs,globber:globber,valuesAreNumeric:function(values){var numericCount=0,nonNullCount=0;return _(values).each(function(value){_(value).isArray()&&(value=0<value.length?value[0]:null),_(value).isNull()||(nonNullCount++,(mathUtils.strictParseFloat(value)||mathUtils.isCommaSeparatedNumber(value))&&numericCount++)}),0!==nonNullCount&&nonNullCount/2<=numericCount},valuesAreNumericAndFinite:function(values){var areNumericAndFinite=!0;return _(values).each(function(value){!isNaN(value)&&isFinite(value)||(areNumericAndFinite=!1)}),areNumericAndFinite},getPercentiles:function(orderedList,lowerPercentile,upperPercentile){if(0===orderedList.length)return{upper:null,lower:null};var v=function(percentile,oList){var fArray=function(p,ln){var n=p*(ln-1)+1,k=Math.floor(n);return[n,k,n-k]}(percentile,oList.length),k=(fArray[0],fArray[1]),d=fArray[2];return 0===k||1===oList.length?oList[0]:k===oList.length-1?oList[oList.length-1]:oList[k]+d*(oList[k+1]-oList[k])};return{lower:v(lowerPercentile,orderedList),upper:v(upperPercentile,orderedList)}},transferKey:function(obj,oldKey,newKey){_.isUndefined(obj[oldKey])||(obj[newKey]=obj[oldKey],delete obj[oldKey])},convertNumToString:function(num){return num?num.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"):null},stringToArray:function(str){if(!str)return!1;var strLen=(str=$.trim(str)).length;return"["===str.charAt(0)&&"]"===str.charAt(strLen-1)&&(/^\[\s*\]$/.test(str)?[]:(str=str.substr(1,strLen-2),SplunkUtils.stringToFieldList(str)))},invert:function(obj){var new_obj={};for(var prop in obj)obj.hasOwnProperty(prop)&&(new_obj[obj[prop]]=prop);return new_obj},isValidPivotSearch:function(searchString){return!!/^\s*\|\s*pivot\s+/.test(searchString)&&2===(searchString=(searchString=searchString.replace(/(\\"|\\')/g,"")).replace(/"[^"]*"/g,"").replace(/'[^']*'/g,"")).split("|").length},getMouseSelection:function(){return window.getSelection?window.getSelection().toString():document.selection?document.selection.createRange().text:null},normalizeBoolean:normalizeBoolean,isBooleanEquivalent:isBooleanEquivalent,checkEquality:function(value1,value2){return isBooleanEquivalent(value1)&&isBooleanEquivalent(value2)?normalizeBoolean(value1)===normalizeBoolean(value2):_.isEqual(value1,value2)},isFuzzySubset:function(subset,superset){return superset.length||(superset=["*"]),_(subset).filter(function(subsetElement){var subsetElementPattern=globber(subsetElement.toString());return _(superset).find(function(supersetElement){return null!==supersetElement.toString().match(subsetElementPattern)})}).length==subset.length},asArray:function(obj){return null==obj?[]:_.isArray(obj)?obj:[obj]},generateFilterRegex:function(value){var values=(value=SplunkUtils.escapeRegex(value))?value.match(VALUES_REGEX):[];if(values.length){var parsed=_.chain(values).map(function(value){if(value.match(QUOTES_REGEX)){var len=value.length;value=value.substring(1,len-1)}return["(?=.*",value,")"].join("")}).join("").value();return new RegExp("^"+parsed,"im")}return new RegExp(".*")},parseBooleanOrInt:function(val){return mathUtils.isInteger(val)?parseInt(val,10):normalizeBoolean(val)},generateUUID:function(){var d=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=(d+16*Math.random())%16|0;return d=Math.floor(d/16),("x"==c?r:3&r|8).toString(16)})},formatSize:function(inputSize,inputFormat){var result={size:inputSize,format:inputFormat||"MB"};if(!isNaN(inputSize)){var inputSizeGB=inputSize/1024,inputSizeTB=inputSizeGB/1024,isInputSizeMB=-1!==inputSizeGB.toString().indexOf(".");-1!==inputSizeTB.toString().indexOf(".")?isInputSizeMB||(result={size:inputSizeGB,format:"GB"}):result={size:inputSizeTB,format:"TB"}}return result},convertSecondsToPeriod:function(value){var result={value:1*value,format:"Seconds"};return isNaN(value)||(value%86400==0?(result.value=value/86400,result.format="Days"):value%3600==0?(result.value=value/3600,result.format="Hours"):value%60==0&&(result.value=value/60,result.format="Minutes")),result},formatSizeForSave:function(inputSize,inputFormat){var result=inputSize;return isNaN(inputSize)||("TB"===inputFormat?result*=1048576:"GB"===inputFormat&&(result*=1024),-1!==result.toString().indexOf(".")&&(result=Math.floor(result))),result},convertPeriodToSec:function(size,format){var result=1*size;return isNaN(size)||("Days"===format?result*=86400:"Hours"===format?result*=3600:"Minutes"===format&&(result*=60),-1!==result.toString().indexOf(".")&&(result=Math.floor(result))),result}}}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"util/htmlcleaner":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("shim/jquery"),__webpack_require__("util/console")],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,console){var HTML_COMMENTS_PATTERN=/<!--.+?-->/gim,BAD_NODE_SELECTOR='script,base,link,meta,head,*[type="text/javascript"]',BAD_URL_SCHEMES=/(?:javascript|jscript|livescript|vbscript|data|about|mocha):/i,WITH_SCRIPT=/<script>(.*?)<\/script>/i,WITH_MULTI_LINE_SCRIPT=/<script>(.+)((\s)+(.+))+<\/script>/i,EVENT_HANDLER_ATTRIBUTE_PREFIX="on",CSS_NODE_SELECTOR="style",CSS_EXPRESSION_PATTERN=/(^|[\s\W])expression(\s*\()/gim,CSS_EXPRESSION_REPLACE="$1no-xpr$2",URL_ATTRIBUTES={link:["href"],applet:["code","object"],iframe:["src","srcdoc"],img:["src"],embed:["src"],layer:["src"],a:["href"]};function removeBadNodes($root,options){var badNodeSelector=BAD_NODE_SELECTOR;return options.additionalBadNodeSelector&&(badNodeSelector+=","+options.additionalBadNodeSelector),$root.is(badNodeSelector)?$([]):($root.find(badNodeSelector).remove(),$root)}function isBadUrl(url){return BAD_URL_SCHEMES.test(function(url){var decodedURI=$.trim(url||"");try{decodedURI=decodeURIComponent(decodedURI)}catch(err){console.log("Caught an exception: "+err),decodedURI=_.unescape(decodedURI)}return decodedURI.replace(/\s/gim,"")}(url))}function isBadNodeValue(val){var convertedStr=_.unescape($.trim(val||"")).replace(/\s/gim,"");return BAD_URL_SCHEMES.test(convertedStr)||WITH_MULTI_LINE_SCRIPT.test(convertedStr)||WITH_SCRIPT.test(convertedStr)}function cleanAttributes($root){_($root).each(function(node){var $node=$(node),nodeName=(node.tagName||"").toLowerCase(),attrs=node.attributes,badNodes=[];"embed"===nodeName&&($node.attr("allowScriptAccess","never"),$node.attr("allownetworking","internal")),_.each(attrs,function(attr){if(attr){var attrName=attr.name.toLowerCase();if(0===attrName.indexOf(EVENT_HANDLER_ATTRIBUTE_PREFIX)||isBadNodeValue(attr.nodeValue))badNodes.push(attr.name);else{var urlAttrs=URL_ATTRIBUTES[nodeName];urlAttrs&&_(urlAttrs).contains(attrName)&&isBadUrl(attr.value)&&$node.attr(attr.name,"#")}}}),_.each(badNodes,function(attr){$node.removeAttr(attr)}),_($node.children()).chain().map($).each(cleanAttributes)})}function stripComments(txt){return txt.replace(HTML_COMMENTS_PATTERN,"")}function cleanStylesheets($root){_($("<div />").append($root).find(CSS_NODE_SELECTOR)).each(cleanStylesheet)}function cleanStylesheet(styleNode){var $style=$(styleNode),cssText=$style.html(),newText=cleanCssText(cssText);cssText!=newText&&$style.text(newText)}function cleanCssText(cssText){return CSS_EXPRESSION_PATTERN.lastIndex=0,cssText.replace(CSS_EXPRESSION_PATTERN,CSS_EXPRESSION_REPLACE)}return{clean:function(htmlText,options){options||(options={});var $html=$(stripComments("<div>"+htmlText+"</div>"));return cleanAttributes($html=removeBadNodes($html,{additionalBadNodeSelector:!1===options.allowIframes?"iframe":null})),cleanStylesheets($html),!1===options.allowInlineStyles&&function($html){$html.find("[style]").removeAttr("style")}($html),$html.html()},isBadUrl:isBadUrl,isBadNodeValue:isBadNodeValue,_stripComments:stripComments,_cleanAttributes:cleanAttributes,_removeScripts:removeBadNodes,_cleanStylesheets:cleanStylesheets,_cleanCssText:cleanCssText}}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"util/math_utils":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore")],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(_){var DECIMAL_OR_SCIENTIFIC_REGEX=/(^[-+]?[0-9]*[.]?[0-9]*$)|(^[-+]?[0-9][.]?[0-9]*e[-+]?[0-9][0-9]*$)/i,COMMA_SEPARATED_NUMBER_REGEX=/(^[-+]?([0]|([1-9][0-9]{0,2})|(([1-9][0-9]{0,2}[,])([0-9]{3}[,])*[0-9]{3}))(([.][0-9]+)?)$)/,strictParseFloat=function(str){return DECIMAL_OR_SCIENTIFIC_REGEX.test(str)?parseFloat(str):NaN};return{strictParseFloat:strictParseFloat,isCommaSeparatedNumber:function(str){return!!COMMA_SEPARATED_NUMBER_REGEX.test(str)},roundToDecimal:function(value,exp){return void 0===exp||0==+exp?Math.round(value):(value=+value,exp=+exp,isNaN(value)||"number"!=typeof exp||exp%1!=0?NaN:(value=value.toString().split("e"),+((value=(value=Math.round(+(value[0]+"e"+(value[1]?+value[1]-exp:-exp)))).toString().split("e"))[0]+"e"+(value[1]?+value[1]+exp:exp))))},isInteger:function(value){var parsedValue=strictParseFloat(value);return!isNaN(parsedValue)&&parsedValue%1==0},nearestMatchAndIndexInArray:function(valueToMatch,values){var closestValue,closestIndex;return _.each(values,function(value,index){(null==closestValue||Math.abs(valueToMatch-value)<Math.abs(closestValue-valueToMatch))&&(closestValue=value,closestIndex=index)}),{value:closestValue,index:closestIndex}},nearestPowerOfTen:function(number){return Math.pow(10,Math.floor(Math.log(number)/Math.LN10))},isLessThanMinSafeInt:function(number){return"number"==typeof number&&number<=-9007199254740991},isGreaterThanMaxSafeInt:function(number){return"number"==typeof number&&9007199254740991<=number},stripFloatingPointErrors:function(number){return parseFloat(number.toPrecision(12))},convertToTwoDecimalPercentage:function(value,totalCount){return(parseFloat(value)/totalCount*100).toFixed(2)}}}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"util/moment":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("stubs/i18n"),__webpack_require__(95)],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(i18n,moment){var initFn=i18n.moment_install;return"function"==typeof initFn&&initFn(moment),moment}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"util/moment/relative":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("util/moment"),__webpack_require__("require/underscore")],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(moment,_){var UNITS={second:"s,sec,secs,second,seconds",minute:"m,min,minute,minutes",hour:"h,hr,hrs,hour,hours",day:"d,day,days",week:"w,week,weeks",month:"mon,month,months",quarter:"q,qtr,qtrs,quarter,quarters",year:"y,yr,yrs,year,years"},unitMap=_.once(function(){var result={};return _(UNITS).each(function(aliases,unit){_(aliases.split(",")).each(function(alias){result[alias]=unit})}),result});function parseRelativeTimeExpressionPart(part){if("now"==part)return{now:!0};var match=part.match(/([+-]?\d+)([a-z]\w*)/);if(match){var amount=match[1],unit=match[2],momentUnit=unitMap()[unit];if(!momentUnit)throw new Error("Invalid unit "+JSON.stringify(unit)+" in relative time expression");return{amount:parseInt(amount,10),unit:momentUnit}}throw new Error("Invalid relative time expression: "+JSON.stringify(part))}function parseRelativeTimeExpression(expr,options){var arr=[];if(options||(options={}),null!=expr){if(expr=String(expr).trim(),/^-?\d+$/.test(expr)){var plainNumber=parseInt(expr,10);if(options.treatPlainNumberAs)return arr.push({amount:plainNumber,unit:unitMap()[options.treatPlainNumberAs]}),void 0!==options.snapAhead&&void 0!==arr[0]&&(arr[0].snapAhead=options.snapAhead),arr;if(!1!==options.allowAbsoluteValue)return arr.push({absolute:parseInt(expr,10)}),void 0!==options.snapAhead&&void 0!==arr[0]&&(arr[0].snapAhead=options.snapAhead),arr;throw new Error("Absolute time value "+JSON.stringify(expr)+"is not allowed in relative time expression")}var result=[],parts=expr.split("@",2);if(""!==parts[0]&&result.push(parseRelativeTimeExpressionPart(parts[0])),void 0!==options.snapAhead&&void 0!==result[0]&&(result[0].snapAhead=options.snapAhead),1<parts.length){var snap=parts[1].match(/^[a-z]\w*/);if(!snap)throw new Error("Invalid snap-to expression: "+JSON.stringify(parts[1]));snap=snap[0];var remainder=parts[1].substring(snap.length),weekday=snap.match(/w([0-6])/);if(weekday)result.push({snapTo:"week"},{amount:parseInt(weekday[1],10),unit:"day"});else{var snapUnit=unitMap()[snap];if(!snapUnit)throw new Error("Invalid snap-to unit "+JSON.stringify(snapUnit)+" in relative time expression");result.push({snapTo:snapUnit})}remainder.length&&function(result,remainder){for(;remainder.length;){var match=remainder.match(/([+-]?\d+)([a-z]\w*)/);result.push(parseRelativeTimeExpressionPart(remainder)),remainder=remainder.substring(match[0].length)}}(result,remainder)}return result}}function applyRelativeTimeExpressionPart(m,expr){if(null!=expr.absolute)return moment.unix(expr.absolute);if(!0===expr.now)return moment();if(null!=expr.amount)return expr.snapAhead?moment(m).add(expr.amount,expr.unit):function(evalTime){if(new Date(evalTime._d).getTime()>1e3*moment().unix())return moment(evalTime).add(-1,"w");return evalTime}(moment(m).add(expr.amount,expr.unit));if(expr.snapTo)return moment(m).startOf(expr.snapTo);throw new Error("Invalid parsed time expression part: "+JSON.stringify(expr))}function applyRelativeTimeExpression(m,parsed){return _.inject(parsed,applyRelativeTimeExpressionPart,m)}return moment.fn.applyRelative=function(expr,options){return applyRelativeTimeExpression(this,parseRelativeTimeExpression(expr,options))},{parseRelativeTimeExpression:parseRelativeTimeExpression,applyRelativeTimeExpression:applyRelativeTimeExpression,applyRelativeTimeExpressionPart:applyRelativeTimeExpressionPart,isRelativeTimeExpression:function(val,options){try{return 0<parseRelativeTimeExpression(val,options).length}catch(e){return!1}}}}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"util/splunkd_utils":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/jquery"),__webpack_require__("require/underscore"),__webpack_require__("shim/splunk.util"),__webpack_require__("stubs/splunk.config"),__webpack_require__("util/general_utils")],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function($,_,splunkUtils,splunkConfig,generalUtils){var fullpath=function(path,options){options=options||{};var isServicesPath=/^\/services/.test(path),isAbsolute=/^\/.*/.test(path);if(/^http[s]?:\/\//.test(path))return path;if(isAbsolute&&!isServicesPath)return path;if(isAbsolute&&isServicesPath)return splunkConfig.SPLUNKD_PATH+path;if(!options.app&&!options.owner)return splunkConfig.SPLUNKD_PATH+"/services/"+path;var owner=options.owner||"-",app=options.app||"-";return options.sharing=(options.sharing||"").toLowerCase(),"app"===options.sharing||"global"===options.sharing?owner="nobody":"system"===options.sharing&&(owner="nobody",app="system"),splunkConfig.SPLUNKD_PATH+"/servicesNS/"+encodeURIComponent(owner)+"/"+encodeURIComponent(app)+"/"+path},createMessageObject=function(type,message,help){type=type.toLowerCase();var jsonStart=message.indexOf("~!~{"),jsonEnd=message.lastIndexOf("}~!~"),messageText=message;if(-1!=jsonStart&&-1!=jsonEnd)try{var jsonBlock=message.slice(jsonStart+3,jsonEnd+1);messageText=JSON.parse(jsonBlock).errorMessageEnglish}catch(e){}return{key:_.uniqueId("splunkd_"+type),type:type,message:messageText,text:messageText,help:help}},parseMessagesObject=function(messages){return messages?_(messages).map(function(message){return createMessageObject(message.type,message.text,message.help||"")}):[]},getHeaders=function(headersString){for(var headers={},headerLines=headersString.split("\n"),i=0;i<headerLines.length;i++)if(""!==headerLines[i].trim()){var headerParts=headerLines[i].split(": ");headers[headerParts[0]]=headerParts[1]}return headers};return{RISKY_COMMAND:"risky_command",FATAL:"fatal",ERROR:"error",WARNING:"warn",INFO:"info",NOT_FOUND:"404",NETWORK_ERROR:"network_error",SYSTEM:"system",GLOBAL:"global",APP:"app",USER:"user",NOBODY:"nobody",WILDCARD:"-",VERBOSE:"verbose",FAST:"fast",SMART:"smart",VALUES_REGEX:generalUtils.VALUES_REGEX,QUOTES_REGEX:generalUtils.QUOTES_REGEX,DEFAULT_LOCALE:"en-US",fullpath:fullpath,prepareSyncOptions:function(options,baseUrl){var appOwner={},defaults={data:{output_mode:"json"}};return options&&options.data&&(appOwner=$.extend(appOwner,{app:options.data.app||void 0,owner:options.data.owner||void 0,sharing:options.data.sharing||void 0}),delete options.data.app,delete options.data.owner,delete options.data.sharing),defaults.url=fullpath(baseUrl,appOwner),$.extend(!0,defaults,options||{})},nameFromString:function(str){return(str=str||"").toLowerCase().replace(/\s/g,"_").replace(/\W/g,"")},quoteSearchFilterValue:function(value){return JSON.stringify(String(value))},createSearchFilterString:function(value,keys,options){var values=value&&value.match(generalUtils.VALUES_REGEX)||[];return options=options||{},_(keys).map(function(key){if(values.length){var result="("+_.chain(values).map(function(value){if(value.match(generalUtils.QUOTES_REGEX)){var len=value.length;value=value.substring(1,len-1)}return[key,'="*',value.replace(/'/g,"\\'").replace(/"/g,'\\"'),'*"'].join("")},this).join(" AND ").value();return options.conditions&&options.conditions[key]&&(result+=" AND "+options.conditions[key]),result+")"}return[key,"=*"].join("")},this).join(" OR ")},createSearchFilterObj:function(value,keys){var values=value&&value.match(generalUtils.VALUES_REGEX)||[],filterObj={};if(values.length){var matches=[];_(values).each(function(value){if(value.match(generalUtils.QUOTES_REGEX)){var len=value.length;value=value.substring(1,len-1)}matches.push(value.replace(/'/g,"\\'").replace(/"/g,'"'))},this),_(keys).each(function(key){filterObj[key]=matches},this)}return filterObj},parseError:function(error){var parsedError,passedErrors={};if(error.responseText){try{parsedError=JSON.parse(error.responseText)}catch(e){parsedError={}}parsedError.messages&&_.each(parsedError.messages,function(value){passedErrors["splunkD:"+value.type]=value.text})}else passedErrors=error;return passedErrors},parseMessagesObject:parseMessagesObject,createMessageObject:createMessageObject,messagesContainsOneOfTypes:function(messages,types){if(messages)for(var i=0;i<messages.length;i++)if(-1!=_.indexOf(types,messages[i].type))return!0;return!1},addAnchorsToWildcardArray:function(wildcardArray){return _.map(wildcardArray,function(wildcard){return/^\^/.test(wildcard)?wildcard:"^"+wildcard})},createSplunkDMessage:function(type,text){return{messages:[{type:type,text:text}]}},getSharingLabel:function(sharing){switch(sharing){case"user":return _("Private").t();case"app":return _("App").t();case"global":case"system":return _("Global").t()}},getPermissionLabel:function(sharing,owner){switch(sharing){case"user":return splunkUtils.sprintf(_("Private. Owned by %s.").t(),owner);case"app":return splunkUtils.sprintf(_("Shared in App. Owned by %s.").t(),owner);case"global":case"system":return splunkUtils.sprintf(_("Shared Globally. Owned by %s.").t(),owner)}return""},normalizeType:function(type){return"fatal"===type?"error":"warn"===type?"warning":type},filterMessagesByTypes:function(messages,types){var filteredMessages=[];if(messages)for(var i=0;i<messages.length;i++)-1!=_.indexOf(types,messages[i].type)&&filteredMessages.push(messages[i]);return filteredMessages},xhrErrorResponseParser:function(response,id){var responseData={},isValidJSON=!0,messages=[];if(id=id||_("object from SplunkD").t(),response.hasOwnProperty("responseText")&&response.hasOwnProperty("getResponseHeader")){var contentType=response.getResponseHeader("Content-Type");if(contentType&&-1<contentType.indexOf("application/json")&&response.responseText)try{responseData=JSON.parse(response.responseText)}catch(e){isValidJSON=!1}}if(response.hasOwnProperty("data")&&(responseData=responseData.data),response.hasOwnProperty("status")&&(404==response.status&&$.isEmptyObject(responseData)?messages.push(createMessageObject("404",splunkUtils.sprintf(_("Could not retrieve %s. Make sure that this resource exists and has the correct permissions.").t(),id))):0!=response.status&&12029!=response.status||messages.push(createMessageObject("network_error",_("Your network connection may have been lost or Splunk may be down.").t()))),isValidJSON)if(responseData.messages)messages=messages.concat(parseMessagesObject(responseData.messages));else if(response.messages){var responseMessages=parseMessagesObject(response.messages);responseMessages.length?messages=messages.concat(responseMessages):messages.push(createMessageObject("error",_("Server error").t()))}else _.isString(response)&&messages.push(createMessageObject("error",response));else messages.push(createMessageObject("error",splunkUtils.sprintf(_("Invalid JSON from: %s.").t(),id)));return messages.length||messages.push(createMessageObject("error",_("Server error").t())),messages},normalizeValuesForPOST:function(values){var valuesCopy=$.extend(!0,{},values);return _.each(valuesCopy,function(value,key){"boolean"==typeof value&&(valuesCopy[key]=value?"1":"0")}),valuesCopy},normalizeBooleanTo01String:function(value){return splunkUtils.normalizeBoolean(value)?"1":"0"},isExistingEntity:function(payload){return!(!(payload&&payload.entry&&_.isArray(payload.entry)&&payload.entry[0].links&&payload.entry[0].links.alternate)||/.\/_new$/.test(payload.entry[0].links.alternate))},getHeaders:getHeaders,convertToSDKResponse:function(response){return{status:response.status,error:response.statusText,data:response.responseJSON,response:{statusCode:response.status,headers:getHeaders(response.getAllResponseHeaders())}}}}}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"util/time":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("stubs/i18n"),__webpack_require__("shim/splunk.util"),__webpack_require__("util/moment"),__webpack_require__("util/console")],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(_,i18n,splunkUtils,moment,console){var BD_TIME_REGEX_MILLIS=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})\.(\d+)[+-]{1}\d{2}[:]?\d{2}$/,BD_TIME_REGEX_NO_MILLIS=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})[+-]{1}\d{2}[:]?\d{2}$/,STRIP_TIMEZONE_REGEX=/^(\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.{0,1}(\d*))[+-]{1}\d{2}[:]?\d{2}$/,u={},language=i18n.locale_name().substring(0,2);u.s=u.sec=u.secs=u.second=u.seconds={abbr:"s",singular:_("second").t(),plural:_("seconds").t()},u.m=u.min=u.mins=u.minute=u.minutes={abbr:"m",singular:_("minute").t(),plural:_("minutes").t()},u.h=u.hr=u.hrs=u.hour=u.hours={abbr:"h",singular:_("hour").t(),plural:_("hours").t()},u.d=u.day=u.days={abbr:"d",singular:_("day").t(),plural:_("days").t()},u.w=u.week=u.weeks={abbr:"w",singular:_("week").t(),plural:_("weeks").t()},u.mon=u.month=u.months={abbr:"mon",singular:_("month").t(),plural:_("months").t()},u.q=u.qtr=u.qtrs=u.quarter=u.quarters={abbr:"q",singular:_("quarter").t(),plural:_("quarters").t()},u.y=u.yr=u.yrs=u.year=u.years={abbr:"y",singular:_("year").t(),plural:_("years").t()};var TIME_UNITS=u,BdTime=function(isoString){var bdPieces=BD_TIME_REGEX_MILLIS.exec(isoString)||BD_TIME_REGEX_NO_MILLIS.exec(isoString);bdPieces?(this.year=parseInt(bdPieces[1],10),this.month=parseInt(bdPieces[2],10),this.day=parseInt(bdPieces[3],10),this.hour=parseInt(bdPieces[4],10),this.minute=parseInt(bdPieces[5],10),this.second=parseInt(bdPieces[6],10),this.millisecond=7<bdPieces.length?parseInt(bdPieces[7],10):0):this.isInvalid=!0},extractBdTime=function(timeString){return new BdTime(timeString)},getTimezoneString=function(dateObj){var timezoneOffset=dateObj.getTimezoneOffset(),absoluteValueTimezoneOffset=Math.abs(timezoneOffset),hours=Math.floor(absoluteValueTimezoneOffset/60),minutes=absoluteValueTimezoneOffset%60;return(0<timezoneOffset?"-":"+")+(hours<10?"0"+hours:""+hours)+":"+(minutes<10?"0"+minutes:""+minutes)},convertToRelativeTime=function(endTime,startTime,withoutSuffix){if(!endTime)return null;var endMoment=moment.unix(endTime);return void 0!==startTime?endMoment.from(moment.unix(startTime),withoutSuffix):endMoment.fromNow(withoutSuffix)},normalizeUnit=function(abbr,required){var hasUnit=TIME_UNITS.hasOwnProperty(abbr),defaultUnit=!1===required?"":TIME_UNITS.s.abbr;return hasUnit?TIME_UNITS[abbr].abbr:defaultUnit},parseTimeString=function(timeString){if(!_.isString(timeString))return!1;var parse=timeString.match(/^\s*(rt|)([-+]?)(\d*)([a-zA-Z]*)(@?)([a-zA-Z]*)(\d*)\s*$/);if(parse){var normalizedUnit=normalizeUnit(parse[4],!1),hasSnap=""!==parse[5];return{amount:normalizedUnit?parseInt(parse[3],10)||1:0,unit:normalizedUnit,hasSnap:hasSnap,snapUnit:normalizeUnit(parse[6],!1),snapUnitAmount:parseInt(parse[7],10),isNow:"now"===parse[4],isRealTime:"rt"===parse[1],isPositive:"+"===parse[2]||!0,parse:parse}}return!1},isRealtime=function(time){return _.isString(time)&&0===time.indexOf("rt")},isAbsolute=function(time){return void 0!==time&&(_.isNumber(time)||!/^(now|-|\+|@|rt).*/.test(time))},timeAndJsDateIsWholeDay=function(time,jsDate){return!(!isAbsolute(time)||!jsDate)&&(0==jsDate.getHours()&&0==jsDate.getMinutes()&&0==jsDate.getSeconds()&&0==jsDate.getMilliseconds())},isNow=function(time){return!time||_.isString(time)&&(""===time||/now/.test(time))},isEmpty=function(time){return"0"===time||!time},findPresetLabel=function(presetsCollection,earliest,latest){var presetModel;return!!(0<presetsCollection.length&&(presetModel=presetsCollection.find(function(model){var timesConfEarliest=model.entry.content.get("earliest_time"),timesConfLatest=model.entry.content.get("latest_time"),noEarliests=isEmpty(timesConfEarliest)&&isEmpty(earliest),noLatests=isEmpty(timesConfLatest)&&isEmpty(latest);return!model.isDisabled()&&(noEarliests||timesConfEarliest==earliest)&&(noLatests||timesConfLatest==latest)})))&&presetModel.entry.content.get("label")},generateRealtimeLabel=function(earliest,latest){var earliestParse,latestIsNow;if(isRealtime(earliest)||isRealtime(latest)){earliestParse=parseTimeString(earliest),latestIsNow=isNow(latest);var labelTemplates={s:_("%(time)d second window").t(),m:_("%(time)d minute window").t(),h:_("%(time)d hour window").t(),d:_("%(time)d day window").t(),w:_("%(time)d week window").t(),mon:_("%(time)d month window").t(),q:_("%(time)d quarter window").t(),y:_("%(time)d year window").t()};return earliestParse&&earliestParse.amount&&latestIsNow&&labelTemplates.hasOwnProperty(earliestParse.unit)?splunkUtils.sprintf(labelTemplates[earliestParse.unit],{time:earliestParse.amount}):_("Real-time").t()}return!1},generateRelativeTimeLabel=function(earliest,latest){var earliestParse=parseTimeString(earliest),latestParse=(isNow(latest),parseTimeString(latest));return!(!earliestParse||earliestParse.isRealTime||latestParse.isRealTime)&&(!(!earliestParse.amount||earliestParse.snapUnit&&earliestParse.unit!==earliestParse.snapUnit||!(latestParse.isNow||latestParse.snapUnit&&!latestParse.amount)||latestParse.snapUnit&&earliestParse.unit!==latestParse.snapUnit)&&splunkUtils.sprintf(_("Last %(amount)d %(unit)s").t(),{amount:earliestParse.amount,unit:TIME_UNITS[earliestParse.unit][1<earliestParse.amount?"plural":"singular"]}))},generateBetweenTimeLabel=function(earliest,earliestJSDate,latest,latestJSDate){var earliestIsWholeDay=timeAndJsDateIsWholeDay(earliest,earliestJSDate),latestIsWholeDay=timeAndJsDateIsWholeDay(latest,latestJSDate);if(earliestIsWholeDay&&latestIsWholeDay){if("en"==language)return i18n.format_datetime_range(null,earliestJSDate,latestJSDate,!0);var labelDate=new Date(latestJSDate.getTime());return labelDate.setDate(labelDate.getDate()-1),splunkUtils.sprintf(_("%(earliesttime)s through %(latesttime)s").t(),{earliesttime:i18n.format_date(earliestJSDate,"short"),latesttime:i18n.format_date(labelDate,"short")})}return!1},generateSinceDateLabel=function(earliest,earliestJSDate,latest){var earliestIsWholeDay=timeAndJsDateIsWholeDay(earliest,earliestJSDate),latestIsNow=isNow(latest);return!(!earliestIsWholeDay||!latestIsNow)&&splunkUtils.sprintf(_("Since %(time)s").t(),{time:i18n.format_date(earliestJSDate,"short")})},generateBeforeDateLabel=function(earliest,latest,latestJSDate){return!(!isEmpty(earliest)||!timeAndJsDateIsWholeDay(latest,latestJSDate))&&splunkUtils.sprintf(_("Before %(time)s").t(),{time:i18n.format_date(latestJSDate,"short")})},generateDateTimeRangeLabel=function(earliest,latest){return!(isEmpty(earliest)||!isAbsolute(earliest)||!isAbsolute(latest))&&_("Date time range").t()},generateSinceTimeRangeLabel=function(earliest,latest){return!(!isAbsolute(earliest)||!isNow(latest))&&_("Since date time").t()},generateBeforeTimeRangeLabel=function(earliest,latest){return!(!isEmpty(earliest)||!isAbsolute(latest))&&_("Before date time").t()},generateAllTimeLabel=function(earliest,latest){return!(!isEmpty(earliest)||!isNow(latest))&&_("All time").t()};return{extractBdTime:extractBdTime,bdTimeToDateObject:function(bdTime){var year=bdTime.year,month=bdTime.month-1,day=bdTime.day,hour=bdTime.hour,minute=bdTime.minute,second=bdTime.second,millisecond=bdTime.millisecond;return new Date(year,month,day,hour,minute,second,millisecond)},rangeFromIsoAndOffset:function(iso,unit,amount,type){if(amount=parseInt(amount,10),amount=isNaN(amount)?1:amount,-1===["plus","minus","plusminus"].indexOf(type=void 0===type?"plusminus":type))throw new Error("Invalid type");var origanalDate=new Date(iso),lowerRange=new Date(iso),upperRange=new Date(iso);switch(unit){case"w":lowerRange.setDate(lowerRange.getDate()-7*amount),upperRange.setDate(upperRange.getDate()+7*amount);break;case"d":lowerRange.setDate(lowerRange.getDate()-amount),upperRange.setDate(upperRange.getDate()+amount);break;case"h":lowerRange.setHours(lowerRange.getHours()-amount),upperRange.setHours(upperRange.getHours()+amount);break;case"m":lowerRange.setMinutes(lowerRange.getMinutes()-amount),upperRange.setMinutes(upperRange.getMinutes()+amount);break;case"s":lowerRange.setSeconds(lowerRange.getSeconds()-amount),upperRange.setSeconds(upperRange.getSeconds()+amount);break;case"ms":lowerRange.setMilliseconds(lowerRange.getMilliseconds()-amount),upperRange.setMilliseconds(upperRange.getMilliseconds()+amount);break;default:throw new Error("Invalid unit")}return{lowerRange:"minus"===type||"plusminus"===type?lowerRange:origanalDate,upperRange:"plus"===type||"plusminus"===type?upperRange:origanalDate}},getTimezoneString:getTimezoneString,isoToDateObject:function(isoString){var matches=STRIP_TIMEZONE_REGEX.exec(isoString);if(matches){var isoWithoutTimezone=matches[1],isoWithSpoofedTimezone=isoWithoutTimezone+getTimezoneString(new Date),correctedIso=isoWithoutTimezone+getTimezoneString(moment(isoWithSpoofedTimezone).toDate());return moment(correctedIso).toDate()}return new Date(NaN)},determineLabelGranularity:function(times,spanSeries){if(times[0]instanceof BdTime||(times=_(times).map(extractBdTime)),1===(times=_(times).filter(function(time){return!time.isInvalid})).length&&(!spanSeries||0===spanSeries.length))return 0===times[0].millisecond?"second":"millisecond";if(1===times.length&&spanSeries)return function(time,spanSeries){var span=parseFloat(spanSeries[0]);return time instanceof BdTime||(time=extractBdTime(time)),span?0<=span&&span<1||0!==time.millisecond?"millisecond":1<=span&&span<60||0!==time.second?"second":60<=span&&span<3600||0!==time.minute?"minute":3600<=span&&span<=82800||0!==time.hour?"hour":82800<span&&span<=2419200||1!==time.day?"day":2419200<span&&span<=31535999||1!==time.month?"month":31536e3<=span?"year":(console.log("_span value ("+span+") did not meet any time formatting condition"),"second"):0===time.millisecond?"second":"millisecond"}(times[0],spanSeries);var milliseconds=[],seconds=[],minutes=[],hours=[],days=[],months=[],allInListMatch=function(list,matchMe){for(var i=0;i<list.length;i++)if(list[i]!==matchMe)return!1;return!0};return _(times).each(function(time){milliseconds.push(time.millisecond),seconds.push(time.second),minutes.push(time.minute),hours.push(time.hour),days.push(time.day),months.push(time.month)}),allInListMatch(milliseconds,0)?allInListMatch(seconds,0)?allInListMatch(minutes,0)?allInListMatch(hours,0)?allInListMatch(days,1)?allInListMatch(months,1)?"year":"month":"day":"hour":"minute":"second":"millisecond"},isValidIsoTime:function(str){return BD_TIME_REGEX_MILLIS.test(str)||BD_TIME_REGEX_NO_MILLIS.test(str)},TIME_UNITS:TIME_UNITS,ISO_PATTERN:"%Y-%m-%dT%H:%M:%S.%Q%:z",normalizeUnit:normalizeUnit,parseTimeString:parseTimeString,parseTimeModifier:function(timeString){if(!_.isString(timeString))return!1;var parse=timeString.match(/^([+-])([0-9]+)([a-zA-Z]+)@?[a-zA-Z]*$/);return!!parse&&{timeVariance:parse[1],amount:parse[2],unit:normalizeUnit(parse[3],!1)}},isRealtime:isRealtime,stripRTSafe:function(timeString,isLatest){var parsedTimeString,strippedString;return isRealtime(timeString)&&(parsedTimeString=parseTimeString(timeString))?parsedTimeString.unit||parsedTimeString.isNow?parsedTimeString.parse.slice(2,parsedTimeString.parse.length).join(""):(strippedString=parsedTimeString.parse.slice(3,parsedTimeString.parse.length).join(""))?(parsedTimeString.isPositive?"+":"-")+strippedString:isLatest?"":"0":timeString},isAbsolute:isAbsolute,isEpoch:function(time){return _.isNumber(time)||_.isString(time)&&/^\d+((\.\d+)|(\d*))$/.test(time)&&"0"!==time},timeAndJsDateIsWholeDay:timeAndJsDateIsWholeDay,isNow:isNow,isEmpty:isEmpty,compareTwoTimeRanges:function(earliest1,latest1,earliest2,latest2){return!!(isEmpty(earliest1)&&isEmpty(earliest2)&&isNow(latest1)&&isNow(latest2))||!(!isEmpty(earliest1)||!isEmpty(earliest2)||latest1!==latest2)||!(earliest1!==earliest2||!isNow(latest1)||!isNow(latest2))||earliest1===earliest2&&latest1===latest2},findPresetLabel:findPresetLabel,generateRealtimeLabel:generateRealtimeLabel,generateRelativeTimeLabel:generateRelativeTimeLabel,generateBetweenTimeLabel:generateBetweenTimeLabel,generateSinceDateLabel:generateSinceDateLabel,generateBeforeDateLabel:generateBeforeDateLabel,generateDateTimeRangeLabel:generateDateTimeRangeLabel,generateSinceTimeRangeLabel:generateSinceTimeRangeLabel,generateBeforeTimeRangeLabel:generateBeforeTimeRangeLabel,generateAllTimeLabel:generateAllTimeLabel,generateLabel:function(presetsCollection,earliest,earliestJSDate,latest,latestJSDate){return generateAllTimeLabel(earliest,latest)||findPresetLabel(presetsCollection,earliest,latest)||generateRealtimeLabel(earliest,latest)||generateRelativeTimeLabel(earliest,latest)||generateBetweenTimeLabel(earliest,earliestJSDate,latest,latestJSDate)||generateSinceDateLabel(earliest,earliestJSDate,latest)||generateBeforeDateLabel(earliest,latest,latestJSDate)||generateDateTimeRangeLabel(earliest,latest)||generateSinceTimeRangeLabel(earliest,latest)||generateBeforeTimeRangeLabel(earliest,latest)||_("Custom time").t()},convertToRelativeTime:convertToRelativeTime,convertToLocalTime:function(epochTime){return epochTime?new Date(1e3*epochTime).toLocaleString():null},jsDateToSplunkDateTimeWithMicroseconds:function(jsDate){var dateTime=new i18n.DateTime({date:jsDate,year:jsDate.getFullYear(),month:jsDate.getMonth()+1,day:jsDate.getDate(),hour:jsDate.getHours(),minute:jsDate.getMinutes(),second:jsDate.getSeconds(),microsecond:1e3*jsDate.getMilliseconds()});return dateTime.weekday=function(){var d=this.date.getDay()-1;return d<0&&(d=6),d},dateTime},getRelativeStringFromSeconds:function(seconds,removeAgo){_.isString(seconds)&&(seconds=parseInt(seconds,10));var startTime=(new Date).getTime()/1e3;return convertToRelativeTime(startTime-seconds,startTime,removeAgo)},convertAmountAndUnitToSeconds:function(amount,unit){var seconds=amount;switch(unit){case"d":seconds*=86400;break;case"h":seconds*=3600;break;case"m":seconds*=60}return seconds},secondsToSeparatedDate:function(time,hourCap){var hours,minutes,years=0,days=0,curTimeCounter=time;return hourCap||(curTimeCounter-=31557600*(years=Math.floor(curTimeCounter/31557600)),curTimeCounter-=86400*(days=Math.floor(curTimeCounter/86400))),curTimeCounter-=3600*(hours=Math.floor(curTimeCounter/3600)),curTimeCounter-=60*(minutes=Math.floor(curTimeCounter/60)),{years:years,days:days,hours:hours,minutes:minutes,seconds:time<1?Math.ceil(curTimeCounter):Math.round(curTimeCounter)}},makeTodayRelativeWithNoTimeZone:function(time){var date=new Date(time),mDate=moment(date);return mDate.isSame(new Date,"day")?mDate.fromNow():date.toString().slice(0,24)},RESULTS_TIMESTAMP_FORMATS:{year:"YYYY",month:"YYYY-MM",day:"YYYY-MM-dd",hour:"YYYY-MM-dd HH:00",minute:"YYYY-MM-dd HH:mm:00",second:"YYYY-MM-dd HH:mm:ss",millisecond:"YYYY-MM-dd HH:mm:ss.TTT"}}}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"util/url":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("util/console")],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(_,console){function _encodePrimitiveValue(value){if(_.isObject(value))throw console.error("Encountered non-primitive value %o to be encoded as URL param.",value),new Error("Non-primitive values are not allowed in the query string");return encodeURIComponent(value)}return{encode:function(params,options){var encodedKey,queryArray=[];return options=_.extend({preserveEmptyStrings:!0,preserveNull:!0},options),_.each(params,function(value,key){_.isUndefined(value)||null===value&&!options.preserveNull||""===value&&!options.preserveEmptyStrings||(encodedKey=encodeURIComponent(key),null===value?queryArray.push(encodedKey):_.isArray(value)?_.each(value,function(v){queryArray.push(encodedKey+"="+_encodePrimitiveValue(v))}):queryArray.push(encodedKey+"="+_encodePrimitiveValue(value)))}),queryArray.join("&")},decode:function(queryString){if(!(queryString=(queryString||"").replace(/^[&\?#]|[&#]$/g,"")))return{};var output={};return _(queryString.split("&")).each(function(param){var parts=param.split("=",2),key=decodeURIComponent(parts[0]),value=1<parts.length?decodeURIComponent(parts[1]):null;if(output.hasOwnProperty(key)){var cur=output[key];_.isArray(cur)||(cur=output[key]=[cur]),cur.push(value)}else output[key]=value}),output}}}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"validation/ValidationMixin":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("require/underscore"),__webpack_require__("require/backbone"),__webpack_require__("contrib/backbone-validation-amd")],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(_,Backbone){return _.extend(Backbone.Validation.messages,{required:"{label} is required",acceptance:"{label} must be accepted",min:"{label} must be greater than or equal to {1}",max:"{label} must be less than or equal to {1}",range:"{label} must be between {1} and {2}",length:"{label} must be {1} characters",minLength:"{label} must be at least {1} characters",maxLength:"{label} must be at most {1} characters",rangeLength:"{label} must be between {1} and {2} characters",oneOf:"{label} must be one of: {1}",equalTo:"{label} must be the same as {1}",pattern:"{label} must be a valid {1}"}),Backbone.Validation.mixin}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}});